{"version":3,"sources":["webpack:///node_modules/marked/lib/marked.js","webpack:///node_modules/prismjs/prism.js","webpack:///src/assets/scripts/prism.js","webpack:///node_modules/openseadragon/build/openseadragon/openseadragon.min.js","webpack:///node_modules/svg-overlay/openseadragon-svg-overlay.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,EAAE;AACf;AACA,UAAU,IAAI,SAAS,GAAG,SAAS,GAAG,UAAU,GAAG;AACnD,kBAAkB,IAAI;AACtB;AACA,mBAAmB,IAAI;AACvB,0CAA0C,GAAG;AAC7C,YAAY,IAAI;AAChB;AACA;AACA;AACA;AACA;AACA,+CAA+C,GAAG;AAClD,2FAA2F,GAAG;AAC9F,2EAA2E,GAAG;AAC9E;AACA,WAAW,IAAI;AACf;AACA,gCAAgC,GAAG;AACnC,oDAAoD,IAAI;AACxD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,GAAG,SAAS,GAAG,WAAW,GAAG;AACrE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB;;AAEvB;AACA;AACA;;AAEA,oBAAoB;AACpB,iBAAiB,GAAG,GAAG,GAAG;AAC1B;AACA,kBAAkB,IAAI;AACtB,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB;AACvB;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,yBAAyB;AACzB;AACA;AACA,uCAAuC,GAAG;AAC1C,gEAAgE,GAAG;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,uBAAuB;AAC1C;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;;AAEA,mBAAmB,uBAAuB;AAC1C;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,YAAY,OAAO;AACnB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0CAA0C,gBAAgB;AAC1D,+BAA+B,IAAI;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,uBAAuB;AAC1C;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;;AAEA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kCAAkC,eAAe,EAAE;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd;AACA,sCAAsC,GAAG;AACzC;;AAEA,yCAAyC,eAAe,EAAE;;AAE1D,yCAAyC,KAAK;AAC9C,2CAA2C,EAAE,kCAAkC,KAAK,6CAA6C,KAAK;AACtI;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wBAAwB;;AAExB;AACA;AACA;;AAEA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,0BAA0B,oCAAoC,UAAU;AACxE;AACA;AACA;AACA,uEAAuE,IAAI;AAC3E;AACA,CAAC;;AAED;AACA;AACA;;AAEA,wBAAwB;AACxB,gCAAgC,GAAG;AACnC,wCAAwC,GAAG;AAC3C,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA,iBAAiB,EAAE;AACnB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAQ,OAAO;AACf;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,iBAAiB,6BAA6B;AAC1D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,8BAA8B;AAC/C;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA,iBAAiB,6BAA6B;AAC9C;;AAEA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,kBAAkB;AACpD,wBAAwB;AACxB,wBAAwB;AACxB,0BAA0B;AAC1B,yBAAyB;AACzB;;AAEA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,QAAQ,sBAAsB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA,QAAQ,kBAAkB;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,4BAA4B;;AAE9C;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,UAAU,mBAAmB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;;AAEA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD,qBAAqB,eAAe,EAAE;AACtC,CAAC;AACD;AACA;AACA,CAAC;;;ACniDD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ,sCAAsC,sBAAsB;AAC5D;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA,wCAAwC,oBAAoB;AAC5D;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;;AAEN;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF,YAAY;;AAEZ;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,wBAAwB,yBAAyB;AACjD;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAkB,qBAAqB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,uCAAuC,mBAAmB;;AAE1D;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mCAAmC,mEAAmE;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,EAAE;;AAEF;AACA,SAAS;;AAET;AACA;;AAEA;;AAEA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA,0BAA0B,2BAA2B;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,yEAAyE;AACzE,EAAE;;AAEF;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;AACF,uBAAuB,KAAK;AAC5B;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,sDAAsD;AACtD;AACA,CAAC;;AAED;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,2BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,kBAAkB,QAAQ,WAAW;AACrC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,uBAAuB;AACvB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,oBAAoB,IAAI;AACxB;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0GAA0G,EAAE;AAC5G,CAAC;;AAED;AACA;AACA,6FAA6F,IAAI,kBAAkB;AACnH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,CAAC;;AAED;AACA;AACA,4BAA4B,GAAG,GAAG;AAClC;AACA;AACA;AACA,iBAAiB,GAAG,GAAG;AACvB;AACA;AACA,oBAAoB,EAAE;AACtB;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;A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","file":"scripts.js","sourcesContent":["/**\n * marked - a markdown parser\n * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n;(function(root) {\n'use strict';\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n  nptable: noop,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=\\\\h*\\\\n)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=\\\\h*\\\\n)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading| {0,3}>|<\\/?(?:tag)(?: +|\\n|\\/?>)|<(?:script|pre|style|!--))[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d+\\.)/;\nblock.item = /^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex();\n\nblock.paragraph = edit(block.paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', block.heading)\n  .replace('lheading', block.lheading)\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ *(`{3,}|~{3,})[ \\.]*(\\S+)? *\\n([\\s\\S]*?)\\n? *\\1 *(?:\\n+|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = edit(block.paragraph)\n  .replace('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  .getRegex();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:.*[^>\\n ].*(?:\\n|$))*)\\n*|$)/,\n  table: /^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n((?: *[^>\\n ].*(?:\\n|$))*)\\n*|$)/\n});\n\n/**\n * Pedantic grammar\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = Object.create(null);\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.pedantic) {\n    this.rules = block.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top) {\n  src = src.replace(/^ +$/gm, '');\n  var next,\n      loose,\n      cap,\n      bull,\n      b,\n      item,\n      listStart,\n      listItems,\n      t,\n      space,\n      i,\n      tag,\n      l,\n      isordered,\n      istask,\n      ischecked;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? rtrim(cap, '\\n')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (top && (cap = this.rules.nptable.exec(src))) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(item.cells[i], item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n      isordered = bull.length > 1;\n\n      listStart = {\n        type: 'list_start',\n        ordered: isordered,\n        start: isordered ? +bull : '',\n        loose: false\n      };\n\n      this.tokens.push(listStart);\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      listItems = [];\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) +/, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (this.options.smartLists && i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        if (loose) {\n          listStart.loose = true;\n        }\n\n        // Check for task list items\n        istask = /^\\[[ xX]\\] /.test(item);\n        ischecked = undefined;\n        if (istask) {\n          ischecked = item[1] !== ' ';\n          item = item.replace(/^\\[[ xX]\\] +/, '');\n        }\n\n        t = {\n          type: 'list_item_start',\n          task: istask,\n          checked: ischecked,\n          loose: loose\n        };\n\n        listItems.push(t);\n        this.tokens.push(t);\n\n        // Recurse.\n        this.token(item, false);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      if (listStart.loose) {\n        l = listItems.length;\n        i = 0;\n        for (; i < l; i++) {\n          listItems[i].loose = true;\n        }\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if (top && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      if (!this.tokens.links[tag]) {\n        this.tokens.links[tag] = {\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n      continue;\n    }\n\n    // table (gfm)\n    if (top && (cap = this.rules.table.exec(src))) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/(?: *\\| *)?\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(\n            item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''),\n            item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noop,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(href(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n  nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n  strong: /^__([^\\s])__(?!_)|^\\*\\*([^\\s])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n  em: /^_([^\\s_])_(?!_)|^\\*([^\\s*\"<\\[])\\*(?!\\*)|^_([^\\s][\\s\\S]*?[^\\s_])_(?!_)|^_([^\\s_][\\s\\S]*?[^\\s])_(?!_)|^\\*([^\\s\"<\\[][\\s\\S]*?[^\\s*])\\*(?!\\*)|^\\*([^\\s*\"<\\[][\\s\\S]*?[^\\s])\\*(?!\\*)/,\n  code: /^(`+)\\s*([\\s\\S]*?[^`]?)\\s*\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noop,\n  text: /^[\\s\\S]+?(?=[\\\\<!\\[`*]|\\b_| {2,}\\n|$)/\n};\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex();\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\ninline.tag = edit(inline.tag)\n  .replace('comment', block._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex();\n\ninline._label = /(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]?|`[^`]*`|[^\\[\\]\\\\])*?/;\ninline._href = /\\s*(<(?:\\\\[<>]?|[^\\s<>\\\\])*>|(?:\\\\[()]?|\\([^\\s\\x00-\\x1f\\\\]*\\)|[^\\s\\x00-\\x1f()\\\\])*?)/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  url: edit(/^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/)\n    .replace('email', inline._email)\n    .getRegex(),\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n  text: edit(inline.text)\n    .replace(']|', '~]|')\n    .replace('|', '|https?://|ftp://|www\\\\.|[a-zA-Z0-9.!#$%&\\'*+/=?^_`{\\\\|}~-]+@|')\n    .getRegex()\n});\n\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace('{2,}', '*').getRegex()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer();\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = '',\n      link,\n      text,\n      href,\n      title,\n      cap,\n      prevCapZero;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += cap[1];\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(this.mangle(cap[1]));\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      do {\n        prevCapZero = cap[0];\n        cap[0] = this.rules._backpedal.exec(cap[0])[0];\n      } while (prevCapZero !== cap[0]);\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0]\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      href = cap[2];\n      if (this.options.pedantic) {\n        link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        } else {\n          title = '';\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n      href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n      out += this.outputLink(cap, {\n        href: InlineLexer.escapes(href),\n        title: InlineLexer.escapes(title)\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[4] || cap[3] || cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2].trim(), true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.text(escape(this.smartypants(cap[0])));\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\nInlineLexer.escapes = function(text) {\n  return text ? text.replace(InlineLexer.rules._escapes, '$1') : text;\n}\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = link.href,\n      title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = '',\n      l = text.length,\n      i = 0,\n      ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || marked.defaults;\n}\n\nRenderer.prototype.code = function(code, lang, escaped) {\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw) {\n  if (this.options.headerIds) {\n    return '<h'\n      + level\n      + ' id=\"'\n      + this.options.headerPrefix\n      + raw.toLowerCase().replace(/[^\\w]+/g, '-')\n      + '\">'\n      + text\n      + '</h'\n      + level\n      + '>\\n';\n  }\n  // ignore IDs\n  return '<h' + level + '>' + text + '</h' + level + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered, start) {\n  var type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n  return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.checkbox = function(checked) {\n  return '<input '\n    + (checked ? 'checked=\"\" ' : '')\n    + 'disabled=\"\" type=\"checkbox\"'\n    + (this.options.xhtml ? ' /' : '')\n    + '> ';\n}\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  if (body) body = '<tbody>' + body + '</tbody>';\n\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + body\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' align=\"' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  if (this.options.sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return text;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return text;\n    }\n  }\n  if (this.options.baseUrl && !originIndependentUrl.test(href)) {\n    href = resolveUrl(this.options.baseUrl, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return text;\n  }\n  var out = '<a href=\"' + escape(href) + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  if (this.options.baseUrl && !originIndependentUrl.test(href)) {\n    href = resolveUrl(this.options.baseUrl, href);\n  }\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\n\nfunction TextRenderer() {}\n\n// no need for block level renderers\n\nTextRenderer.prototype.strong =\nTextRenderer.prototype.em =\nTextRenderer.prototype.codespan =\nTextRenderer.prototype.del =\nTextRenderer.prototype.text = function (text) {\n  return text;\n}\n\nTextRenderer.prototype.link =\nTextRenderer.prototype.image = function(href, title, text) {\n  return '' + text;\n}\n\nTextRenderer.prototype.br = function() {\n  return '';\n}\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer();\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options) {\n  var parser = new Parser(options);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options);\n  // use an InlineLexer with a TextRenderer to extract pure text\n  this.inlineText = new InlineLexer(\n    src.links,\n    merge({}, this.options, {renderer: new TextRenderer()})\n  );\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        unescape(this.inlineText.output(this.token.text)));\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = '',\n          body = '',\n          i,\n          row,\n          cell,\n          j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      body = '';\n      var ordered = this.token.ordered,\n          start = this.token.start;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered, start);\n    }\n    case 'list_item_start': {\n      body = '';\n      var loose = this.token.loose;\n\n      if (this.token.task) {\n        body += this.renderer.checkbox(this.token.checked);\n      }\n\n      while (this.next().type !== 'list_item_end') {\n        body += !loose && this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'html': {\n      // TODO parse inline content if parameter markdown=1\n      return this.renderer.html(this.token.text);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n  }\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  return html\n    .replace(!encode ? /&(?!#?\\w+;)/g : /&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n}\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction edit(regex, opt) {\n  regex = regex.source || regex;\n  opt = opt || '';\n  return {\n    replace: function(name, val) {\n      val = val.source || val;\n      val = val.replace(/(^|[^\\[])\\^/g, '$1');\n      regex = regex.replace(name, val);\n      return this;\n    },\n    getRegex: function() {\n      return new RegExp(regex, opt);\n    }\n  };\n}\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (/^[^:]+:\\/*[^/]*$/.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n\n  if (href.slice(0, 2) === '//') {\n    return base.replace(/:[\\s\\S]*/, ':') + href;\n  } else if (href.charAt(0) === '/') {\n    return base.replace(/(:\\/*[^/]*)[\\s\\S]*/, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar baseUrls = {};\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n        var escaped = false,\n            curr = offset;\n        while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n        if (escaped) {\n          // odd number of slashes means | is escaped\n          // so we leave it alone\n          return '|';\n        } else {\n          // add space before unescaped |\n          return ' |';\n        }\n      }),\n      cells = row.split(/ \\|/),\n      i = 0;\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n// Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\nfunction rtrim(str, c, invert) {\n  if (str.length === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  var suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < str.length) {\n    var currChar = str.charAt(str.length - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.substr(0, str.length - suffLen);\n}\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight,\n        tokens,\n        pending,\n        i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt)\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.getDefaults = function () {\n  return {\n    baseUrl: null,\n    breaks: false,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: new Renderer(),\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tables: true,\n    xhtml: false\n  };\n}\n\nmarked.defaults = marked.getDefaults();\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.parse = marked;\n\nif (typeof module !== 'undefined' && typeof exports === 'object') {\n  module.exports = marked;\n} else if (typeof define === 'function' && define.amd) {\n  define(function() { return marked; });\n} else {\n  root.marked = marked;\n}\n})(this || (typeof window !== 'undefined' ? window : global));\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t? self // if in worker\n\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n * MIT license http://www.opensource.org/licenses/mit-license.php/\n * @author Lea Verou http://lea.verou.me\n */\n\nvar Prism = (function(){\n\n// Private helper vars\nvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\nvar uniqueId = 0;\n\nvar _ = _self.Prism = {\n\tmanual: _self.Prism && _self.Prism.manual,\n\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\tutil: {\n\t\tencode: function (tokens) {\n\t\t\tif (tokens instanceof Token) {\n\t\t\t\treturn new Token(tokens.type, _.util.encode(tokens.content), tokens.alias);\n\t\t\t} else if (_.util.type(tokens) === 'Array') {\n\t\t\t\treturn tokens.map(_.util.encode);\n\t\t\t} else {\n\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t}\n\t\t},\n\n\t\ttype: function (o) {\n\t\t\treturn Object.prototype.toString.call(o).match(/\\[object (\\w+)\\]/)[1];\n\t\t},\n\n\t\tobjId: function (obj) {\n\t\t\tif (!obj['__id']) {\n\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t}\n\t\t\treturn obj['__id'];\n\t\t},\n\n\t\t// Deep clone a language definition (e.g. to extend it)\n\t\tclone: function (o, visited) {\n\t\t\tvar type = _.util.type(o);\n\t\t\tvisited = visited || {};\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'Object':\n\t\t\t\t\tif (visited[_.util.objId(o)]) {\n\t\t\t\t\t\treturn visited[_.util.objId(o)];\n\t\t\t\t\t}\n\t\t\t\t\tvar clone = {};\n\t\t\t\t\tvisited[_.util.objId(o)] = clone;\n\n\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tclone[key] = _.util.clone(o[key], visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn clone;\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\tif (visited[_.util.objId(o)]) {\n\t\t\t\t\t\treturn visited[_.util.objId(o)];\n\t\t\t\t\t}\n\t\t\t\t\tvar clone = [];\n\t\t\t\t\tvisited[_.util.objId(o)] = clone;\n\n\t\t\t\t\to.forEach(function (v, i) {\n\t\t\t\t\t\tclone[i] = _.util.clone(v, visited);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn clone;\n\t\t\t}\n\n\t\t\treturn o;\n\t\t}\n\t},\n\n\tlanguages: {\n\t\textend: function (id, redef) {\n\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\tfor (var key in redef) {\n\t\t\t\tlang[key] = redef[key];\n\t\t\t}\n\n\t\t\treturn lang;\n\t\t},\n\n\t\t/**\n\t\t * Insert a token before another token in a language literal\n\t\t * As this needs to recreate the object (we cannot actually insert before keys in object literals),\n\t\t * we cannot just provide an object, we need anobject and a key.\n\t\t * @param inside The key (or language id) of the parent\n\t\t * @param before The key to insert before. If not provided, the function appends instead.\n\t\t * @param insert Object with the key/value pairs to insert\n\t\t * @param root The object that contains `inside`. If equal to Prism.languages, it can be omitted.\n\t\t */\n\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\troot = root || _.languages;\n\t\t\tvar grammar = root[inside];\n\n\t\t\tif (arguments.length == 2) {\n\t\t\t\tinsert = arguments[1];\n\n\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\tgrammar[newToken] = insert[newToken];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn grammar;\n\t\t\t}\n\n\t\t\tvar ret = {};\n\n\t\t\tfor (var token in grammar) {\n\n\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\tif (token == before) {\n\n\t\t\t\t\t\tfor (var newToken in insert) {\n\n\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Update references in other language definitions\n\t\t\t_.languages.DFS(_.languages, function(key, value) {\n\t\t\t\tif (value === root[inside] && key != inside) {\n\t\t\t\t\tthis[key] = ret;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn root[inside] = ret;\n\t\t},\n\n\t\t// Traverse a language definition with Depth First Search\n\t\tDFS: function(o, callback, type, visited) {\n\t\t\tvisited = visited || {};\n\t\t\tfor (var i in o) {\n\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\tif (_.util.type(o[i]) === 'Object' && !visited[_.util.objId(o[i])]) {\n\t\t\t\t\t\tvisited[_.util.objId(o[i])] = true;\n\t\t\t\t\t\t_.languages.DFS(o[i], callback, null, visited);\n\t\t\t\t\t}\n\t\t\t\t\telse if (_.util.type(o[i]) === 'Array' && !visited[_.util.objId(o[i])]) {\n\t\t\t\t\t\tvisited[_.util.objId(o[i])] = true;\n\t\t\t\t\t\t_.languages.DFS(o[i], callback, i, visited);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tplugins: {},\n\n\thighlightAll: function(async, callback) {\n\t\t_.highlightAllUnder(document, async, callback);\n\t},\n\n\thighlightAllUnder: function(container, async, callback) {\n\t\tvar env = {\n\t\t\tcallback: callback,\n\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t};\n\n\t\t_.hooks.run(\"before-highlightall\", env);\n\n\t\tvar elements = env.elements || container.querySelectorAll(env.selector);\n\n\t\tfor (var i=0, element; element = elements[i++];) {\n\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t}\n\t},\n\n\thighlightElement: function(element, async, callback) {\n\t\t// Find language\n\t\tvar language, grammar, parent = element;\n\n\t\twhile (parent && !lang.test(parent.className)) {\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\tif (parent) {\n\t\t\tlanguage = (parent.className.match(lang) || [,''])[1].toLowerCase();\n\t\t\tgrammar = _.languages[language];\n\t\t}\n\n\t\t// Set language on the element, if not present\n\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\n\t\tif (element.parentNode) {\n\t\t\t// Set language on the parent, for styling\n\t\t\tparent = element.parentNode;\n\n\t\t\tif (/pre/i.test(parent.nodeName)) {\n\t\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\t\t\t}\n\t\t}\n\n\t\tvar code = element.textContent;\n\n\t\tvar env = {\n\t\t\telement: element,\n\t\t\tlanguage: language,\n\t\t\tgrammar: grammar,\n\t\t\tcode: code\n\t\t};\n\n\t\t_.hooks.run('before-sanity-check', env);\n\n\t\tif (!env.code || !env.grammar) {\n\t\t\tif (env.code) {\n\t\t\t\t_.hooks.run('before-highlight', env);\n\t\t\t\tenv.element.textContent = env.code;\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t}\n\t\t\t_.hooks.run('complete', env);\n\t\t\treturn;\n\t\t}\n\n\t\t_.hooks.run('before-highlight', env);\n\n\t\tif (async && _self.Worker) {\n\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\tworker.onmessage = function(evt) {\n\t\t\t\tenv.highlightedCode = evt.data;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t};\n\n\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\tlanguage: env.language,\n\t\t\t\tcode: env.code,\n\t\t\t\timmediateClose: true\n\t\t\t}));\n\t\t}\n\t\telse {\n\t\t\tenv.highlightedCode = _.highlight(env.code, env.grammar, env.language);\n\n\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\tcallback && callback.call(element);\n\n\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t_.hooks.run('complete', env);\n\t\t}\n\t},\n\n\thighlight: function (text, grammar, language) {\n\t\tvar env = {\n\t\t\tcode: text,\n\t\t\tgrammar: grammar,\n\t\t\tlanguage: language\n\t\t};\n\t\t_.hooks.run('before-tokenize', env);\n\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t_.hooks.run('after-tokenize', env);\n\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t},\n\n\tmatchGrammar: function (text, strarr, grammar, index, startPos, oneshot, target) {\n\t\tvar Token = _.Token;\n\n\t\tfor (var token in grammar) {\n\t\t\tif(!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (token == target) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = (_.util.type(patterns) === \"Array\") ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tvar pattern = patterns[j],\n\t\t\t\t\tinside = pattern.inside,\n\t\t\t\t\tlookbehind = !!pattern.lookbehind,\n\t\t\t\t\tgreedy = !!pattern.greedy,\n\t\t\t\t\tlookbehindLength = 0,\n\t\t\t\t\talias = pattern.alias;\n\n\t\t\t\tif (greedy && !pattern.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = pattern.pattern.toString().match(/[imuy]*$/)[0];\n\t\t\t\t\tpattern.pattern = RegExp(pattern.pattern.source, flags + \"g\");\n\t\t\t\t}\n\n\t\t\t\tpattern = pattern.pattern || pattern;\n\n\t\t\t\t// Don’t cache length as it changes during the loop\n\t\t\t\tfor (var i = index, pos = startPos; i < strarr.length; pos += strarr[i].length, ++i) {\n\n\t\t\t\t\tvar str = strarr[i];\n\n\t\t\t\t\tif (strarr.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (greedy && i != strarr.length - 1) {\n\t\t\t\t\t\tpattern.lastIndex = pos;\n\t\t\t\t\t\tvar match = pattern.exec(text);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index + (lookbehind ? match[1].length : 0),\n\t\t\t\t\t\t    to = match.index + match[0].length,\n\t\t\t\t\t\t    k = i,\n\t\t\t\t\t\t    p = pos;\n\n\t\t\t\t\t\tfor (var len = strarr.length; k < len && (p < to || (!strarr[k].type && !strarr[k - 1].greedy)); ++k) {\n\t\t\t\t\t\t\tp += strarr[k].length;\n\t\t\t\t\t\t\t// Move the index i to the element in strarr that is closest to from\n\t\t\t\t\t\t\tif (from >= p) {\n\t\t\t\t\t\t\t\t++i;\n\t\t\t\t\t\t\t\tpos = p;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If strarr[i] is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (strarr[i] instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Number of tokens to delete and replace with the new match\n\t\t\t\t\t\tdelNum = k - i;\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpattern.lastIndex = 0;\n\n\t\t\t\t\t\tvar match = pattern.exec(str),\n\t\t\t\t\t\t\tdelNum = 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tif (oneshot) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(lookbehind) {\n\t\t\t\t\t\tlookbehindLength = match[1] ? match[1].length : 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar from = match.index + lookbehindLength,\n\t\t\t\t\t    match = match[0].slice(lookbehindLength),\n\t\t\t\t\t    to = from + match.length,\n\t\t\t\t\t    before = str.slice(0, from),\n\t\t\t\t\t    after = str.slice(to);\n\n\t\t\t\t\tvar args = [i, delNum];\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\t++i;\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t\targs.push(before);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar wrapped = new Token(token, inside? _.tokenize(match, inside) : match, alias, match, greedy);\n\n\t\t\t\t\targs.push(wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\targs.push(after);\n\t\t\t\t\t}\n\n\t\t\t\t\tArray.prototype.splice.apply(strarr, args);\n\n\t\t\t\t\tif (delNum != 1)\n\t\t\t\t\t\t_.matchGrammar(text, strarr, grammar, i, pos, true, token);\n\n\t\t\t\t\tif (oneshot)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\ttokenize: function(text, grammar, language) {\n\t\tvar strarr = [text];\n\n\t\tvar rest = grammar.rest;\n\n\t\tif (rest) {\n\t\t\tfor (var token in rest) {\n\t\t\t\tgrammar[token] = rest[token];\n\t\t\t}\n\n\t\t\tdelete grammar.rest;\n\t\t}\n\n\t\t_.matchGrammar(text, strarr, grammar, 0, 0, false);\n\n\t\treturn strarr;\n\t},\n\n\thooks: {\n\t\tall: {},\n\n\t\tadd: function (name, callback) {\n\t\t\tvar hooks = _.hooks.all;\n\n\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\thooks[name].push(callback);\n\t\t},\n\n\t\trun: function (name, env) {\n\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i=0, callback; callback = callbacks[i++];) {\n\t\t\t\tcallback(env);\n\t\t\t}\n\t\t}\n\t}\n};\n\nvar Token = _.Token = function(type, content, alias, matchedStr, greedy) {\n\tthis.type = type;\n\tthis.content = content;\n\tthis.alias = alias;\n\t// Copy of the full string this token was created from\n\tthis.length = (matchedStr || \"\").length|0;\n\tthis.greedy = !!greedy;\n};\n\nToken.stringify = function(o, language, parent) {\n\tif (typeof o == 'string') {\n\t\treturn o;\n\t}\n\n\tif (_.util.type(o) === 'Array') {\n\t\treturn o.map(function(element) {\n\t\t\treturn Token.stringify(element, language, o);\n\t\t}).join('');\n\t}\n\n\tvar env = {\n\t\ttype: o.type,\n\t\tcontent: Token.stringify(o.content, language, parent),\n\t\ttag: 'span',\n\t\tclasses: ['token', o.type],\n\t\tattributes: {},\n\t\tlanguage: language,\n\t\tparent: parent\n\t};\n\n\tif (o.alias) {\n\t\tvar aliases = _.util.type(o.alias) === 'Array' ? o.alias : [o.alias];\n\t\tArray.prototype.push.apply(env.classes, aliases);\n\t}\n\n\t_.hooks.run('wrap', env);\n\n\tvar attributes = Object.keys(env.attributes).map(function(name) {\n\t\treturn name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t}).join(' ');\n\n\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + (attributes ? ' ' + attributes : '') + '>' + env.content + '</' + env.tag + '>';\n\n};\n\nif (!_self.document) {\n\tif (!_self.addEventListener) {\n\t\t// in Node.js\n\t\treturn _self.Prism;\n\t}\n\n\tif (!_.disableWorkerMessageHandler) {\n\t\t// In worker\n\t\t_self.addEventListener('message', function (evt) {\n\t\t\tvar message = JSON.parse(evt.data),\n\t\t\t\tlang = message.language,\n\t\t\t\tcode = message.code,\n\t\t\t\timmediateClose = message.immediateClose;\n\n\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\tif (immediateClose) {\n\t\t\t\t_self.close();\n\t\t\t}\n\t\t}, false);\n\t}\n\n\treturn _self.Prism;\n}\n\n//Get current script and highlight\nvar script = document.currentScript || [].slice.call(document.getElementsByTagName(\"script\")).pop();\n\nif (script) {\n\t_.filename = script.src;\n\n\tif (!_.manual && !script.hasAttribute('data-manual')) {\n\t\tif(document.readyState !== \"loading\") {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(_.highlightAll);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(_.highlightAll, 16);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tdocument.addEventListener('DOMContentLoaded', _.highlightAll);\n\t\t}\n\t}\n}\n\nreturn _self.Prism;\n\n})();\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': /<!--[\\s\\S]*?-->/,\n\t'prolog': /<\\?[\\s\\S]+?\\?>/,\n\t'doctype': /<!DOCTYPE[\\s\\S]+?>/i,\n\t'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s+[^\\s>\\/=]+(?:=(?:(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|[^\\s'\">=]+))?)*\\s*\\/?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=(?:(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|[^\\s'\">=]+)/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t/^=/,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /(^|[^\\\\])[\"']/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': /&#?[\\da-z]{1,8};/i\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function(env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nPrism.languages.xml = Prism.languages.markup;\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\nPrism.languages.css = {\n\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t'atrule': {\n\t\tpattern: /@[\\w-]+?.*?(?:;|(?=\\s*\\{))/i,\n\t\tinside: {\n\t\t\t'rule': /@[\\w-]+/\n\t\t\t// See rest below\n\t\t}\n\t},\n\t'url': /url\\((?:([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1|.*?)\\)/i,\n\t'selector': /[^{}\\s][^{};]*?(?=\\s*\\{)/,\n\t'string': {\n\t\tpattern: /(\"|')(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'property': /[-_a-z\\xA0-\\uFFFF][-\\w\\xA0-\\uFFFF]*(?=\\s*:)/i,\n\t'important': /\\B!important\\b/i,\n\t'function': /[-a-z0-9]+(?=\\()/i,\n\t'punctuation': /[(){};:]/\n};\n\nPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\nif (Prism.languages.markup) {\n\tPrism.languages.insertBefore('markup', 'tag', {\n\t\t'style': {\n\t\t\tpattern: /(<style[\\s\\S]*?>)[\\s\\S]*?(?=<\\/style>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.css,\n\t\t\talias: 'language-css',\n\t\t\tgreedy: true\n\t\t}\n\t});\n\n\tPrism.languages.insertBefore('inside', 'attr-value', {\n\t\t'style-attr': {\n\t\t\tpattern: /\\s*style=(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1/i,\n\t\t\tinside: {\n\t\t\t\t'attr-name': {\n\t\t\t\t\tpattern: /^\\s*style/i,\n\t\t\t\t\tinside: Prism.languages.markup.tag.inside\n\t\t\t\t},\n\t\t\t\t'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /.+/i,\n\t\t\t\t\tinside: Prism.languages.css\n\t\t\t\t}\n\t\t\t},\n\t\t\talias: 'language-css'\n\t\t}\n\t}, Prism.languages.markup.tag);\n}\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /((?:\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+)|(?:catch\\s+\\())[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\tpunctuation: /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n\t'boolean': /\\b(?:true|false)\\b/,\n\t'function': /[a-z0-9_]+(?=\\()/i,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /--?|\\+\\+?|!=?=?|<=?|>=?|==?=?|&&?|\\|\\|?|\\?|\\*|\\/|~|\\^|%/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'keyword': /\\b(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\\b/,\n\t'number': /\\b(?:0[xX][\\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+|NaN|Infinity)\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:[Ee][+-]?\\d+)?/,\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*\\()/i,\n\t'operator': /-[-=]?|\\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\\|[|=]?|\\*\\*?=?|\\/=?|~|\\^=?|%=?|\\?|\\.{3}/\n});\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: /((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s])\\s*)\\/(\\[[^\\]\\r\\n]+]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[gimyu]{0,5}(?=\\s*($|[\\r\\n,.;})\\]]))/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*=\\s*(?:function\\b|(?:\\([^()]*\\)|[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)\\s*=>))/i,\n\t\talias: 'function'\n\t},\n\t'constant': /\\b[A-Z][A-Z\\d_]*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\${[^}]+}|[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /\\${[^}]+}/,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\${|}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: null // See below\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t}\n});\nPrism.languages.javascript['template-string'].inside['interpolation'].inside.rest = Prism.languages.javascript;\n\nif (Prism.languages.markup) {\n\tPrism.languages.insertBefore('markup', 'tag', {\n\t\t'script': {\n\t\t\tpattern: /(<script[\\s\\S]*?>)[\\s\\S]*?(?=<\\/script>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript,\n\t\t\talias: 'language-javascript',\n\t\t\tgreedy: true\n\t\t}\n\t});\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\tif (typeof self === 'undefined' || !self.Prism || !self.document || !document.querySelector) {\n\t\treturn;\n\t}\n\n\tself.Prism.fileHighlight = function() {\n\n\t\tvar Extensions = {\n\t\t\t'js': 'javascript',\n\t\t\t'py': 'python',\n\t\t\t'rb': 'ruby',\n\t\t\t'ps1': 'powershell',\n\t\t\t'psm1': 'powershell',\n\t\t\t'sh': 'bash',\n\t\t\t'bat': 'batch',\n\t\t\t'h': 'c',\n\t\t\t'tex': 'latex'\n\t\t};\n\n\t\tArray.prototype.slice.call(document.querySelectorAll('pre[data-src]')).forEach(function (pre) {\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language, parent = pre;\n\t\t\tvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\n\t\t\twhile (parent && !lang.test(parent.className)) {\n\t\t\t\tparent = parent.parentNode;\n\t\t\t}\n\n\t\t\tif (parent) {\n\t\t\t\tlanguage = (pre.className.match(lang) || [, ''])[1];\n\t\t\t}\n\n\t\t\tif (!language) {\n\t\t\t\tvar extension = (src.match(/\\.(\\w+)$/) || [, ''])[1];\n\t\t\t\tlanguage = Extensions[extension] || extension;\n\t\t\t}\n\n\t\t\tvar code = document.createElement('code');\n\t\t\tcode.className = 'language-' + language;\n\n\t\t\tpre.textContent = '';\n\n\t\t\tcode.textContent = 'Loading…';\n\n\t\t\tpre.appendChild(code);\n\n\t\t\tvar xhr = new XMLHttpRequest();\n\n\t\t\txhr.open('GET', src, true);\n\n\t\t\txhr.onreadystatechange = function () {\n\t\t\t\tif (xhr.readyState == 4) {\n\n\t\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\t\tcode.textContent = xhr.responseText;\n\n\t\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t\t}\n\t\t\t\t\telse if (xhr.status >= 400) {\n\t\t\t\t\t\tcode.textContent = '✖ Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcode.textContent = '✖ Error: File does not exist or is empty';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.send(null);\n\t\t});\n\n\t\tif (Prism.plugins.toolbar) {\n\t\t\tPrism.plugins.toolbar.registerButton('download-file', function (env) {\n\t\t\t\tvar pre = env.element.parentNode;\n\t\t\t\tif (!pre || !/pre/i.test(pre.nodeName) || !pre.hasAttribute('data-src') || !pre.hasAttribute('data-download-link')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar src = pre.getAttribute('data-src');\n\t\t\t\tvar a = document.createElement('a');\n\t\t\t\ta.textContent = pre.getAttribute('data-download-link-label') || 'Download';\n\t\t\t\ta.setAttribute('download', '');\n\t\t\t\ta.href = src;\n\t\t\t\treturn a;\n\t\t\t});\n\t\t}\n\n\t};\n\n\tdocument.addEventListener('DOMContentLoaded', self.Prism.fileHighlight);\n\n})();","/* PrismJS 1.15.0\nhttps://prismjs.com/download.html#themes=prism-okaidia&languages=markup+css+clike+javascript+markup-templating+handlebars+scss+typescript&plugins=toolbar */\nvar _self=\"undefined\"!=typeof window?window:\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\\blang(?:uage)?-([\\w-]+)\\b/i,t=0,n=_self.Prism={manual:_self.Prism&&_self.Prism.manual,disableWorkerMessageHandler:_self.Prism&&_self.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof a?new a(e.type,n.util.encode(e.content),e.alias):\"Array\"===n.util.type(e)?e.map(n.util.encode):e.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/\\u00a0/g,\" \")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,\"__id\",{value:++t}),e.__id},clone:function(e,t){var a=n.util.type(e);switch(t=t||{},a){case\"Object\":if(t[n.util.objId(e)])return t[n.util.objId(e)];var r={};t[n.util.objId(e)]=r;for(var l in e)e.hasOwnProperty(l)&&(r[l]=n.util.clone(e[l],t));return r;case\"Array\":if(t[n.util.objId(e)])return t[n.util.objId(e)];var r=[];return t[n.util.objId(e)]=r,e.forEach(function(e,a){r[a]=n.util.clone(e,t)}),r}return e}},languages:{extend:function(e,t){var a=n.util.clone(n.languages[e]);for(var r in t)a[r]=t[r];return a},insertBefore:function(e,t,a,r){r=r||n.languages;var l=r[e],i={};for(var o in l)if(l.hasOwnProperty(o)){if(o==t)for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s]);a.hasOwnProperty(o)||(i[o]=l[o])}var u=r[e];return r[e]=i,n.languages.DFS(n.languages,function(t,n){n===u&&t!=e&&(this[t]=i)}),i},DFS:function(e,t,a,r){r=r||{};for(var l in e)e.hasOwnProperty(l)&&(t.call(e,l,e[l],a||l),\"Object\"!==n.util.type(e[l])||r[n.util.objId(e[l])]?\"Array\"!==n.util.type(e[l])||r[n.util.objId(e[l])]||(r[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,l,r)):(r[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,null,r)))}},plugins:{},highlightAll:function(e,t){n.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,a){var r={callback:a,selector:'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'};n.hooks.run(\"before-highlightall\",r);for(var l,i=r.elements||e.querySelectorAll(r.selector),o=0;l=i[o++];)n.highlightElement(l,t===!0,r.callback)},highlightElement:function(t,a,r){for(var l,i,o=t;o&&!e.test(o.className);)o=o.parentNode;o&&(l=(o.className.match(e)||[,\"\"])[1].toLowerCase(),i=n.languages[l]),t.className=t.className.replace(e,\"\").replace(/\\s+/g,\" \")+\" language-\"+l,t.parentNode&&(o=t.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(e,\"\").replace(/\\s+/g,\" \")+\" language-\"+l));var s=t.textContent,u={element:t,language:l,grammar:i,code:s};if(n.hooks.run(\"before-sanity-check\",u),!u.code||!u.grammar)return u.code&&(n.hooks.run(\"before-highlight\",u),u.element.textContent=u.code,n.hooks.run(\"after-highlight\",u)),n.hooks.run(\"complete\",u),void 0;if(n.hooks.run(\"before-highlight\",u),a&&_self.Worker){var g=new Worker(n.filename);g.onmessage=function(e){u.highlightedCode=e.data,n.hooks.run(\"before-insert\",u),u.element.innerHTML=u.highlightedCode,n.hooks.run(\"after-highlight\",u),n.hooks.run(\"complete\",u),r&&r.call(u.element)},g.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=n.highlight(u.code,u.grammar,u.language),n.hooks.run(\"before-insert\",u),u.element.innerHTML=u.highlightedCode,n.hooks.run(\"after-highlight\",u),n.hooks.run(\"complete\",u),r&&r.call(t)},highlight:function(e,t,r){var l={code:e,grammar:t,language:r};return n.hooks.run(\"before-tokenize\",l),l.tokens=n.tokenize(l.code,l.grammar),n.hooks.run(\"after-tokenize\",l),a.stringify(n.util.encode(l.tokens),l.language)},matchGrammar:function(e,t,a,r,l,i,o){var s=n.Token;for(var u in a)if(a.hasOwnProperty(u)&&a[u]){if(u==o)return;var g=a[u];g=\"Array\"===n.util.type(g)?g:[g];for(var c=0;c<g.length;++c){var h=g[c],f=h.inside,d=!!h.lookbehind,m=!!h.greedy,p=0,y=h.alias;if(m&&!h.pattern.global){var v=h.pattern.toString().match(/[imuy]*$/)[0];h.pattern=RegExp(h.pattern.source,v+\"g\")}h=h.pattern||h;for(var b=r,k=l;b<t.length;k+=t[b].length,++b){var w=t[b];if(t.length>e.length)return;if(!(w instanceof s)){if(m&&b!=t.length-1){h.lastIndex=k;var _=h.exec(e);if(!_)break;for(var j=_.index+(d?_[1].length:0),P=_.index+_[0].length,A=b,x=k,O=t.length;O>A&&(P>x||!t[A].type&&!t[A-1].greedy);++A)x+=t[A].length,j>=x&&(++b,k=x);if(t[b]instanceof s)continue;I=A-b,w=e.slice(k,x),_.index-=k}else{h.lastIndex=0;var _=h.exec(w),I=1}if(_){d&&(p=_[1]?_[1].length:0);var j=_.index+p,_=_[0].slice(p),P=j+_.length,N=w.slice(0,j),S=w.slice(P),C=[b,I];N&&(++b,k+=N.length,C.push(N));var E=new s(u,f?n.tokenize(_,f):_,y,_,m);if(C.push(E),S&&C.push(S),Array.prototype.splice.apply(t,C),1!=I&&n.matchGrammar(e,t,a,b,k,!0,u),i)break}else if(i)break}}}}},tokenize:function(e,t){var a=[e],r=t.rest;if(r){for(var l in r)t[l]=r[l];delete t.rest}return n.matchGrammar(e,a,t,0,0,!1),a},hooks:{all:{},add:function(e,t){var a=n.hooks.all;a[e]=a[e]||[],a[e].push(t)},run:function(e,t){var a=n.hooks.all[e];if(a&&a.length)for(var r,l=0;r=a[l++];)r(t)}}},a=n.Token=function(e,t,n,a,r){this.type=e,this.content=t,this.alias=n,this.length=0|(a||\"\").length,this.greedy=!!r};if(a.stringify=function(e,t,r){if(\"string\"==typeof e)return e;if(\"Array\"===n.util.type(e))return e.map(function(n){return a.stringify(n,t,e)}).join(\"\");var l={type:e.type,content:a.stringify(e.content,t,r),tag:\"span\",classes:[\"token\",e.type],attributes:{},language:t,parent:r};if(e.alias){var i=\"Array\"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(l.classes,i)}n.hooks.run(\"wrap\",l);var o=Object.keys(l.attributes).map(function(e){return e+'=\"'+(l.attributes[e]||\"\").replace(/\"/g,\"&quot;\")+'\"'}).join(\" \");return\"<\"+l.tag+' class=\"'+l.classes.join(\" \")+'\"'+(o?\" \"+o:\"\")+\">\"+l.content+\"</\"+l.tag+\">\"},!_self.document)return _self.addEventListener?(n.disableWorkerMessageHandler||_self.addEventListener(\"message\",function(e){var t=JSON.parse(e.data),a=t.language,r=t.code,l=t.immediateClose;_self.postMessage(n.highlight(r,n.languages[a],a)),l&&_self.close()},!1),_self.Prism):_self.Prism;var r=document.currentScript||[].slice.call(document.getElementsByTagName(\"script\")).pop();return r&&(n.filename=r.src,n.manual||r.hasAttribute(\"data-manual\")||(\"loading\"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(n.highlightAll):window.setTimeout(n.highlightAll,16):document.addEventListener(\"DOMContentLoaded\",n.highlightAll))),_self.Prism}();\"undefined\"!=typeof module&&module.exports&&(module.exports=Prism),\"undefined\"!=typeof global&&(global.Prism=Prism);\nPrism.languages.markup={comment:/<!--[\\s\\S]*?-->/,prolog:/<\\?[\\s\\S]+?\\?>/,doctype:/<!DOCTYPE[\\s\\S]+?>/i,cdata:/<!\\[CDATA\\[[\\s\\S]*?]]>/i,tag:{pattern:/<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s+[^\\s>\\/=]+(?:=(?:(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|[^\\s'\">=]+))?)*\\s*\\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\\/?[^\\s>\\/]+/i,inside:{punctuation:/^<\\/?/,namespace:/^[^\\s>\\/:]+:/}},\"attr-value\":{pattern:/=(?:(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|[^\\s'\">=]+)/i,inside:{punctuation:[/^=/,{pattern:/(^|[^\\\\])[\"']/,lookbehind:!0}]}},punctuation:/\\/?>/,\"attr-name\":{pattern:/[^\\s>\\/]+/,inside:{namespace:/^[^\\s>\\/:]+:/}}}},entity:/&#?[\\da-z]{1,8};/i},Prism.languages.markup.tag.inside[\"attr-value\"].inside.entity=Prism.languages.markup.entity,Prism.hooks.add(\"wrap\",function(a){\"entity\"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,\"&\"))}),Prism.languages.xml=Prism.languages.markup,Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup;\nPrism.languages.css={comment:/\\/\\*[\\s\\S]*?\\*\\//,atrule:{pattern:/@[\\w-]+?.*?(?:;|(?=\\s*\\{))/i,inside:{rule:/@[\\w-]+/}},url:/url\\((?:([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1|.*?)\\)/i,selector:/[^{}\\s][^{};]*?(?=\\s*\\{)/,string:{pattern:/(\"|')(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,greedy:!0},property:/[-_a-z\\xA0-\\uFFFF][-\\w\\xA0-\\uFFFF]*(?=\\s*:)/i,important:/!important\\b/i,\"function\":/[-a-z0-9]+(?=\\()/i,punctuation:/[(){};:,]/},Prism.languages.css.atrule.inside.rest=Prism.languages.css,Prism.languages.markup&&(Prism.languages.insertBefore(\"markup\",\"tag\",{style:{pattern:/(<style[\\s\\S]*?>)[\\s\\S]*?(?=<\\/style>)/i,lookbehind:!0,inside:Prism.languages.css,alias:\"language-css\",greedy:!0}}),Prism.languages.insertBefore(\"inside\",\"attr-value\",{\"style-attr\":{pattern:/\\s*style=(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1/i,inside:{\"attr-name\":{pattern:/^\\s*style/i,inside:Prism.languages.markup.tag.inside},punctuation:/^\\s*=\\s*['\"]|['\"]\\s*$/,\"attr-value\":{pattern:/.+/i,inside:Prism.languages.css}},alias:\"language-css\"}},Prism.languages.markup.tag));\nPrism.languages.clike={comment:[{pattern:/(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,lookbehind:!0},{pattern:/(^|[^\\\\:])\\/\\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,greedy:!0},\"class-name\":{pattern:/((?:\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+)|(?:catch\\s+\\())[\\w.\\\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\\\]/}},keyword:/\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\"boolean\":/\\b(?:true|false)\\b/,\"function\":/\\w+(?=\\()/,number:/\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,operator:/--?|\\+\\+?|!=?=?|<=?|>=?|==?=?|&&?|\\|\\|?|\\?|\\*|\\/|~|\\^|%/,punctuation:/[{}[\\];(),.:]/};\nPrism.languages.javascript=Prism.languages.extend(\"clike\",{\"class-name\":[Prism.languages.clike[\"class-name\"],{pattern:/(^|[^$\\w\\xA0-\\uFFFF])[_$A-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\\s*)(?:catch|finally)\\b/,lookbehind:!0},/\\b(?:as|async|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\\b/],number:/\\b(?:(?:0[xX][\\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\\d+n|NaN|Infinity)\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:[Ee][+-]?\\d+)?/,\"function\":/[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*\\(|\\.(?:apply|bind|call)\\()/,operator:/-[-=]?|\\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\\|[|=]?|\\*\\*?=?|\\/=?|~|\\^=?|%=?|\\?|\\.{3}/}),Prism.languages.javascript[\"class-name\"][0].pattern=/(\\b(?:class|interface|extends|implements|instanceof|new)\\s+)[\\w.\\\\]+/,Prism.languages.insertBefore(\"javascript\",\"keyword\",{regex:{pattern:/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s])\\s*)\\/(\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*]|\\\\.|[^\\/\\\\\\[\\r\\n])+\\/[gimyu]{0,5}(?=\\s*($|[\\r\\n,.;})\\]]))/,lookbehind:!0,greedy:!0},\"function-variable\":{pattern:/[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\([^()]*\\)|[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)\\s*=>))/i,alias:\"function\"},parameter:[{pattern:/(function(?:\\s+[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)?\\s*\\(\\s*)[^\\s()][^()]*?(?=\\s*\\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*=>)/,inside:Prism.languages.javascript},{pattern:/(\\(\\s*)[^\\s()][^()]*?(?=\\s*\\)\\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*\\s*)\\(\\s*)[^\\s()][^()]*?(?=\\s*\\)\\s*\\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\\b[A-Z][A-Z\\d_]*\\b/}),Prism.languages.insertBefore(\"javascript\",\"string\",{\"template-string\":{pattern:/`(?:\\\\[\\s\\S]|\\${[^}]+}|[^\\\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\\${[^}]+}/,inside:{\"interpolation-punctuation\":{pattern:/^\\${|}$/,alias:\"punctuation\"},rest:Prism.languages.javascript}},string:/[\\s\\S]+/}}}),Prism.languages.markup&&Prism.languages.insertBefore(\"markup\",\"tag\",{script:{pattern:/(<script[\\s\\S]*?>)[\\s\\S]*?(?=<\\/script>)/i,lookbehind:!0,inside:Prism.languages.javascript,alias:\"language-javascript\",greedy:!0}}),Prism.languages.js=Prism.languages.javascript;\nPrism.languages[\"markup-templating\"]={},Object.defineProperties(Prism.languages[\"markup-templating\"],{buildPlaceholders:{value:function(e,t,n,a){e.language===t&&(e.tokenStack=[],e.code=e.code.replace(n,function(n){if(\"function\"==typeof a&&!a(n))return n;for(var r=e.tokenStack.length;-1!==e.code.indexOf(\"___\"+t.toUpperCase()+r+\"___\");)++r;return e.tokenStack[r]=n,\"___\"+t.toUpperCase()+r+\"___\"}),e.grammar=Prism.languages.markup)}},tokenizePlaceholders:{value:function(e,t){if(e.language===t&&e.tokenStack){e.grammar=Prism.languages[t];var n=0,a=Object.keys(e.tokenStack),r=function(o){if(!(n>=a.length))for(var i=0;i<o.length;i++){var g=o[i];if(\"string\"==typeof g||g.content&&\"string\"==typeof g.content){var c=a[n],s=e.tokenStack[c],l=\"string\"==typeof g?g:g.content,p=l.indexOf(\"___\"+t.toUpperCase()+c+\"___\");if(p>-1){++n;var f,u=l.substring(0,p),_=new Prism.Token(t,Prism.tokenize(s,e.grammar,t),\"language-\"+t,s),k=l.substring(p+(\"___\"+t.toUpperCase()+c+\"___\").length);if(u||k?(f=[u,_,k].filter(function(e){return!!e}),r(f)):f=_,\"string\"==typeof g?Array.prototype.splice.apply(o,[i,1].concat(f)):g.content=f,n>=a.length)break}}else g.content&&\"string\"!=typeof g.content&&r(g.content)}};r(e.tokens)}}}});\n!function(a){a.languages.handlebars={comment:/\\{\\{![\\s\\S]*?\\}\\}/,delimiter:{pattern:/^\\{\\{\\{?|\\}\\}\\}?$/i,alias:\"punctuation\"},string:/([\"'])(?:\\\\.|(?!\\1)[^\\\\\\r\\n])*\\1/,number:/\\b0x[\\dA-Fa-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:[Ee][+-]?\\d+)?/,\"boolean\":/\\b(?:true|false)\\b/,block:{pattern:/^(\\s*~?\\s*)[#\\/]\\S+?(?=\\s*~?\\s*$|\\s)/i,lookbehind:!0,alias:\"keyword\"},brackets:{pattern:/\\[[^\\]]+\\]/,inside:{punctuation:/\\[|\\]/,variable:/[\\s\\S]+/}},punctuation:/[!\"#%&'()*+,.\\/;<=>@\\[\\\\\\]^`{|}~]/,variable:/[^!\"#%&'()*+,.\\/;<=>@\\[\\\\\\]^`{|}~\\s]+/},a.hooks.add(\"before-tokenize\",function(e){var n=/\\{\\{\\{[\\s\\S]+?\\}\\}\\}|\\{\\{[\\s\\S]+?\\}\\}/g;a.languages[\"markup-templating\"].buildPlaceholders(e,\"handlebars\",n)}),a.hooks.add(\"after-tokenize\",function(e){a.languages[\"markup-templating\"].tokenizePlaceholders(e,\"handlebars\")})}(Prism);\nPrism.languages.scss=Prism.languages.extend(\"css\",{comment:{pattern:/(^|[^\\\\])(?:\\/\\*[\\s\\S]*?\\*\\/|\\/\\/.*)/,lookbehind:!0},atrule:{pattern:/@[\\w-]+(?:\\([^()]+\\)|[^(])*?(?=\\s+[{;])/,inside:{rule:/@[\\w-]+/}},url:/(?:[-a-z]+-)*url(?=\\()/i,selector:{pattern:/(?=\\S)[^@;{}()]?(?:[^@;{}()]|#\\{\\$[-\\w]+\\})+(?=\\s*\\{(?:\\}|\\s|[^}]+[:{][^}]+))/m,inside:{parent:{pattern:/&/,alias:\"important\"},placeholder:/%[-\\w]+/,variable:/\\$[-\\w]+|#\\{\\$[-\\w]+\\}/}},property:{pattern:/(?:[\\w-]|\\$[-\\w]+|#\\{\\$[-\\w]+\\})+(?=\\s*:)/,inside:{variable:/\\$[-\\w]+|#\\{\\$[-\\w]+\\}/}}}),Prism.languages.insertBefore(\"scss\",\"atrule\",{keyword:[/@(?:if|else(?: if)?|for|each|while|import|extend|debug|warn|mixin|include|function|return|content)/i,{pattern:/( +)(?:from|through)(?= )/,lookbehind:!0}]}),Prism.languages.insertBefore(\"scss\",\"important\",{variable:/\\$[-\\w]+|#\\{\\$[-\\w]+\\}/}),Prism.languages.insertBefore(\"scss\",\"function\",{placeholder:{pattern:/%[-\\w]+/,alias:\"selector\"},statement:{pattern:/\\B!(?:default|optional)\\b/i,alias:\"keyword\"},\"boolean\":/\\b(?:true|false)\\b/,\"null\":/\\bnull\\b/,operator:{pattern:/(\\s)(?:[-+*\\/%]|[=!]=|<=?|>=?|and|or|not)(?=\\s)/,lookbehind:!0}}),Prism.languages.scss.atrule.inside.rest=Prism.languages.scss;\nPrism.languages.typescript=Prism.languages.extend(\"javascript\",{keyword:/\\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\\b/,builtin:/\\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\\b/}),Prism.languages.ts=Prism.languages.typescript;\n!function(){if(\"undefined\"!=typeof self&&self.Prism&&self.document){var t=[],e={},n=function(){};Prism.plugins.toolbar={};var a=Prism.plugins.toolbar.registerButton=function(n,a){var o;o=\"function\"==typeof a?a:function(t){var e;return\"function\"==typeof a.onClick?(e=document.createElement(\"button\"),e.type=\"button\",e.addEventListener(\"click\",function(){a.onClick.call(this,t)})):\"string\"==typeof a.url?(e=document.createElement(\"a\"),e.href=a.url):e=document.createElement(\"span\"),e.textContent=a.text,e},t.push(e[n]=o)},o=Prism.plugins.toolbar.hook=function(a){var o=a.element.parentNode;if(o&&/pre/i.test(o.nodeName)&&!o.parentNode.classList.contains(\"code-toolbar\")){var r=document.createElement(\"div\");r.classList.add(\"code-toolbar\"),o.parentNode.insertBefore(r,o),r.appendChild(o);var i=document.createElement(\"div\");i.classList.add(\"toolbar\"),document.body.hasAttribute(\"data-toolbar-order\")&&(t=document.body.getAttribute(\"data-toolbar-order\").split(\",\").map(function(t){return e[t]||n})),t.forEach(function(t){var e=t(a);if(e){var n=document.createElement(\"div\");n.classList.add(\"toolbar-item\"),n.appendChild(e),i.appendChild(n)}}),r.appendChild(i)}};a(\"label\",function(t){var e=t.element.parentNode;if(e&&/pre/i.test(e.nodeName)&&e.hasAttribute(\"data-label\")){var n,a,o=e.getAttribute(\"data-label\");try{a=document.querySelector(\"template#\"+o)}catch(r){}return a?n=a.content:(e.hasAttribute(\"data-url\")?(n=document.createElement(\"a\"),n.href=e.getAttribute(\"data-url\")):n=document.createElement(\"span\"),n.textContent=o),n}}),Prism.hooks.add(\"complete\",o)}}();\n","//! openseadragon 2.4.0\n//! Built on 2018-07-20\n//! Git commit: v2.4.0-0-446af4d\n//! http://openseadragon.github.io\n//! License: http://openseadragon.github.io/license/\n\n\nfunction OpenSeadragon(e){return new OpenSeadragon.Viewer(e)}!function(e){e.version={versionStr:\"2.4.0\",major:parseInt(\"2\",10),minor:parseInt(\"4\",10),revision:parseInt(\"0\",10)};var t={\"[object Boolean]\":\"boolean\",\"[object Number]\":\"number\",\"[object String]\":\"string\",\"[object Function]\":\"function\",\"[object Array]\":\"array\",\"[object Date]\":\"date\",\"[object RegExp]\":\"regexp\",\"[object Object]\":\"object\"},i=Object.prototype.toString,n=Object.prototype.hasOwnProperty;e.isFunction=function(t){return\"function\"===e.type(t)};e.isArray=Array.isArray||function(t){return\"array\"===e.type(t)};e.isWindow=function(e){return e&&\"object\"==typeof e&&\"setInterval\"in e};e.type=function(e){return null===e||void 0===e?String(e):t[i.call(e)]||\"object\"};e.isPlainObject=function(t){if(!t||\"object\"!==OpenSeadragon.type(t)||t.nodeType||e.isWindow(t))return!1;if(t.constructor&&!n.call(t,\"constructor\")&&!n.call(t.constructor.prototype,\"isPrototypeOf\"))return!1;var i;for(var o in t)i=o;return void 0===i||n.call(t,i)};e.isEmptyObject=function(e){for(var t in e)return!1;return!0};e.freezeObject=function(t){Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(e){return e};return e.freezeObject(t)};e.supportsCanvas=function(){var t=document.createElement(\"canvas\");return!(!e.isFunction(t.getContext)||!t.getContext(\"2d\"))}();e.isCanvasTainted=function(e){var t=!1;try{e.getContext(\"2d\").getImageData(0,0,1,1)}catch(e){t=!0}return t};e.pixelDensityRatio=function(){if(e.supportsCanvas){var t=document.createElement(\"canvas\").getContext(\"2d\");var i=window.devicePixelRatio||1;var n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return Math.max(i,1)/n}return 1}()}(OpenSeadragon);!function($){$.extend=function(){var e,t,i,n,o,r,s=arguments[0]||{},a=arguments.length,l=!1,h=1;if(\"boolean\"==typeof s){l=s;s=arguments[1]||{};h=2}\"object\"==typeof s||OpenSeadragon.isFunction(s)||(s={});if(a===h){s=this;--h}for(;h<a;h++)if(null!==(e=arguments[h])||void 0!==e)for(t in e){i=s[t];if(s!==(n=e[t]))if(l&&n&&(OpenSeadragon.isPlainObject(n)||(o=OpenSeadragon.isArray(n)))){if(o){o=!1;r=i&&OpenSeadragon.isArray(i)?i:[]}else r=i&&OpenSeadragon.isPlainObject(i)?i:{};s[t]=OpenSeadragon.extend(l,r,n)}else void 0!==n&&(s[t]=n)}return s};var isIOSDevice=function(){if(\"object\"!=typeof navigator)return!1;var e=navigator.userAgent;return\"string\"==typeof e&&(-1!==e.indexOf(\"iPhone\")||-1!==e.indexOf(\"iPad\")||-1!==e.indexOf(\"iPod\"))};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:\"#000\",navigatorOpacity:.8,navigatorBorderColor:\"#555\",navigatorDisplayRegionColor:\"#900\",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:\"horizontal\",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:\"BOTTOM_LEFT\",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:\"horizontal\",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:\"/images/\",navImages:{zoomIn:{REST:\"zoomin_rest.png\",GROUP:\"zoomin_grouphover.png\",HOVER:\"zoomin_hover.png\",DOWN:\"zoomin_pressed.png\"},zoomOut:{REST:\"zoomout_rest.png\",GROUP:\"zoomout_grouphover.png\",HOVER:\"zoomout_hover.png\",DOWN:\"zoomout_pressed.png\"},home:{REST:\"home_rest.png\",GROUP:\"home_grouphover.png\",HOVER:\"home_hover.png\",DOWN:\"home_pressed.png\"},fullpage:{REST:\"fullpage_rest.png\",GROUP:\"fullpage_grouphover.png\",HOVER:\"fullpage_hover.png\",DOWN:\"fullpage_pressed.png\"},rotateleft:{REST:\"rotateleft_rest.png\",GROUP:\"rotateleft_grouphover.png\",HOVER:\"rotateleft_hover.png\",DOWN:\"rotateleft_pressed.png\"},rotateright:{REST:\"rotateright_rest.png\",GROUP:\"rotateright_grouphover.png\",HOVER:\"rotateright_hover.png\",DOWN:\"rotateright_pressed.png\"},flip:{REST:\"flip_rest.png\",GROUP:\"flip_grouphover.png\",HOVER:\"flip_hover.png\",DOWN:\"flip_pressed.png\"},previous:{REST:\"previous_rest.png\",GROUP:\"previous_grouphover.png\",HOVER:\"previous_hover.png\",DOWN:\"previous_pressed.png\"},next:{REST:\"next_rest.png\",GROUP:\"next_grouphover.png\",HOVER:\"next_hover.png\",DOWN:\"next_pressed.png\"}},debugMode:!1,debugGridColor:[\"#437AB2\",\"#1B9E77\",\"#D95F02\",\"#7570B3\",\"#E7298A\",\"#66A61E\",\"#E6AB02\",\"#A6761D\",\"#666666\"]},SIGNAL:\"----seadragon----\",delegate:function(e,t){return function(){var i=arguments;void 0===i&&(i=[]);return t.apply(e,i)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(e){\"string\"==typeof e&&(e=document.getElementById(e));return e},getElementPosition:function(e){var t,i,n=new $.Point;i=getOffsetParent(e=$.getElement(e),t=\"fixed\"==$.getElementStyle(e).position);for(;i;){n.x+=e.offsetLeft;n.y+=e.offsetTop;t&&(n=n.plus($.getPageScroll()));i=getOffsetParent(e=i,t=\"fixed\"==$.getElementStyle(e).position)}return n},getElementOffset:function(e){var t,i,n=(e=$.getElement(e))&&e.ownerDocument,o={top:0,left:0};if(!n)return new $.Point;t=n.documentElement;void 0!==e.getBoundingClientRect&&(o=e.getBoundingClientRect());i=n==n.window?n:9===n.nodeType&&(n.defaultView||n.parentWindow);return new $.Point(o.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0),o.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0))},getElementSize:function(e){e=$.getElement(e);return new $.Point(e.clientWidth,e.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(e){return(e=$.getElement(e)).currentStyle}:function(e){e=$.getElement(e);return window.getComputedStyle(e,\"\")},getCssPropertyWithVendorPrefix:function(e){var t={};$.getCssPropertyWithVendorPrefix=function(e){if(void 0!==t[e])return t[e];var i=document.createElement(\"div\").style;var n=null;if(void 0!==i[e])n=e;else{var o=[\"Webkit\",\"Moz\",\"MS\",\"O\",\"webkit\",\"moz\",\"ms\",\"o\"];var r=$.capitalizeFirstLetter(e);for(var s=0;s<o.length;s++){var a=o[s]+r;if(void 0!==i[a]){n=a;break}}}t[e]=n;return n};return $.getCssPropertyWithVendorPrefix(e)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var i=e%t;i<0&&(i+=t);return i},pointInElement:function(e,t){e=$.getElement(e);var i=$.getElementOffset(e),n=$.getElementSize(e);return t.x>=i.x&&t.x<i.x+n.x&&t.y<i.y+n.y&&t.y>=i.y},getEvent:function(e){$.getEvent=e?function(e){return e}:function(){return window.event};return $.getEvent(e)},getMousePosition:function(e){if(\"number\"==typeof e.pageX)$.getMousePosition=function(e){var t=new $.Point;e=$.getEvent(e);t.x=e.pageX;t.y=e.pageY;return t};else{if(\"number\"!=typeof e.clientX)throw new Error(\"Unknown event mouse position, no known technique.\");$.getMousePosition=function(e){var t=new $.Point;e=$.getEvent(e);t.x=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;t.y=e.clientY+document.body.scrollTop+document.documentElement.scrollTop;return t}}return $.getMousePosition(e)},getPageScroll:function(){var e=document.documentElement||{},t=document.body||{};if(\"number\"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(t.scrollLeft||t.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!e.scrollLeft&&!e.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(e){if(void 0!==window.scrollTo)$.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var t=$.getPageScroll();if(t.x===e.x&&t.y===e.y)return;document.body.scrollLeft=e.x;document.body.scrollTop=e.y;var i=$.getPageScroll();if(i.x!==t.x&&i.y!==t.y){$.setPageScroll=function(e){document.body.scrollLeft=e.x;document.body.scrollTop=e.y};return}document.documentElement.scrollLeft=e.x;document.documentElement.scrollTop=e.y;if((i=$.getPageScroll()).x!==t.x&&i.y!==t.y){$.setPageScroll=function(e){document.documentElement.scrollLeft=e.x;document.documentElement.scrollTop=e.y};return}$.setPageScroll=function(e){}}return $.setPageScroll(e)},getWindowSize:function(){var e=document.documentElement||{},t=document.body||{};if(\"number\"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(e.clientWidth||e.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!t.clientWidth&&!t.clientHeight)throw new Error(\"Unknown window size, no known technique.\");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(e){e=$.getElement(e);var t=[$.makeNeutralElement(\"div\"),$.makeNeutralElement(\"div\"),$.makeNeutralElement(\"div\")];$.extend(t[0].style,{display:\"table\",height:\"100%\",width:\"100%\"});$.extend(t[1].style,{display:\"table-row\"});$.extend(t[2].style,{display:\"table-cell\",verticalAlign:\"middle\",textAlign:\"center\"});t[0].appendChild(t[1]);t[1].appendChild(t[2]);t[2].appendChild(e);return t[0]},makeNeutralElement:function(e){var t=document.createElement(e),i=t.style;i.background=\"transparent none\";i.border=\"none\";i.margin=\"0px\";i.padding=\"0px\";i.position=\"static\";return t},now:function(){Date.now?$.now=Date.now:$.now=function(){return(new Date).getTime()};return $.now()},makeTransparentImage:function(e){$.makeTransparentImage=function(e){var t=$.makeNeutralElement(\"img\");t.src=e;return t};$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(e){var t=$.makeNeutralElement(\"img\"),i=null;(i=$.makeNeutralElement(\"span\")).style.display=\"inline-block\";t.onload=function(){i.style.width=i.style.width||t.width+\"px\";i.style.height=i.style.height||t.height+\"px\";t.onload=null;t=null};t.src=e;i.style.filter=\"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='\"+e+\"', sizingMethod='scale')\";return i});return $.makeTransparentImage(e)},setElementOpacity:function(e,t,i){var n;e=$.getElement(e);i&&!$.Browser.alpha&&(t=Math.round(t));if($.Browser.opacity)e.style.opacity=t<1?t:\"\";else if(t<1){n=\"alpha(opacity=\"+Math.round(100*t)+\")\";e.style.filter=n}else e.style.filter=\"\"},setElementTouchActionNone:function(e){void 0!==(e=$.getElement(e)).style.touchAction?e.style.touchAction=\"none\":void 0!==e.style.msTouchAction&&(e.style.msTouchAction=\"none\")},addClass:function(e,t){(e=$.getElement(e)).className?-1===(\" \"+e.className+\" \").indexOf(\" \"+t+\" \")&&(e.className+=\" \"+t):e.className=t},indexOf:function(e,t,i){Array.prototype.indexOf?this.indexOf=function(e,t,i){return e.indexOf(t,i)}:this.indexOf=function(e,t,i){var n,o,r=i||0;if(!e)throw new TypeError;if(0===(o=e.length)||r>=o)return-1;r<0&&(r=o-Math.abs(r));for(n=r;n<o;n++)if(e[n]===t)return n;return-1};return this.indexOf(e,t,i)},removeClass:function(e,t){var i,n,o=[];i=(e=$.getElement(e)).className.split(/\\s+/);for(n=0;n<i.length;n++)i[n]&&i[n]!==t&&o.push(i[n]);e.className=o.join(\" \")},addEvent:function(){if(window.addEventListener)return function(e,t,i,n){(e=$.getElement(e)).addEventListener(t,i,n)};if(window.attachEvent)return function(e,t,i,n){(e=$.getElement(e)).attachEvent(\"on\"+t,i)};throw new Error(\"No known event model.\")}(),removeEvent:function(){if(window.removeEventListener)return function(e,t,i,n){(e=$.getElement(e)).removeEventListener(t,i,n)};if(window.detachEvent)return function(e,t,i,n){(e=$.getElement(e)).detachEvent(\"on\"+t,i)};throw new Error(\"No known event model.\")}(),cancelEvent:function(e){(e=$.getEvent(e)).preventDefault?$.cancelEvent=function(e){e.preventDefault()}:$.cancelEvent=function(e){(e=$.getEvent(e)).cancel=!0;e.returnValue=!1};$.cancelEvent(e)},stopEvent:function(e){(e=$.getEvent(e)).stopPropagation?$.stopEvent=function(e){e.stopPropagation()}:$.stopEvent=function(e){(e=$.getEvent(e)).cancelBubble=!0};$.stopEvent(e)},createCallback:function(e,t){var i,n=[];for(i=2;i<arguments.length;i++)n.push(arguments[i]);return function(){var i,o=n.concat([]);for(i=0;i<arguments.length;i++)o.push(arguments[i]);return t.apply(e,o)}},getUrlParameter:function(e){var t=URLPARAMS[e];return t||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\\/\\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(e){var t;try{t=!!new ActiveXObject(\"Microsoft.XMLHTTP\")}catch(e){t=!1}if(t)window.XMLHttpRequest?$.createAjaxRequest=function(e){return e?new ActiveXObject(\"Microsoft.XMLHTTP\"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject(\"Microsoft.XMLHTTP\")};else{if(!window.XMLHttpRequest)throw new Error(\"Browser doesn't support XMLHttpRequest.\");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(e)},makeAjaxRequest:function(e,t,i){var n;var o;var r;if($.isPlainObject(e)){t=e.success;i=e.error;n=e.withCredentials;o=e.headers;r=e.responseType||null;e=e.url}var s=$.getUrlProtocol(e);var a=$.createAjaxRequest(\"file:\"===s);if(!$.isFunction(t))throw new Error(\"makeAjaxRequest requires a success callback\");a.onreadystatechange=function(){if(4==a.readyState){a.onreadystatechange=function(){};if(a.status>=200&&a.status<300||0===a.status&&\"http:\"!==s&&\"https:\"!==s)t(a);else{$.console.log(\"AJAX request returned %d: %s\",a.status,e);$.isFunction(i)&&i(a)}}};try{a.open(\"GET\",e,!0);r&&(a.responseType=r);if(o)for(var l in o)o.hasOwnProperty(l)&&o[l]&&a.setRequestHeader(l,o[l]);n&&(a.withCredentials=!0);a.send(null)}catch(n){var h=n.message;$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10&&void 0!==n.number&&-2147024891==n.number&&(h+=\"\\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain\");$.console.log(\"%s while making AJAX request: %s\",n.name,h);a.onreadystatechange=function(){};if(window.XDomainRequest){var c=new XDomainRequest;if(c){c.onload=function(e){$.isFunction(t)&&t({responseText:c.responseText,status:200,statusText:\"OK\"})};c.onerror=function(e){$.isFunction(i)&&i({responseText:c.responseText,status:444,statusText:\"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser.\"})};try{c.open(\"GET\",e);c.send()}catch(e){$.isFunction(i)&&i(a,n)}}}else $.isFunction(i)&&i(a,n)}return a},jsonp:function(e){var t,i=e.url,n=document.head||document.getElementsByTagName(\"head\")[0]||document.documentElement,o=e.callbackName||\"openseadragon\"+$.now(),r=window[o],s=\"$1\"+o+\"$2\",a=e.param||\"callback\",l=e.callback;i=i.replace(/(\\=)\\?(&|$)|\\?\\?/i,s);i+=(/\\?/.test(i)?\"&\":\"?\")+a+\"=\"+o;window[o]=function(e){if(r)window[o]=r;else try{delete window[o]}catch(e){}l&&$.isFunction(l)&&l(e)};t=document.createElement(\"script\");void 0===e.async&&!1===e.async||(t.async=\"async\");e.scriptCharset&&(t.charset=e.scriptCharset);t.src=i;t.onload=t.onreadystatechange=function(e,i){if(i||!t.readyState||/loaded|complete/.test(t.readyState)){t.onload=t.onreadystatechange=null;n&&t.parentNode&&n.removeChild(t);t=void 0}};n.insertBefore(t,n.firstChild)},createFromDZI:function(){throw\"OpenSeadragon.createFromDZI is deprecated, use Viewer.open.\"},parseXml:function(e){if(window.DOMParser)$.parseXml=function(e){return(new DOMParser).parseFromString(e,\"text/xml\")};else{if(!window.ActiveXObject)throw new Error(\"Browser doesn't support XML DOM.\");$.parseXml=function(e){var t=null;(t=new ActiveXObject(\"Microsoft.XMLDOM\")).async=!1;t.loadXML(e);return t}}return $.parseXml(e)},parseJSON:function(string){window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval(\"(\"+string+\")\")};return $.parseJSON(string)},imageFormatSupported:function(e){return!!FILEFORMATS[(e=e||\"\").toLowerCase()]}});$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};!function(){var e=navigator.appVersion,t=navigator.userAgent;switch(navigator.appName){case\"Microsoft Internet Explorer\":if(window.attachEvent&&window.ActiveXObject){$.Browser.vendor=$.BROWSERS.IE;$.Browser.version=parseFloat(t.substring(t.indexOf(\"MSIE\")+5,t.indexOf(\";\",t.indexOf(\"MSIE\"))))}break;case\"Netscape\":if(window.addEventListener)if(t.indexOf(\"Firefox\")>=0){$.Browser.vendor=$.BROWSERS.FIREFOX;$.Browser.version=parseFloat(t.substring(t.indexOf(\"Firefox\")+8))}else if(t.indexOf(\"Safari\")>=0){$.Browser.vendor=t.indexOf(\"Chrome\")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI;$.Browser.version=parseFloat(t.substring(t.substring(0,t.indexOf(\"Safari\")).lastIndexOf(\"/\")+1,t.indexOf(\"Safari\")))}else if(null!==new RegExp(\"Trident/.*rv:([0-9]{1,}[.0-9]{0,})\").exec(t)){$.Browser.vendor=$.BROWSERS.IE;$.Browser.version=parseFloat(RegExp.$1)}break;case\"Opera\":$.Browser.vendor=$.BROWSERS.OPERA;$.Browser.version=parseFloat(e)}var i,n,o,r=window.location.search.substring(1).split(\"&\");for(o=0;o<r.length;o++)(n=(i=r[o]).indexOf(\"=\"))>0&&(URLPARAMS[i.substring(0,n)]=decodeURIComponent(i.substring(n+1)));$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2);$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)}();var nullfunction=function(e){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction};!function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame;var i=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame;if(t&&i){$.requestAnimationFrame=function(){return t.apply(e,arguments)};$.cancelAnimationFrame=function(){return i.apply(e,arguments)}}else{var n,o=[],r=[],s=0;$.requestAnimationFrame=function(e){o.push([++s,e]);n||(n=setInterval(function(){if(o.length){var e=$.now();var t=r;r=o;o=t;for(;r.length;)r.shift()[1](e)}else{clearInterval(n);n=void 0}},20));return s};$.cancelAnimationFrame=function(e){var t,i;for(t=0,i=o.length;t<i;t+=1)if(o[t][0]===e){o.splice(t,1);return}for(t=0,i=r.length;t<i;t+=1)if(r[t][0]===e){r.splice(t,1);return}}}}(window);function getOffsetParent(e,t){return t&&e!=document.body?document.body:e.offsetParent}}(OpenSeadragon);!function(e,t){\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof module&&module.exports?module.exports=t():e.OpenSeadragon=t()}(this,function(){return OpenSeadragon});!function(e){var t={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:\"\",fullScreenErrorEventName:\"\"};if(document.exitFullscreen){t.supportsFullScreen=!0;t.getFullScreenElement=function(){return document.fullscreenElement};t.requestFullScreen=function(e){return e.requestFullscreen()};t.exitFullScreen=function(){document.exitFullscreen()};t.fullScreenEventName=\"fullscreenchange\";t.fullScreenErrorEventName=\"fullscreenerror\"}else if(document.msExitFullscreen){t.supportsFullScreen=!0;t.getFullScreenElement=function(){return document.msFullscreenElement};t.requestFullScreen=function(e){return e.msRequestFullscreen()};t.exitFullScreen=function(){document.msExitFullscreen()};t.fullScreenEventName=\"MSFullscreenChange\";t.fullScreenErrorEventName=\"MSFullscreenError\"}else if(document.webkitExitFullscreen){t.supportsFullScreen=!0;t.getFullScreenElement=function(){return document.webkitFullscreenElement};t.requestFullScreen=function(e){return e.webkitRequestFullscreen()};t.exitFullScreen=function(){document.webkitExitFullscreen()};t.fullScreenEventName=\"webkitfullscreenchange\";t.fullScreenErrorEventName=\"webkitfullscreenerror\"}else if(document.webkitCancelFullScreen){t.supportsFullScreen=!0;t.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement};t.requestFullScreen=function(e){return e.webkitRequestFullScreen()};t.exitFullScreen=function(){document.webkitCancelFullScreen()};t.fullScreenEventName=\"webkitfullscreenchange\";t.fullScreenErrorEventName=\"webkitfullscreenerror\"}else if(document.mozCancelFullScreen){t.supportsFullScreen=!0;t.getFullScreenElement=function(){return document.mozFullScreenElement};t.requestFullScreen=function(e){return e.mozRequestFullScreen()};t.exitFullScreen=function(){document.mozCancelFullScreen()};t.fullScreenEventName=\"mozfullscreenchange\";t.fullScreenErrorEventName=\"mozfullscreenerror\"}t.isFullScreen=function(){return null!==t.getFullScreenElement()};t.cancelFullScreen=function(){e.console.error(\"cancelFullScreen is deprecated. Use exitFullScreen instead.\");t.exitFullScreen()};e.extend(e,t)}(OpenSeadragon);!function(e){e.EventSource=function(){this.events={}};e.EventSource.prototype={addOnceHandler:function(e,t,i,n){var o=this;n=n||1;var r=0;var s=function(i){++r===n&&o.removeHandler(e,s);t(i)};this.addHandler(e,s,i)},addHandler:function(t,i,n){var o=this.events[t];o||(this.events[t]=o=[]);i&&e.isFunction(i)&&(o[o.length]={handler:i,userData:n||null})},removeHandler:function(t,i){var n,o=this.events[t],r=[];if(o&&e.isArray(o)){for(n=0;n<o.length;n++)o[n].handler!==i&&r.push(o[n]);this.events[t]=r}},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var t=this.events[e];if(!t||!t.length)return null;t=1===t.length?[t[0]]:Array.apply(null,t);return function(e,i){var n,o=t.length;for(n=0;n<o;n++)if(t[n]){i.eventSource=e;i.userData=t[n].userData;t[n].handler(i)}}},raiseEvent:function(e,t){var i=this.getHandler(e);if(i){t||(t={});i(this,t)}}}}(OpenSeadragon);!function(e){var t=[];var i={};e.MouseTracker=function(n){t.push(this);var o=arguments;e.isPlainObject(n)||(n={element:o[0],clickTimeThreshold:o[1],clickDistThreshold:o[2]});this.hash=Math.random();this.element=e.getElement(n.element);this.clickTimeThreshold=n.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold;this.clickDistThreshold=n.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold;this.dblClickTimeThreshold=n.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold;this.dblClickDistThreshold=n.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold;this.userData=n.userData||null;this.stopDelay=n.stopDelay||50;this.enterHandler=n.enterHandler||null;this.exitHandler=n.exitHandler||null;this.pressHandler=n.pressHandler||null;this.nonPrimaryPressHandler=n.nonPrimaryPressHandler||null;this.releaseHandler=n.releaseHandler||null;this.nonPrimaryReleaseHandler=n.nonPrimaryReleaseHandler||null;this.moveHandler=n.moveHandler||null;this.scrollHandler=n.scrollHandler||null;this.clickHandler=n.clickHandler||null;this.dblClickHandler=n.dblClickHandler||null;this.dragHandler=n.dragHandler||null;this.dragEndHandler=n.dragEndHandler||null;this.pinchHandler=n.pinchHandler||null;this.stopHandler=n.stopHandler||null;this.keyDownHandler=n.keyDownHandler||null;this.keyUpHandler=n.keyUpHandler||null;this.keyHandler=n.keyHandler||null;this.focusHandler=n.focusHandler||null;this.blurHandler=n.blurHandler||null;var r=this;i[this.hash]={click:function(t){i=t,r.clickHandler&&e.cancelEvent(i);var i},dblclick:function(t){i=t,r.dblClickHandler&&e.cancelEvent(i);var i},keydown:function(t){!function(t,i){if(t.keyDownHandler){i=e.getEvent(i);t.keyDownHandler({eventSource:t,keyCode:i.keyCode?i.keyCode:i.charCode,ctrl:i.ctrlKey,shift:i.shiftKey,alt:i.altKey,meta:i.metaKey,originalEvent:i,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(i)}}(r,t)},keyup:function(t){!function(t,i){if(t.keyUpHandler){i=e.getEvent(i);t.keyUpHandler({eventSource:t,keyCode:i.keyCode?i.keyCode:i.charCode,ctrl:i.ctrlKey,shift:i.shiftKey,alt:i.altKey,meta:i.metaKey,originalEvent:i,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(i)}}(r,t)},keypress:function(t){!function(t,i){if(t.keyHandler){i=e.getEvent(i);t.keyHandler({eventSource:t,keyCode:i.keyCode?i.keyCode:i.charCode,ctrl:i.ctrlKey,shift:i.shiftKey,alt:i.altKey,meta:i.metaKey,originalEvent:i,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(i)}}(r,t)},focus:function(t){!function(t,i){if(t.focusHandler){i=e.getEvent(i);!1===t.focusHandler({eventSource:t,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i)}}(r,t)},blur:function(t){!function(t,i){if(t.blurHandler){i=e.getEvent(i);!1===t.blurHandler({eventSource:t,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i)}}(r,t)},wheel:function(e){g(r,t=e,t);var t},mousewheel:function(e){p(r,e)},DOMMouseScroll:function(e){p(r,e)},MozMousePixelScroll:function(e){p(r,e)},mouseenter:function(t){!function(t,i){i=e.getEvent(i);v(t,i)}(r,t)},mouseleave:function(t){!function(t,i){i=e.getEvent(i);f(t,i)}(r,t)},mouseover:function(t){!function(t,i){if((i=e.getEvent(i)).currentTarget===i.relatedTarget||m(i.currentTarget,i.relatedTarget))return;v(t,i)}(r,t)},mouseout:function(t){!function(t,i){if((i=e.getEvent(i)).currentTarget===i.relatedTarget||m(i.currentTarget,i.relatedTarget))return;f(t,i)}(r,t)},mousedown:function(t){!function(t,i){var n;i=e.getEvent(i);n={id:e.MouseTracker.mousePointerId,type:\"mouse\",isPrimary:!0,currentPos:h(i),currentTime:e.now()};if(H(t,i,[n],w(i.button))){e.stopEvent(i);s(t,\"mouse\")}(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler)&&e.cancelEvent(i)}(r,t)},mouseup:function(e){y(r,e)},mouseupcaptured:function(t){!function(t,i){y(t,i);e.stopEvent(i)}(r,t)},mousemove:function(e){T(r,e)},mousemovecaptured:function(t){!function(t,i){T(t,i);e.stopEvent(i)}(r,t)},touchstart:function(i){!function(i,n){var o,r,a,l,c=n.changedTouches.length,u=[],d=i.getActivePointersListByType(\"touch\");o=e.now();if(d.getLength()>n.touches.length-c){e.console.warn(\"Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers.\");x(i,n,d)}for(r=0;r<c;r++)u.push({id:n.changedTouches[r].identifier,type:\"touch\",currentPos:h(n.changedTouches[r]),currentTime:o});z(i,n,u);for(r=0;r<t.length;r++)if(t[r]!==i&&t[r].isTracking()&&m(t[r].element,i.element)){l=[];for(a=0;a<c;a++)l.push({id:n.changedTouches[a].identifier,type:\"touch\",currentPos:h(n.changedTouches[a]),currentTime:o});z(t[r],n,l)}if(H(i,n,u,0)){e.stopEvent(n);s(i,\"touch\",c)}e.cancelEvent(n)}(r,i)},touchend:function(e){S(r,e)},touchendcaptured:function(t){!function(t,i){S(t,i);e.stopEvent(i)}(r,t)},touchmove:function(e){E(r,e)},touchmovecaptured:function(t){!function(t,i){E(t,i);e.stopEvent(i)}(r,t)},touchcancel:function(e){!function(e,t){var i=e.getActivePointersListByType(\"touch\");x(e,t,i)}(r,e)},gesturestart:function(e){!function(e,t){t.stopPropagation();t.preventDefault()}(0,e)},gesturechange:function(e){!function(e,t){t.stopPropagation();t.preventDefault()}(0,e)},pointerover:function(e){P(r,e)},MSPointerOver:function(e){P(r,e)},pointerout:function(e){R(r,e)},MSPointerOut:function(e){R(r,e)},pointerdown:function(e){_(r,e)},MSPointerDown:function(e){_(r,e)},pointerup:function(e){C(r,e)},MSPointerUp:function(e){C(r,e)},pointermove:function(e){O(r,e)},MSPointerMove:function(e){O(r,e)},pointercancel:function(e){k(r,e)},MSPointerCancel:function(e){k(r,e)},pointerupcaptured:function(t){!function(t,i){t.getActivePointersListByType(l(i)).getById(i.pointerId)&&b(t,i);e.stopEvent(i)}(r,t)},pointermovecaptured:function(t){!function(t,i){t.getActivePointersListByType(l(i)).getById(i.pointerId)&&I(t,i);e.stopEvent(i)}(r,t)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null};n.startDisabled||this.setTracking(!0)};e.MouseTracker.prototype={destroy:function(){var e;o(this);this.element=null;for(e=0;e<t.length;e++)if(t[e]===this){t.splice(e,1);break}i[this.hash]=null;delete i[this.hash]},isTracking:function(){return i[this.hash].tracking},setTracking:function(t){t?function(t){var o,r,s=i[t.hash];if(!s.tracking){for(r=0;r<e.MouseTracker.subscribeEvents.length;r++){o=e.MouseTracker.subscribeEvents[r];e.addEvent(t.element,o,s[o],!1)}n(t);s.tracking=!0}}(this):o(this);return this},getActivePointersListsExceptType:function(e){var t=i[this.hash];var n=[];for(var o=0;o<t.activePointersLists.length;++o)t.activePointersLists[o].type!==e&&n.push(t.activePointersLists[o]);return n},getActivePointersListByType:function(t){var n,o,r=i[this.hash],s=r.activePointersLists.length;for(n=0;n<s;n++)if(r.activePointersLists[n].type===t)return r.activePointersLists[n];o=new e.MouseTracker.GesturePointList(t);r.activePointersLists.push(o);return o},getActivePointerCount:function(){var e,t=i[this.hash],n=t.activePointersLists.length,o=0;for(e=0;e<n;e++)o+=t.activePointersLists[e].getLength();return o},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};e.MouseTracker.resetAllMouseTrackers=function(){for(var e=0;e<t.length;e++)if(t[e].isTracking()){t[e].setTracking(!1);t[e].setTracking(!0)}};e.MouseTracker.gesturePointVelocityTracker=function(){var t=[],i=0,n=0;var o=function(e,t){return e.hash.toString()+t.type+t.id.toString()};var r=function(){var i,o,r,s,a,l,h=t.length,c=e.now();s=c-n;n=c;for(i=0;i<h;i++){(r=(o=t[i]).gPoint).direction=Math.atan2(r.currentPos.y-o.lastPos.y,r.currentPos.x-o.lastPos.x);a=o.lastPos.distanceTo(r.currentPos);o.lastPos=r.currentPos;l=1e3*a/(s+1);r.speed=.75*l+.25*r.speed}};return{addPoint:function(s,a){var l=o(s,a);t.push({guid:l,gPoint:a,lastPos:a.currentPos});if(1===t.length){n=e.now();i=window.setInterval(r,50)}},removePoint:function(e,n){var r,s=o(e,n),a=t.length;for(r=0;r<a;r++)if(t[r].guid===s){t.splice(r,1);0==--a&&window.clearInterval(i);break}}}}();e.MouseTracker.captureElement=document;e.MouseTracker.wheelEventName=e.Browser.vendor==e.BROWSERS.IE&&e.Browser.version>8||\"onwheel\"in document.createElement(\"div\")?\"wheel\":void 0!==document.onmousewheel?\"mousewheel\":\"DOMMouseScroll\";e.MouseTracker.supportsMouseCapture=function(){var t=document.createElement(\"div\");return e.isFunction(t.setCapture)&&e.isFunction(t.releaseCapture)}();e.MouseTracker.subscribeEvents=[\"click\",\"dblclick\",\"keydown\",\"keyup\",\"keypress\",\"focus\",\"blur\",e.MouseTracker.wheelEventName];\"DOMMouseScroll\"==e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push(\"MozMousePixelScroll\");if(window.PointerEvent&&(window.navigator.pointerEnabled||e.Browser.vendor!==e.BROWSERS.IE)){e.MouseTracker.havePointerEvents=!0;e.MouseTracker.subscribeEvents.push(\"pointerover\",\"pointerout\",\"pointerdown\",\"pointerup\",\"pointermove\",\"pointercancel\");e.MouseTracker.unprefixedPointerEvents=!0;navigator.maxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:e.MouseTracker.maxTouchPoints=0;e.MouseTracker.haveMouseEnter=!1}else if(window.MSPointerEvent&&window.navigator.msPointerEnabled){e.MouseTracker.havePointerEvents=!0;e.MouseTracker.subscribeEvents.push(\"MSPointerOver\",\"MSPointerOut\",\"MSPointerDown\",\"MSPointerUp\",\"MSPointerMove\",\"MSPointerCancel\");e.MouseTracker.unprefixedPointerEvents=!1;navigator.msMaxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:e.MouseTracker.maxTouchPoints=0;e.MouseTracker.haveMouseEnter=!1}else{e.MouseTracker.havePointerEvents=!1;if(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9){e.MouseTracker.subscribeEvents.push(\"mouseenter\",\"mouseleave\");e.MouseTracker.haveMouseEnter=!0}else{e.MouseTracker.subscribeEvents.push(\"mouseover\",\"mouseout\");e.MouseTracker.haveMouseEnter=!1}e.MouseTracker.subscribeEvents.push(\"mousedown\",\"mouseup\",\"mousemove\");\"ontouchstart\"in window&&e.MouseTracker.subscribeEvents.push(\"touchstart\",\"touchend\",\"touchmove\",\"touchcancel\");\"ongesturestart\"in window&&e.MouseTracker.subscribeEvents.push(\"gesturestart\",\"gesturechange\");e.MouseTracker.mousePointerId=\"legacy-mouse\";e.MouseTracker.maxTouchPoints=10}e.MouseTracker.GesturePointList=function(e){this._gPoints=[];this.type=e;this.buttons=0;this.contacts=0;this.clicks=0;this.captureCount=0};e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,i=this._gPoints.length;for(t=0;t<i;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,i=this._gPoints.length;for(t=0;t<i;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(e){var t,i=this._gPoints.length;for(t=0;t<i;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null},addContact:function(){++this.contacts;this.contacts>1&&(\"mouse\"===this.type||\"pen\"===this.type)&&(this.contacts=1)},removeContact:function(){--this.contacts;this.contacts<0&&(this.contacts=0)}};function n(t){var n,o=i[t.hash],r=o.activePointersLists.length;for(n=0;n<r;n++)if(o.activePointersLists[n].captureCount>0){e.removeEvent(e.MouseTracker.captureElement,\"mousemove\",o.mousemovecaptured,!0);e.removeEvent(e.MouseTracker.captureElement,\"mouseup\",o.mouseupcaptured,!0);e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?\"pointermove\":\"MSPointerMove\",o.pointermovecaptured,!0);e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?\"pointerup\":\"MSPointerUp\",o.pointerupcaptured,!0);e.removeEvent(e.MouseTracker.captureElement,\"touchmove\",o.touchmovecaptured,!0);e.removeEvent(e.MouseTracker.captureElement,\"touchend\",o.touchendcaptured,!0);o.activePointersLists[n].captureCount=0}for(n=0;n<r;n++)o.activePointersLists.pop()}function o(t){var o,r,s=i[t.hash];if(s.tracking){for(r=0;r<e.MouseTracker.subscribeEvents.length;r++){o=e.MouseTracker.subscribeEvents[r];e.removeEvent(t.element,o,s[o],!1)}n(t);s.tracking=!1}}function r(t,n){var o=i[t.hash];if(\"pointerevent\"===n)return{upName:e.MouseTracker.unprefixedPointerEvents?\"pointerup\":\"MSPointerUp\",upHandler:o.pointerupcaptured,moveName:e.MouseTracker.unprefixedPointerEvents?\"pointermove\":\"MSPointerMove\",moveHandler:o.pointermovecaptured};if(\"mouse\"===n)return{upName:\"mouseup\",upHandler:o.mouseupcaptured,moveName:\"mousemove\",moveHandler:o.mousemovecaptured};if(\"touch\"===n)return{upName:\"touchend\",upHandler:o.touchendcaptured,moveName:\"touchmove\",moveHandler:o.touchmovecaptured};throw new Error(\"MouseTracker.getCaptureEventParams: Unknown pointer type.\")}function s(t,i,n){var o,s=t.getActivePointersListByType(i);s.captureCount+=n||1;if(1===s.captureCount)if(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9)t.element.setCapture(!0);else{o=r(t,e.MouseTracker.havePointerEvents?\"pointerevent\":i);N&&A(window.top)&&e.addEvent(window.top,o.upName,o.upHandler,!0);e.addEvent(e.MouseTracker.captureElement,o.upName,o.upHandler,!0);e.addEvent(e.MouseTracker.captureElement,o.moveName,o.moveHandler,!0)}}function a(t,i,n){var o,s=t.getActivePointersListByType(i);s.captureCount-=n||1;if(0===s.captureCount)if(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9)t.element.releaseCapture();else{o=r(t,e.MouseTracker.havePointerEvents?\"pointerevent\":i);N&&A(window.top)&&e.removeEvent(window.top,o.upName,o.upHandler,!0);e.removeEvent(e.MouseTracker.captureElement,o.moveName,o.moveHandler,!0);e.removeEvent(e.MouseTracker.captureElement,o.upName,o.upHandler,!0)}}function l(t){var i;if(e.MouseTracker.unprefixedPointerEvents)i=t.pointerType;else switch(t.pointerType){case 2:i=\"touch\";break;case 3:i=\"pen\";break;case 4:i=\"mouse\";break;default:i=\"\"}return i}function h(t){return e.getMousePosition(t)}function c(e,t){return u(h(e),t)}function u(t,i){var n=e.getElementOffset(i);return t.minus(n)}function d(t,i){return new e.Point((t.x+i.x)/2,(t.y+i.y)/2)}function p(t,i){var n={target:(i=e.getEvent(i)).target||i.srcElement,type:\"wheel\",shiftKey:i.shiftKey||!1,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX?i.pageX:i.clientX,pageY:i.pageY?i.pageY:i.clientY,deltaMode:\"MozMousePixelScroll\"==i.type?0:1,deltaX:0,deltaZ:0};\"mousewheel\"==e.MouseTracker.wheelEventName?n.deltaY=-i.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:n.deltaY=i.detail;g(t,n,i)}function g(t,i,n){var o=0;o=i.deltaY<0?1:-1;t.scrollHandler&&!1===t.scrollHandler({eventSource:t,pointerType:\"mouse\",position:c(i,t.element),scroll:o,shift:i.shiftKey,isTouchEvent:!1,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}function m(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e}function v(t,i){z(t,i,[{id:e.MouseTracker.mousePointerId,type:\"mouse\",isPrimary:!0,currentPos:h(i),currentTime:e.now()}])}function f(t,i){M(t,i,[{id:e.MouseTracker.mousePointerId,type:\"mouse\",isPrimary:!0,currentPos:h(i),currentTime:e.now()}])}function w(t){return e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?1===t?0:2===t?2:4===t?1:-1:t}function y(t,i){L(t,i=e.getEvent(i),[{id:e.MouseTracker.mousePointerId,type:\"mouse\",isPrimary:!0,currentPos:h(i),currentTime:e.now()}],w(i.button))&&a(t,\"mouse\")}function T(t,i){F(t,i=e.getEvent(i),[{id:e.MouseTracker.mousePointerId,type:\"mouse\",isPrimary:!0,currentPos:h(i),currentTime:e.now()}])}function x(e,t,i){var n,o=i.getLength(),r=[];if(\"touch\"===i.type||i.contacts>0){for(n=0;n<o;n++)r.push(i.getByIndex(n));if(r.length>0){L(e,t,r,0);i.captureCount=1;a(e,i.type);M(e,t,r)}}}function S(i,n){var o,r,s,l,c=n.changedTouches.length,u=[];o=e.now();for(r=0;r<c;r++)u.push({id:n.changedTouches[r].identifier,type:\"touch\",currentPos:h(n.changedTouches[r]),currentTime:o});L(i,n,u,0)&&a(i,\"touch\",c);M(i,n,u);for(r=0;r<t.length;r++)if(t[r]!==i&&t[r].isTracking()&&m(t[r].element,i.element)){l=[];for(s=0;s<c;s++)l.push({id:n.changedTouches[s].identifier,type:\"touch\",currentPos:h(n.changedTouches[s]),currentTime:o});M(t[r],n,l)}e.cancelEvent(n)}function E(t,i){var n,o=i.changedTouches.length,r=[];for(n=0;n<o;n++)r.push({id:i.changedTouches[n].identifier,type:\"touch\",currentPos:h(i.changedTouches[n]),currentTime:e.now()});F(t,i,r);e.cancelEvent(i)}function P(t,i){i.currentTarget===i.relatedTarget||m(i.currentTarget,i.relatedTarget)||z(t,i,[{id:i.pointerId,type:l(i),isPrimary:i.isPrimary,currentPos:h(i),currentTime:e.now()}])}function R(t,i){i.currentTarget===i.relatedTarget||m(i.currentTarget,i.relatedTarget)||M(t,i,[{id:i.pointerId,type:l(i),isPrimary:i.isPrimary,currentPos:h(i),currentTime:e.now()}])}function _(t,i){var n;if(H(t,i,[n={id:i.pointerId,type:l(i),isPrimary:i.isPrimary,currentPos:h(i),currentTime:e.now()}],i.button)){e.stopEvent(i);s(t,n.type)}(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.cancelEvent(i)}function C(e,t){b(e,t)}function b(t,i){var n;L(t,i,[n={id:i.pointerId,type:l(i),isPrimary:i.isPrimary,currentPos:h(i),currentTime:e.now()}],i.button)&&a(t,n.type)}function O(e,t){I(e,t)}function I(t,i){F(t,i,[{id:i.pointerId,type:l(i),isPrimary:i.isPrimary,currentPos:h(i),currentTime:e.now()}])}function k(e,t){!function(e,t,i){L(e,t,i,0);M(e,t,i)}(e,t,[{id:t.pointerId,type:l(t)}])}function B(e,t){t.hasOwnProperty(\"isPrimary\")||(0===e.getLength()?t.isPrimary=!0:t.isPrimary=!1);t.speed=0;t.direction=0;t.contactPos=t.currentPos;t.contactTime=t.currentTime;t.lastPos=t.currentPos;t.lastTime=t.currentTime;return e.add(t)}function D(e,t){var i,n;if(e.getById(t.id)){i=e.removeById(t.id);t.hasOwnProperty(\"isPrimary\")||(n=e.getPrimary())||(n=e.getByIndex(0))&&(n.isPrimary=!0)}else i=e.getLength();return i}function z(t,i,n){var o,r,s,a=t.getActivePointersListByType(n[0].type),l=n.length;for(o=0;o<l;o++){r=n[o];if(s=a.getById(r.id)){s.insideElement=!0;s.lastPos=s.currentPos;s.lastTime=s.currentTime;s.currentPos=r.currentPos;s.currentTime=r.currentTime;r=s}else{r.captured=!1;r.insideElementPressed=!1;r.insideElement=!0;B(a,r)}t.enterHandler&&!1===t.enterHandler({eventSource:t,pointerType:r.type,position:u(r.currentPos,t.element),buttons:a.buttons,pointers:t.getActivePointerCount(),insideElementPressed:r.insideElementPressed,buttonDownAny:0!==a.buttons,isTouchEvent:\"touch\"===r.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i)}}function M(t,i,n){var o,r,s,a=t.getActivePointersListByType(n[0].type),l=n.length;for(o=0;o<l;o++){r=n[o];if(s=a.getById(r.id)){if(s.captured){s.insideElement=!1;s.lastPos=s.currentPos;s.lastTime=s.currentTime;s.currentPos=r.currentPos;s.currentTime=r.currentTime}else D(a,s);r=s}t.exitHandler&&!1===t.exitHandler({eventSource:t,pointerType:r.type,position:u(r.currentPos,t.element),buttons:a.buttons,pointers:t.getActivePointerCount(),insideElementPressed:!!s&&s.insideElementPressed,buttonDownAny:0!==a.buttons,isTouchEvent:\"touch\"===r.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i)}}function H(t,n,o,r){var s,a,l,h=i[t.hash],c=t.getActivePointersListByType(o[0].type),p=o.length;void 0!==n.buttons?c.buttons=n.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===r?c.buttons+=1:1===r?c.buttons+=4:2===r?c.buttons+=2:3===r?c.buttons+=8:4===r?c.buttons+=16:5===r&&(c.buttons+=32):0===r?c.buttons|=1:1===r?c.buttons|=4:2===r?c.buttons|=2:3===r?c.buttons|=8:4===r?c.buttons|=16:5===r&&(c.buttons|=32);var g=t.getActivePointersListsExceptType(o[0].type);for(s=0;s<g.length;s++)x(t,n,g[s]);if(0!==r){t.nonPrimaryPressHandler&&!1===t.nonPrimaryPressHandler({eventSource:t,pointerType:o[0].type,position:u(o[0].currentPos,t.element),button:r,buttons:c.buttons,isTouchEvent:\"touch\"===o[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n);return!1}for(s=0;s<p;s++){a=o[s];if(l=c.getById(a.id)){l.captured=!0;l.insideElementPressed=!0;l.insideElement=!0;l.contactPos=a.currentPos;l.contactTime=a.currentTime;l.lastPos=l.currentPos;l.lastTime=l.currentTime;l.currentPos=a.currentPos;l.currentTime=a.currentTime;a=l}else{a.captured=!0;a.insideElementPressed=!0;a.insideElement=!0;B(c,a)}c.addContact();(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(t,a);if(1===c.contacts)t.pressHandler&&!1===t.pressHandler({eventSource:t,pointerType:a.type,position:u(a.contactPos,t.element),buttons:c.buttons,isTouchEvent:\"touch\"===a.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n);else if(2===c.contacts&&t.pinchHandler&&\"touch\"===a.type){h.pinchGPoints=c.asArray();h.lastPinchDist=h.currentPinchDist=h.pinchGPoints[0].currentPos.distanceTo(h.pinchGPoints[1].currentPos);h.lastPinchCenter=h.currentPinchCenter=d(h.pinchGPoints[0].currentPos,h.pinchGPoints[1].currentPos)}}return!0}function L(t,n,o,r){var s,a,l,h,c,p,g=i[t.hash],m=t.getActivePointersListByType(o[0].type),v=o.length,f=!1,w=!1;void 0!==n.buttons?m.buttons=n.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===r?m.buttons-=1:1===r?m.buttons-=4:2===r?m.buttons-=2:3===r?m.buttons-=8:4===r?m.buttons-=16:5===r&&(m.buttons-=32):0===r?m.buttons^=-2:1===r?m.buttons^=-5:2===r?m.buttons^=-3:3===r?m.buttons^=-9:4===r?m.buttons^=-17:5===r&&(m.buttons^=-33);if(0!==r){t.nonPrimaryReleaseHandler&&!1===t.nonPrimaryReleaseHandler({eventSource:t,pointerType:o[0].type,position:u(o[0].currentPos,t.element),button:r,buttons:m.buttons,isTouchEvent:\"touch\"===o[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n);x(t,n,t.getActivePointersListByType(\"mouse\"));return!1}for(l=0;l<v;l++){h=o[l];if(c=m.getById(h.id)){if(c.captured){c.captured=!1;f=!0;w=!0}c.lastPos=c.currentPos;c.lastTime=c.currentTime;c.currentPos=h.currentPos;c.currentTime=h.currentTime;c.insideElement||D(m,c);s=c.currentPos;a=c.currentTime;if(w){m.removeContact();(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(t,c);if(0===m.contacts){t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:c.type,position:u(s,t.element),buttons:m.buttons,insideElementPressed:c.insideElementPressed,insideElementReleased:c.insideElement,isTouchEvent:\"touch\"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n);t.dragEndHandler&&!c.currentPos.equals(c.contactPos)&&!1===t.dragEndHandler({eventSource:t,pointerType:c.type,position:u(c.currentPos,t.element),speed:c.speed,direction:c.direction,shift:n.shiftKey,isTouchEvent:\"touch\"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n);if((t.clickHandler||t.dblClickHandler)&&c.insideElement){p=a-c.contactTime<=t.clickTimeThreshold&&c.contactPos.distanceTo(s)<=t.clickDistThreshold;t.clickHandler&&!1===t.clickHandler({eventSource:t,pointerType:c.type,position:u(c.currentPos,t.element),quick:p,shift:n.shiftKey,isTouchEvent:\"touch\"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n);if(t.dblClickHandler&&p){m.clicks++;if(1===m.clicks){g.lastClickPos=s;g.dblClickTimeOut=setTimeout(function(){m.clicks=0},t.dblClickTimeThreshold)}else if(2===m.clicks){clearTimeout(g.dblClickTimeOut);m.clicks=0;g.lastClickPos.distanceTo(s)<=t.dblClickDistThreshold&&!1===t.dblClickHandler({eventSource:t,pointerType:c.type,position:u(c.currentPos,t.element),shift:n.shiftKey,isTouchEvent:\"touch\"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n);g.lastClickPos=null}}}}else if(2===m.contacts&&t.pinchHandler&&\"touch\"===c.type){g.pinchGPoints=m.asArray();g.lastPinchDist=g.currentPinchDist=g.pinchGPoints[0].currentPos.distanceTo(g.pinchGPoints[1].currentPos);g.lastPinchCenter=g.currentPinchCenter=d(g.pinchGPoints[0].currentPos,g.pinchGPoints[1].currentPos)}}else t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:c.type,position:u(s,t.element),buttons:m.buttons,insideElementPressed:c.insideElementPressed,insideElementReleased:c.insideElement,isTouchEvent:\"touch\"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}}return f}function F(t,n,o){var r,s,a,l,h,p=i[t.hash],g=t.getActivePointersListByType(o[0].type),m=o.length;void 0!==n.buttons&&(g.buttons=n.buttons);for(r=0;r<m;r++){s=o[r];if(a=g.getById(s.id)){s.hasOwnProperty(\"isPrimary\")&&(a.isPrimary=s.isPrimary);a.lastPos=a.currentPos;a.lastTime=a.currentTime;a.currentPos=s.currentPos;a.currentTime=s.currentTime}else{s.captured=!1;s.insideElementPressed=!1;s.insideElement=!0;B(g,s)}}if(t.stopHandler&&\"mouse\"===o[0].type){clearTimeout(t.stopTimeOut);t.stopTimeOut=setTimeout(function(){e=t,i=n,r=o[0].type,e.stopHandler&&e.stopHandler({eventSource:e,pointerType:r,position:c(i,e.element),buttons:e.getActivePointersListByType(r).buttons,isTouchEvent:\"touch\"===r,originalEvent:i,preventDefaultAction:!1,userData:e.userData});var e,i,r},t.stopDelay)}if(0===g.contacts)t.moveHandler&&!1===t.moveHandler({eventSource:t,pointerType:o[0].type,position:u(o[0].currentPos,t.element),buttons:g.buttons,isTouchEvent:\"touch\"===o[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n);else if(1===g.contacts){if(t.moveHandler){a=g.asArray()[0];!1===t.moveHandler({eventSource:t,pointerType:a.type,position:u(a.currentPos,t.element),buttons:g.buttons,isTouchEvent:\"touch\"===a.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}if(t.dragHandler){h=(a=g.asArray()[0]).currentPos.minus(a.lastPos);!1===t.dragHandler({eventSource:t,pointerType:a.type,position:u(a.currentPos,t.element),buttons:g.buttons,delta:h,speed:a.speed,direction:a.direction,shift:n.shiftKey,isTouchEvent:\"touch\"===a.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}}else if(2===g.contacts){if(t.moveHandler){l=g.asArray();!1===t.moveHandler({eventSource:t,pointerType:l[0].type,position:u(d(l[0].currentPos,l[1].currentPos),t.element),buttons:g.buttons,isTouchEvent:\"touch\"===l[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}if(t.pinchHandler&&\"touch\"===o[0].type&&(h=p.pinchGPoints[0].currentPos.distanceTo(p.pinchGPoints[1].currentPos))!=p.currentPinchDist){p.lastPinchDist=p.currentPinchDist;p.currentPinchDist=h;p.lastPinchCenter=p.currentPinchCenter;p.currentPinchCenter=d(p.pinchGPoints[0].currentPos,p.pinchGPoints[1].currentPos);!1===t.pinchHandler({eventSource:t,pointerType:\"touch\",gesturePoints:p.pinchGPoints,lastCenter:u(p.lastPinchCenter,t.element),center:u(p.currentPinchCenter,t.element),lastDistance:p.lastPinchDist,distance:p.currentPinchDist,shift:n.shiftKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}}}var N=function(){try{return window.self!==window.top}catch(e){return!0}}();function A(e){try{return e.addEventListener&&e.removeEventListener}catch(e){return!1}}}(OpenSeadragon);!function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5};e.Control=function(t,i,n){var o=t.parentNode;if(\"number\"==typeof i){e.console.error(\"Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013\");i={anchor:i}}i.attachToViewer=void 0===i.attachToViewer||i.attachToViewer;this.autoFade=void 0===i.autoFade||i.autoFade;this.element=t;this.anchor=i.anchor;this.container=n;if(this.anchor==e.ControlAnchor.ABSOLUTE){this.wrapper=e.makeNeutralElement(\"div\");this.wrapper.style.position=\"absolute\";this.wrapper.style.top=\"number\"==typeof i.top?i.top+\"px\":i.top;this.wrapper.style.left=\"number\"==typeof i.left?i.left+\"px\":i.left;this.wrapper.style.height=\"number\"==typeof i.height?i.height+\"px\":i.height;this.wrapper.style.width=\"number\"==typeof i.width?i.width+\"px\":i.width;this.wrapper.style.margin=\"0px\";this.wrapper.style.padding=\"0px\";this.element.style.position=\"relative\";this.element.style.top=\"0px\";this.element.style.left=\"0px\";this.element.style.height=\"100%\";this.element.style.width=\"100%\"}else{this.wrapper=e.makeNeutralElement(\"div\");this.wrapper.style.display=\"inline-block\";this.anchor==e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height=\"100%\")}this.wrapper.appendChild(this.element);i.attachToViewer?this.anchor==e.ControlAnchor.TOP_RIGHT||this.anchor==e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):o.appendChild(this.wrapper)};e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element);this.container.removeChild(this.wrapper)},isVisible:function(){return\"none\"!=this.wrapper.style.display},setVisible:function(t){this.wrapper.style.display=t?this.anchor==e.ControlAnchor.ABSOLUTE?\"block\":\"inline-block\":\"none\"},setOpacity:function(t){this.element[e.SIGNAL]&&e.Browser.vendor==e.BROWSERS.IE?e.setElementOpacity(this.element,t,!0):e.setElementOpacity(this.wrapper,t,!0)}}}(OpenSeadragon);!function(e){e.ControlDock=function(t){var i,n,o=[\"topleft\",\"topright\",\"bottomright\",\"bottomleft\"];e.extend(!0,this,{id:\"controldock-\"+e.now()+\"-\"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement(\"div\"),controls:[]},t);this.container.onsubmit=function(){return!1};if(this.element){this.element=e.getElement(this.element);this.element.appendChild(this.container);this.element.style.position=\"relative\";this.container.style.width=\"100%\";this.container.style.height=\"100%\"}for(n=0;n<o.length;n++){i=o[n];this.controls[i]=e.makeNeutralElement(\"div\");this.controls[i].style.position=\"absolute\";i.match(\"left\")&&(this.controls[i].style.left=\"0px\");i.match(\"right\")&&(this.controls[i].style.right=\"0px\");i.match(\"top\")&&(this.controls[i].style.top=\"0px\");i.match(\"bottom\")&&(this.controls[i].style.bottom=\"0px\")}this.container.appendChild(this.controls.topleft);this.container.appendChild(this.controls.topright);this.container.appendChild(this.controls.bottomright);this.container.appendChild(this.controls.bottomleft)};e.ControlDock.prototype={addControl:function(i,n){var o=null;if(!(t(this,i=e.getElement(i))>=0)){switch(n.anchor){case e.ControlAnchor.TOP_RIGHT:o=this.controls.topright;i.style.position=\"relative\";i.style.paddingRight=\"0px\";i.style.paddingTop=\"0px\";break;case e.ControlAnchor.BOTTOM_RIGHT:o=this.controls.bottomright;i.style.position=\"relative\";i.style.paddingRight=\"0px\";i.style.paddingBottom=\"0px\";break;case e.ControlAnchor.BOTTOM_LEFT:o=this.controls.bottomleft;i.style.position=\"relative\";i.style.paddingLeft=\"0px\";i.style.paddingBottom=\"0px\";break;case e.ControlAnchor.TOP_LEFT:o=this.controls.topleft;i.style.position=\"relative\";i.style.paddingLeft=\"0px\";i.style.paddingTop=\"0px\";break;case e.ControlAnchor.ABSOLUTE:o=this.container;i.style.margin=\"0px\";i.style.padding=\"0px\";break;default:case e.ControlAnchor.NONE:o=this.container;i.style.margin=\"0px\";i.style.padding=\"0px\"}this.controls.push(new e.Control(i,n,o));i.style.display=\"inline-block\"}},removeControl:function(i){var n=t(this,i=e.getElement(i));if(n>=0){this.controls[n].destroy();this.controls.splice(n,1)}return this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;e>=0;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(e);return this}};function t(e,t){var i,n=e.controls;for(i=n.length-1;i>=0;i--)if(n[i].element==t)return i;return-1}}(OpenSeadragon);!function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon);!function(e){var t={};var i=1;e.Viewer=function(o){var r,a=arguments,h=this;e.isPlainObject(o)||(o={id:a[0],xmlPath:a.length>1?a[1]:void 0,prefixUrl:a.length>2?a[2]:void 0,controls:a.length>3?a[3]:void 0,overlays:a.length>4?a[4]:void 0});if(o.config){e.extend(!0,o,o.config);delete o.config}e.extend(!0,this,{id:o.id,hash:o.hash||i++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},e.DEFAULT_SETTINGS,o);if(void 0===this.hash)throw new Error(\"A hash must be defined, either by specifying options.id or options.hash.\");void 0!==t[this.hash]&&e.console.warn(\"Hash \"+this.hash+\" has already been used.\");t[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null};this._sequenceIndex=0;this._firstOpen=!0;this._updateRequestId=null;this._loadQueue=[];this.currentOverlays=[];this._lastScrollTime=e.now();e.EventSource.call(this);this.addHandler(\"open-failed\",function(t){var i=e.getString(\"Errors.OpenFailed\",t.eventSource,t.message);h._showMessage(i)});e.ControlDock.call(this,o);this.xmlPath&&(this.tileSources=[this.xmlPath]);this.element=this.element||document.getElementById(this.id);this.canvas=e.makeNeutralElement(\"div\");this.canvas.className=\"openseadragon-canvas\";!function(e){e.width=\"100%\";e.height=\"100%\";e.overflow=\"hidden\";e.position=\"absolute\";e.top=\"0px\";e.left=\"0px\"}(this.canvas.style);e.setElementTouchActionNone(this.canvas);\"\"!==o.tabIndex&&(this.canvas.tabIndex=void 0===o.tabIndex?0:o.tabIndex);this.container.className=\"openseadragon-container\";!function(e){e.width=\"100%\";e.height=\"100%\";e.position=\"relative\";e.overflow=\"hidden\";e.left=\"0px\";e.top=\"0px\";e.textAlign=\"left\"}(this.container.style);this.container.insertBefore(this.canvas,this.container.firstChild);this.element.appendChild(this.container);this.bodyWidth=document.body.style.width;this.bodyHeight=document.body.style.height;this.bodyOverflow=document.body.style.overflow;this.docOverflow=document.documentElement.style.overflow;this.innerTracker=new e.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:e.delegate(this,d),keyHandler:e.delegate(this,p),clickHandler:e.delegate(this,g),dblClickHandler:e.delegate(this,m),dragHandler:e.delegate(this,v),dragEndHandler:e.delegate(this,f),enterHandler:e.delegate(this,w),exitHandler:e.delegate(this,y),pressHandler:e.delegate(this,T),releaseHandler:e.delegate(this,x),nonPrimaryPressHandler:e.delegate(this,S),nonPrimaryReleaseHandler:e.delegate(this,E),scrollHandler:e.delegate(this,R),pinchHandler:e.delegate(this,P)});this.outerTracker=new e.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,_),exitHandler:e.delegate(this,C)});this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar}));this.bindStandardControls();t[this.hash].prevContainerSize=n(this.container);this.world=new e.World({viewer:this});this.world.addHandler(\"add-item\",function(e){h.source=h.world.getItemAt(0).source;t[h.hash].forceRedraw=!0;h._updateRequestId||(h._updateRequestId=s(h,b))});this.world.addHandler(\"remove-item\",function(e){h.world.getItemCount()?h.source=h.world.getItemAt(0).source:h.source=null;t[h.hash].forceRedraw=!0});this.world.addHandler(\"metrics-change\",function(e){h.viewport&&h.viewport._setContentBounds(h.world.getHomeBounds(),h.world.getContentFactor())});this.world.addHandler(\"item-index-change\",function(e){h.source=h.world.getItemAt(0).source});this.viewport=new e.Viewport({containerSize:t[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins});this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor());this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:o.timeout});this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount});this.drawer=new e.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor});this.overlaysContainer=e.makeNeutralElement(\"div\");this.canvas.appendChild(this.overlaysContainer);if(!this.drawer.canRotate()){if(this.rotateLeft){r=this.buttons.buttons.indexOf(this.rotateLeft);this.buttons.buttons.splice(r,1);this.buttons.element.removeChild(this.rotateLeft.element)}if(this.rotateRight){r=this.buttons.buttons.indexOf(this.rotateRight);this.buttons.buttons.splice(r,1);this.buttons.element.removeChild(this.rotateRight.element)}}this.showNavigator&&(this.navigator=new e.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy}));this.sequenceMode&&this.bindSequenceControls();this.tileSources&&this.open(this.tileSources);for(r=0;r<this.customControls.length;r++)this.addControl(this.customControls[r].id,{anchor:this.customControls[r].anchor});e.requestAnimationFrame(function(){l(h)})};e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){e.console.error(\"[Viewer.openDzi] this function is deprecated; use Viewer.open() instead.\");return this.open(t)},openTileSource:function(t){e.console.error(\"[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead.\");return this.open(t)},open:function(t,i){var n=this;this.close();if(t)if(this.sequenceMode&&e.isArray(t)){if(this.referenceStrip){this.referenceStrip.destroy();this.referenceStrip=null}void 0===i||isNaN(i)||(this.initialPage=i);this.tileSources=t;this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage));if(this.tileSources.length){this.open(this.tileSources[this._sequenceIndex]);this.showReferenceStrip&&this.addReferenceStrip()}this._updateSequenceButtons(this._sequenceIndex)}else{e.isArray(t)||(t=[t]);if(t.length){this._opening=!0;var r=t.length;var s=0;var a=0;var l;var h=function(){if(s+a===r)if(s){if(n._firstOpen||!n.preserveViewport){n.viewport.goHome(!0);n.viewport.update()}n._firstOpen=!1;var e=t[0];e.tileSource&&(e=e.tileSource);if(n.overlays&&!n.preserveOverlays)for(var i=0;i<n.overlays.length;i++)n.currentOverlays[i]=o(n,n.overlays[i]);n._drawOverlays();n._opening=!1;n.raiseEvent(\"open\",{source:e})}else{n._opening=!1;n.raiseEvent(\"open-failed\",l)}};var c=function(t){e.isPlainObject(t)&&t.tileSource||(t={tileSource:t});if(void 0!==t.index){e.console.error(\"[Viewer.open] setting indexes here is not supported; use addTiledImage instead\");delete t.index}void 0===t.collectionImmediately&&(t.collectionImmediately=!0);var i=t.success;t.success=function(e){s++;if(t.tileSource.overlays)for(var o=0;o<t.tileSource.overlays.length;o++)n.addOverlay(t.tileSource.overlays[o]);i&&i(e);h()};var o=t.error;t.error=function(e){a++;l||(l=e);o&&o(e);h()};n.addTiledImage(t)};for(var u=0;u<t.length;u++)c(t[u]);return this}}},close:function(){if(!t[this.hash])return this;this._opening=!1;this.navigator&&this.navigator.close();if(!this.preserveOverlays){this.clearOverlays();this.overlaysContainer.innerHTML=\"\"}t[this.hash].animating=!1;this.world.removeAll();this.imageLoader.clear();this.raiseEvent(\"close\");return this},destroy:function(){if(t[this.hash]){this.close();this.clearOverlays();this.overlaysContainer.innerHTML=\"\";if(this.referenceStrip){this.referenceStrip.destroy();this.referenceStrip=null}if(null!==this._updateRequestId){e.cancelAnimationFrame(this._updateRequestId);this._updateRequestId=null}this.drawer&&this.drawer.destroy();this.removeAllHandlers();if(this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy();this.outerTracker&&this.outerTracker.destroy();t[this.hash]=null;delete t[this.hash];this.canvas=null;this.container=null;this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){this.innerTracker.setTracking(e);this.outerTracker.setTracking(e);this.raiseEvent(\"mouse-enabled\",{enabled:e});return this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisibile();return t},setControlsEnabled:function(e){e?h(this):l(this);this.raiseEvent(\"controls-enabled\",{enabled:e});return this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e;this.forceRedraw()},isFullPage:function(){return t[this.hash].fullPage},setFullPage:function(i){var n,o,r=document.body,s=r.style,a=document.documentElement.style,l=this;if(i==this.isFullPage())return this;var h={fullPage:i,preventDefaultAction:!1};this.raiseEvent(\"pre-full-page\",h);if(h.preventDefaultAction)return this;if(i){this.elementSize=e.getElementSize(this.element);this.pageScroll=e.getPageScroll();this.elementMargin=this.element.style.margin;this.element.style.margin=\"0\";this.elementPadding=this.element.style.padding;this.element.style.padding=\"0\";this.bodyMargin=s.margin;this.docMargin=a.margin;s.margin=\"0\";a.margin=\"0\";this.bodyPadding=s.padding;this.docPadding=a.padding;s.padding=\"0\";a.padding=\"0\";this.bodyWidth=s.width;this.docWidth=a.width;s.width=\"100%\";a.width=\"100%\";this.bodyHeight=s.height;this.docHeight=a.height;s.height=\"100%\";a.height=\"100%\";this.previousBody=[];t[this.hash].prevElementParent=this.element.parentNode;t[this.hash].prevNextSibling=this.element.nextSibling;t[this.hash].prevElementWidth=this.element.style.width;t[this.hash].prevElementHeight=this.element.style.height;n=r.childNodes.length;for(o=0;o<n;o++){this.previousBody.push(r.childNodes[0]);r.removeChild(r.childNodes[0])}if(this.toolbar&&this.toolbar.element){this.toolbar.parentNode=this.toolbar.element.parentNode;this.toolbar.nextSibling=this.toolbar.element.nextSibling;r.appendChild(this.toolbar.element);e.addClass(this.toolbar.element,\"fullpage\")}e.addClass(this.element,\"fullpage\");r.appendChild(this.element);this.element.style.height=e.getWindowSize().y+\"px\";this.element.style.width=e.getWindowSize().x+\"px\";this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+\"px\");t[this.hash].fullPage=!0;e.delegate(this,_)({})}else{this.element.style.margin=this.elementMargin;this.element.style.padding=this.elementPadding;s.margin=this.bodyMargin;a.margin=this.docMargin;s.padding=this.bodyPadding;a.padding=this.docPadding;s.width=this.bodyWidth;a.width=this.docWidth;s.height=this.bodyHeight;a.height=this.docHeight;r.removeChild(this.element);n=this.previousBody.length;for(o=0;o<n;o++)r.appendChild(this.previousBody.shift());e.removeClass(this.element,\"fullpage\");t[this.hash].prevElementParent.insertBefore(this.element,t[this.hash].prevNextSibling);if(this.toolbar&&this.toolbar.element){r.removeChild(this.toolbar.element);e.removeClass(this.toolbar.element,\"fullpage\");this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling);delete this.toolbar.parentNode;delete this.toolbar.nextSibling}this.element.style.width=t[this.hash].prevElementWidth;this.element.style.height=t[this.hash].prevElementHeight;var c=0;var u=function(){e.setPageScroll(l.pageScroll);var t=e.getPageScroll();++c<10&&(t.x!==l.pageScroll.x||t.y!==l.pageScroll.y)&&e.requestAnimationFrame(u)};e.requestAnimationFrame(u);t[this.hash].fullPage=!1;e.delegate(this,C)({})}this.navigator&&this.viewport&&this.navigator.update(this.viewport);this.raiseEvent(\"full-page\",{fullPage:i});return this},setFullScreen:function(t){var i=this;if(!e.supportsFullScreen)return this.setFullPage(t);if(e.isFullScreen()===t)return this;var n={fullScreen:t,preventDefaultAction:!1};this.raiseEvent(\"pre-full-screen\",n);if(n.preventDefaultAction)return this;if(t){this.setFullPage(!0);if(!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width;this.fullPageStyleHeight=this.element.style.height;this.element.style.width=\"100%\";this.element.style.height=\"100%\";var o=function(){var t=e.isFullScreen();if(!t){e.removeEvent(document,e.fullScreenEventName,o);e.removeEvent(document,e.fullScreenErrorEventName,o);i.setFullPage(!1);if(i.isFullPage()){i.element.style.width=i.fullPageStyleWidth;i.element.style.height=i.fullPageStyleHeight}}i.navigator&&i.viewport&&i.navigator.update(i.viewport);i.raiseEvent(\"full-screen\",{fullScreen:t})};e.addEvent(document,e.fullScreenEventName,o);e.addEvent(document,e.fullScreenErrorEventName,o);e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return\"hidden\"!=this.container.style.visibility},setVisible:function(e){this.container.style.visibility=e?\"\":\"hidden\";this.raiseEvent(\"visible\",{visible:e});return this},addTiledImage:function(t){e.console.assert(t,\"[Viewer.addTiledImage] options is required\");e.console.assert(t.tileSource,\"[Viewer.addTiledImage] options.tileSource is required\");e.console.assert(!t.replace||t.index>-1&&t.index<this.world.getItemCount(),\"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world\");var i=this;t.replace&&(t.replaceItem=i.world.getItemAt(t.index));this._hideMessage();void 0===t.placeholderFillStyle&&(t.placeholderFillStyle=this.placeholderFillStyle);void 0===t.opacity&&(t.opacity=this.opacity);void 0===t.preload&&(t.preload=this.preload);void 0===t.compositeOperation&&(t.compositeOperation=this.compositeOperation);void 0===t.crossOriginPolicy&&(t.crossOriginPolicy=void 0!==t.tileSource.crossOriginPolicy?t.tileSource.crossOriginPolicy:this.crossOriginPolicy);void 0===t.ajaxWithCredentials&&(t.ajaxWithCredentials=this.ajaxWithCredentials);void 0===t.loadTilesWithAjax&&(t.loadTilesWithAjax=this.loadTilesWithAjax);void 0===t.ajaxHeaders||null===t.ajaxHeaders?t.ajaxHeaders=this.ajaxHeaders:e.isPlainObject(t.ajaxHeaders)&&e.isPlainObject(this.ajaxHeaders)&&(t.ajaxHeaders=e.extend({},this.ajaxHeaders,t.ajaxHeaders));var n={options:t};function o(e){for(var o=0;o<i._loadQueue.length;o++)if(i._loadQueue[o]===n){i._loadQueue.splice(o,1);break}0===i._loadQueue.length&&r(n);i.raiseEvent(\"add-item-failed\",e);t.error&&t.error(e)}function r(e){if(i.collectionMode){i.world.arrange({immediately:e.options.collectionImmediately,rows:i.collectionRows,columns:i.collectionColumns,layout:i.collectionLayout,tileSize:i.collectionTileSize,tileMargin:i.collectionTileMargin});i.world.setAutoRefigureSizes(!0)}}if(e.isArray(t.tileSource))setTimeout(function(){o({message:\"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.\",source:t.tileSource,options:t})});else{this._loadQueue.push(n);!function(t,i,n,o,r){var s=t;if(\"string\"==e.type(i))if(i.match(/^\\s*<.*>\\s*$/))i=e.parseXml(i);else if(i.match(/^\\s*[\\{\\[].*[\\}\\]]\\s*$/))try{var a=e.parseJSON(i);i=a}catch(e){}function l(e,t){if(e.ready)o(e);else{e.addHandler(\"ready\",function(){o(e)});e.addHandler(\"open-failed\",function(e){r({message:e.message,source:t})})}}setTimeout(function(){if(\"string\"==e.type(i))(i=new e.TileSource({url:i,crossOriginPolicy:void 0!==n.crossOriginPolicy?n.crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,ajaxHeaders:t.ajaxHeaders,useCanvas:t.useCanvas,success:function(e){o(e.tileSource)}})).addHandler(\"open-failed\",function(e){r(e)});else if(e.isPlainObject(i)||i.nodeType){void 0!==i.crossOriginPolicy||void 0===n.crossOriginPolicy&&void 0===t.crossOriginPolicy||(i.crossOriginPolicy=void 0!==n.crossOriginPolicy?n.crossOriginPolicy:t.crossOriginPolicy);void 0===i.ajaxWithCredentials&&(i.ajaxWithCredentials=t.ajaxWithCredentials);void 0===i.useCanvas&&(i.useCanvas=t.useCanvas);if(e.isFunction(i.getTileUrl)){var a=new e.TileSource(i);a.getTileUrl=i.getTileUrl;o(a)}else{var h=e.TileSource.determineType(s,i);if(!h){r({message:\"Unable to load TileSource\",source:i});return}var c=h.prototype.configure.apply(s,[i]);l(new h(c),i)}}else l(i,i)})}(this,t.tileSource,t,function(e){n.tileSource=e;s()},function(e){e.options=t;o(e);s()})}function s(){var t,n,o;for(;i._loadQueue.length&&(t=i._loadQueue[0]).tileSource;){i._loadQueue.splice(0,1);if(t.options.replace){var s=i.world.getIndexOfItem(t.options.replaceItem);-1!=s&&(t.options.index=s);i.world.removeItem(t.options.replaceItem)}n=new e.TiledImage({viewer:i,source:t.tileSource,viewport:i.viewport,drawer:i.drawer,tileCache:i.tileCache,imageLoader:i.imageLoader,x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height,fitBounds:t.options.fitBounds,fitBoundsPlacement:t.options.fitBoundsPlacement,clip:t.options.clip,placeholderFillStyle:t.options.placeholderFillStyle,opacity:t.options.opacity,preload:t.options.preload,degrees:t.options.degrees,compositeOperation:t.options.compositeOperation,springStiffness:i.springStiffness,animationTime:i.animationTime,minZoomImageRatio:i.minZoomImageRatio,wrapHorizontal:i.wrapHorizontal,wrapVertical:i.wrapVertical,immediateRender:i.immediateRender,blendTime:i.blendTime,alwaysBlend:i.alwaysBlend,minPixelRatio:i.minPixelRatio,smoothTileEdgesMinZoom:i.smoothTileEdgesMinZoom,iOSDevice:i.iOSDevice,crossOriginPolicy:t.options.crossOriginPolicy,ajaxWithCredentials:t.options.ajaxWithCredentials,loadTilesWithAjax:t.options.loadTilesWithAjax,ajaxHeaders:t.options.ajaxHeaders,debugMode:i.debugMode});i.collectionMode&&i.world.setAutoRefigureSizes(!1);i.world.addItem(n,{index:t.options.index});0===i._loadQueue.length&&r(t);1!==i.world.getItemCount()||i.preserveViewport||i.viewport.goHome(!0);if(i.navigator){o=e.extend({},t.options,{replace:!1,originalTiledImage:n,tileSource:t.tileSource});i.navigator.addTiledImage(o)}t.options.success&&t.options.success({item:n})}}},addSimpleImage:function(t){e.console.assert(t,\"[Viewer.addSimpleImage] options is required\");e.console.assert(t.url,\"[Viewer.addSimpleImage] options.url is required\");var i=e.extend({},t,{tileSource:{type:\"image\",url:t.url}});delete i.url;this.addTiledImage(i)},addLayer:function(t){var i=this;e.console.error(\"[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.\");var n=e.extend({},t,{success:function(e){i.raiseEvent(\"add-layer\",{options:t,drawer:e.item})},error:function(e){i.raiseEvent(\"add-layer-failed\",e)}});this.addTiledImage(n);return this},getLayerAtLevel:function(t){e.console.error(\"[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead.\");return this.world.getItemAt(t)},getLevelOfLayer:function(t){e.console.error(\"[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead.\");return this.world.getIndexOfItem(t)},getLayersCount:function(){e.console.error(\"[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead.\");return this.world.getItemCount()},setLayerLevel:function(t,i){e.console.error(\"[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead.\");return this.world.setItemIndex(t,i)},removeLayer:function(t){e.console.error(\"[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead.\");return this.world.removeItem(t)},forceRedraw:function(){t[this.hash].forceRedraw=!0;return this},bindSequenceControls:function(){var t=e.delegate(this,c),i=e.delegate(this,u),n=e.delegate(this,j),o=e.delegate(this,U),r=this.navImages,s=!0;if(this.showSequenceControl){(this.previousButton||this.nextButton)&&(s=!1);this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString(\"Tooltips.PreviousPage\"),srcRest:O(this.prefixUrl,r.previous.REST),srcGroup:O(this.prefixUrl,r.previous.GROUP),srcHover:O(this.prefixUrl,r.previous.HOVER),srcDown:O(this.prefixUrl,r.previous.DOWN),onRelease:o,onFocus:t,onBlur:i});this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString(\"Tooltips.NextPage\"),srcRest:O(this.prefixUrl,r.next.REST),srcGroup:O(this.prefixUrl,r.next.GROUP),srcHover:O(this.prefixUrl,r.next.HOVER),srcDown:O(this.prefixUrl,r.next.DOWN),onRelease:n,onFocus:t,onBlur:i});this.navPrevNextWrap||this.previousButton.disable();this.tileSources&&this.tileSources.length||this.nextButton.disable();if(s){this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold});this.pagingControl=this.paging.element;this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT})}}return this},bindStandardControls:function(){var t=e.delegate(this,I),i=e.delegate(this,B),n=e.delegate(this,M),o=e.delegate(this,k),r=e.delegate(this,H),s=e.delegate(this,F),a=e.delegate(this,N),l=e.delegate(this,A),h=e.delegate(this,W),d=e.delegate(this,V),p=e.delegate(this,c),g=e.delegate(this,u),m=this.navImages,v=[],f=!0;if(this.showNavigationControl){(this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(f=!1);if(this.showZoomControl){v.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString(\"Tooltips.ZoomIn\"),srcRest:O(this.prefixUrl,m.zoomIn.REST),srcGroup:O(this.prefixUrl,m.zoomIn.GROUP),srcHover:O(this.prefixUrl,m.zoomIn.HOVER),srcDown:O(this.prefixUrl,m.zoomIn.DOWN),onPress:t,onRelease:i,onClick:n,onEnter:t,onExit:i,onFocus:p,onBlur:g}));v.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString(\"Tooltips.ZoomOut\"),srcRest:O(this.prefixUrl,m.zoomOut.REST),srcGroup:O(this.prefixUrl,m.zoomOut.GROUP),srcHover:O(this.prefixUrl,m.zoomOut.HOVER),srcDown:O(this.prefixUrl,m.zoomOut.DOWN),onPress:o,onRelease:i,onClick:r,onEnter:o,onExit:i,onFocus:p,onBlur:g}))}this.showHomeControl&&v.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString(\"Tooltips.Home\"),srcRest:O(this.prefixUrl,m.home.REST),srcGroup:O(this.prefixUrl,m.home.GROUP),srcHover:O(this.prefixUrl,m.home.HOVER),srcDown:O(this.prefixUrl,m.home.DOWN),onRelease:s,onFocus:p,onBlur:g}));this.showFullPageControl&&v.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString(\"Tooltips.FullPage\"),srcRest:O(this.prefixUrl,m.fullpage.REST),srcGroup:O(this.prefixUrl,m.fullpage.GROUP),srcHover:O(this.prefixUrl,m.fullpage.HOVER),srcDown:O(this.prefixUrl,m.fullpage.DOWN),onRelease:a,onFocus:p,onBlur:g}));if(this.showRotationControl){v.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString(\"Tooltips.RotateLeft\"),srcRest:O(this.prefixUrl,m.rotateleft.REST),srcGroup:O(this.prefixUrl,m.rotateleft.GROUP),srcHover:O(this.prefixUrl,m.rotateleft.HOVER),srcDown:O(this.prefixUrl,m.rotateleft.DOWN),onRelease:l,onFocus:p,onBlur:g}));v.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString(\"Tooltips.RotateRight\"),srcRest:O(this.prefixUrl,m.rotateright.REST),srcGroup:O(this.prefixUrl,m.rotateright.GROUP),srcHover:O(this.prefixUrl,m.rotateright.HOVER),srcDown:O(this.prefixUrl,m.rotateright.DOWN),onRelease:h,onFocus:p,onBlur:g}))}this.showFlipControl&&v.push(this.flipButton=new e.Button({element:this.flipButton?e.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString(\"Tooltips.Flip\"),srcRest:O(this.prefixUrl,m.flip.REST),srcGroup:O(this.prefixUrl,m.flip.GROUP),srcHover:O(this.prefixUrl,m.flip.HOVER),srcDown:O(this.prefixUrl,m.flip.DOWN),onRelease:d,onFocus:p,onBlur:g}));if(f){this.buttons=new e.ButtonGroup({buttons:v,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold});this.navControl=this.buttons.element;this.addHandler(\"open\",e.delegate(this,L));this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT})}}return this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){if(this.tileSources&&e>=0&&e<this.tileSources.length){this._sequenceIndex=e;this._updateSequenceButtons(e);this.open(this.tileSources[e]);this.referenceStrip&&this.referenceStrip.setFocus(e);this.raiseEvent(\"page\",{page:e})}return this},addOverlay:function(t,i,n,s){var a;a=e.isPlainObject(t)?t:{element:t,location:i,placement:n,onDraw:s};t=e.getElement(a.element);if(r(this.currentOverlays,t)>=0)return this;var l=o(this,a);this.currentOverlays.push(l);l.drawHTML(this.overlaysContainer,this.viewport);this.raiseEvent(\"add-overlay\",{element:t,location:a.location,placement:a.placement});return this},updateOverlay:function(i,n,o){var s;i=e.getElement(i);if((s=r(this.currentOverlays,i))>=0){this.currentOverlays[s].update(n,o);t[this.hash].forceRedraw=!0;this.raiseEvent(\"update-overlay\",{element:i,location:n,placement:o})}return this},removeOverlay:function(i){var n;i=e.getElement(i);if((n=r(this.currentOverlays,i))>=0){this.currentOverlays[n].destroy();this.currentOverlays.splice(n,1);t[this.hash].forceRedraw=!0;this.raiseEvent(\"remove-overlay\",{element:i})}return this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();t[this.hash].forceRedraw=!0;this.raiseEvent(\"clear-overlay\",{});return this},getOverlayById:function(t){var i;t=e.getElement(t);return(i=r(this.currentOverlays,t))>=0?this.currentOverlays[i]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable());this.previousButton&&(e>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var i=e.makeNeutralElement(\"div\");i.appendChild(document.createTextNode(t));this.messageDiv=e.makeCenteredNode(i);e.addClass(this.messageDiv,\"openseadragon-message\");this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;if(e){e.parentNode.removeChild(e);delete this.messageDiv}},gestureSettingsByDeviceType:function(e){switch(e){case\"mouse\":return this.gestureSettingsMouse;case\"touch\":return this.gestureSettingsTouch;case\"pen\":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1;if(this.referenceStrip){this.referenceStrip.destroy();this.referenceStrip=null}},addReferenceStrip:function(){this.showReferenceStrip=!0;if(this.sequenceMode){if(this.referenceStrip)return;if(this.tileSources.length&&this.tileSources.length>1){this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this});this.referenceStrip.setFocus(this._sequenceIndex)}}else e.console.warn('Attempting to display a reference strip while \"sequenceMode\" is off.')}});function n(t){t=e.getElement(t);return new e.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function o(t,i){if(i instanceof e.Overlay)return i;var n=null;if(i.element)n=e.getElement(i.element);else{var o=i.id?i.id:\"openseadragon-overlay-\"+Math.floor(1e7*Math.random());(n=e.getElement(i.id))||((n=document.createElement(\"a\")).href=\"#/overlay/\"+o);n.id=o;e.addClass(n,i.className?i.className:\"openseadragon-overlay\")}var r=i.location;var s=i.width;var a=i.height;if(!r){var l=i.x;var h=i.y;if(void 0!==i.px){var c=t.viewport.imageToViewportRectangle(new e.Rect(i.px,i.py,s||0,a||0));l=c.x;h=c.y;s=void 0!==s?c.width:void 0;a=void 0!==a?c.height:void 0}r=new e.Point(l,h)}var u=i.placement;u&&\"string\"===e.type(u)&&(u=e.Placement[i.placement.toUpperCase()]);return new e.Overlay({element:n,location:r,placement:u,onDraw:i.onDraw,checkResize:i.checkResize,width:s,height:a,rotationMode:i.rotationMode})}function r(e,t){var i;for(i=e.length-1;i>=0;i--)if(e[i].element===t)return i;return-1}function s(t,i){return e.requestAnimationFrame(function(){i(t)})}function a(t){e.requestAnimationFrame(function(){!function(t){var i,n,o,r;if(t.controlsShouldFade){i=e.now();n=i-t.controlsFadeBeginTime;o=1-n/t.controlsFadeLength;o=Math.min(1,o);o=Math.max(0,o);for(r=t.controls.length-1;r>=0;r--)t.controls[r].autoFade&&t.controls[r].setOpacity(o);o>0&&a(t)}}(t)})}function l(t){if(t.autoHideControls){t.controlsShouldFade=!0;t.controlsFadeBeginTime=e.now()+t.controlsFadeDelay;window.setTimeout(function(){a(t)},t.controlsFadeDelay)}}function h(e){var t;e.controlsShouldFade=!1;for(t=e.controls.length-1;t>=0;t--)e.controls[t].setOpacity(1)}function c(){h(this)}function u(){l(this)}function d(t){var i={originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction,preventVerticalPan:t.preventVerticalPan,preventHorizontalPan:t.preventHorizontalPan};this.raiseEvent(\"canvas-key\",i);if(i.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 38:if(!i.preventVerticalPan){t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-this.pixelsPerArrowPress)));this.viewport.applyConstraints()}return!1;case 40:if(!i.preventVerticalPan){t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,this.pixelsPerArrowPress)));this.viewport.applyConstraints()}return!1;case 37:if(!i.preventHorizontalPan){this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-this.pixelsPerArrowPress,0)));this.viewport.applyConstraints()}return!1;case 39:if(!i.preventHorizontalPan){this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(this.pixelsPerArrowPress,0)));this.viewport.applyConstraints()}return!1;default:return!0}}function p(t){var i={originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction,preventVerticalPan:t.preventVerticalPan,preventHorizontalPan:t.preventHorizontalPan};this.raiseEvent(\"canvas-key\",i);if(i.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 43:case 61:this.viewport.zoomBy(1.1);this.viewport.applyConstraints();return!1;case 45:this.viewport.zoomBy(.9);this.viewport.applyConstraints();return!1;case 48:this.viewport.goHome();this.viewport.applyConstraints();return!1;case 119:case 87:if(!i.preventVerticalPan){t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40)));this.viewport.applyConstraints()}return!1;case 115:case 83:if(!i.preventVerticalPan){t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40)));this.viewport.applyConstraints()}return!1;case 97:if(!i.preventHorizontalPan){this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0)));this.viewport.applyConstraints()}return!1;case 100:if(!i.preventHorizontalPan){this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0)));this.viewport.applyConstraints()}return!1;case 114:this.viewport.flipped?this.viewport.setRotation(this.viewport.degrees-90):this.viewport.setRotation(this.viewport.degrees+90);this.viewport.applyConstraints();return!1;case 82:this.viewport.flipped?this.viewport.setRotation(this.viewport.degrees+90):this.viewport.setRotation(this.viewport.degrees-90);this.viewport.applyConstraints();return!1;case 102:this.viewport.toggleFlip();return!1;default:return!0}}function g(e){var t;document.activeElement==this.canvas||this.canvas.focus();this.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var i={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.raiseEvent(\"canvas-click\",i);if(!i.preventDefaultAction&&this.viewport&&e.quick&&(t=this.gestureSettingsByDeviceType(e.pointerType)).clickToZoom){this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null);this.viewport.applyConstraints()}}function m(e){var t;var i={tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.raiseEvent(\"canvas-double-click\",i);if(!i.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType)).dblClickToZoom){this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null);this.viewport.applyConstraints()}}function v(e){var t;var i={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.raiseEvent(\"canvas-drag\",i);if(!i.preventDefaultAction&&this.viewport){t=this.gestureSettingsByDeviceType(e.pointerType);this.panHorizontal||(e.delta.x=0);this.panVertical||(e.delta.y=0);this.viewport.flipped&&(e.delta.x=-e.delta.x);if(this.constrainDuringPan){var n=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=n.x;this.viewport.centerSpringY.target.value+=n.y;var o=this.viewport.getBounds();var r=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=n.x;this.viewport.centerSpringY.target.value-=n.y;o.x!=r.x&&(e.delta.x=0);o.y!=r.y&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),t.flickEnabled&&!this.constrainDuringPan)}}function f(t){if(!t.preventDefaultAction&&this.viewport){var i=this.gestureSettingsByDeviceType(t.pointerType);if(i.flickEnabled&&t.speed>=i.flickMinSpeed){var n=0;this.panHorizontal&&(n=i.flickMomentum*t.speed*Math.cos(t.direction));var o=0;this.panVertical&&(o=i.flickMomentum*t.speed*Math.sin(t.direction));var r=this.viewport.pixelFromPoint(this.viewport.getCenter(!0));var s=this.viewport.pointFromPixel(new e.Point(r.x-n,r.y-o));this.viewport.panTo(s,!1)}this.viewport.applyConstraints()}this.raiseEvent(\"canvas-drag-end\",{tracker:t.eventSource,position:t.position,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent})}function w(e){this.raiseEvent(\"canvas-enter\",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function y(t){window.location!=window.parent.location&&e.MouseTracker.resetAllMouseTrackers();this.raiseEvent(\"canvas-exit\",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function T(e){this.raiseEvent(\"canvas-press\",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function x(e){this.raiseEvent(\"canvas-release\",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function S(e){this.raiseEvent(\"canvas-nonprimary-press\",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function E(e){this.raiseEvent(\"canvas-nonprimary-release\",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function P(e){var t,i,n;if(!e.preventDefaultAction&&this.viewport){if((t=this.gestureSettingsByDeviceType(e.pointerType)).pinchToZoom){i=this.viewport.pointFromPixel(e.center,!0);n=this.viewport.pointFromPixel(e.lastCenter,!0).minus(i);this.panHorizontal||(n.x=0);this.panVertical||(n.y=0);this.viewport.zoomBy(e.distance/e.lastDistance,i,!0);t.zoomToRefPoint&&this.viewport.panBy(n,!0);this.viewport.applyConstraints()}if(t.pinchRotate){var o=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x);var r=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(o-r)*(180/Math.PI))}}this.raiseEvent(\"canvas-pinch\",{tracker:e.eventSource,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent});return!1}function R(t){var i,n,o;if((o=e.now())-this._lastScrollTime>this.minScrollDeltaTime){this._lastScrollTime=o;this.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x);if(!t.preventDefaultAction&&this.viewport&&(i=this.gestureSettingsByDeviceType(t.pointerType)).scrollToZoom){n=Math.pow(this.zoomPerScroll,t.scroll);this.viewport.zoomBy(n,i.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null);this.viewport.applyConstraints()}this.raiseEvent(\"canvas-scroll\",{tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent});if(i&&i.scrollToZoom)return!1}else if((i=this.gestureSettingsByDeviceType(t.pointerType))&&i.scrollToZoom)return!1}function _(e){t[this.hash].mouseInside=!0;h(this);this.raiseEvent(\"container-enter\",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function C(e){if(e.pointers<1){t[this.hash].mouseInside=!1;t[this.hash].animating||l(this)}this.raiseEvent(\"container-exit\",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function b(e){!function(e){if(e._opening)return;if(e.autoResize){var i=n(e.container);var o=t[e.hash].prevContainerSize;if(!i.equals(o)){var r=e.viewport;if(e.preserveImageSizeOnResize){var s=o.x/i.x;var a=r.getZoom()*s;var c=r.getCenter();r.resize(i,!1);r.zoomTo(a,null,!0);r.panTo(c,!0)}else{var u=r.getBounds();r.resize(i,!0);r.fitBoundsWithConstraints(u,!0)}t[e.hash].prevContainerSize=i;t[e.hash].forceRedraw=!0}}var d=e.viewport.update();var p=e.world.update()||d;d&&e.raiseEvent(\"viewport-change\");e.referenceStrip&&(p=e.referenceStrip.update(e.viewport)||p);if(!t[e.hash].animating&&p){e.raiseEvent(\"animation-start\");h(e)}if(p||t[e.hash].forceRedraw||e.world.needsDraw()){!function(e){e.imageLoader.clear();e.drawer.clear();e.world.draw();e.raiseEvent(\"update-viewport\",{})}(e);e._drawOverlays();e.navigator&&e.navigator.update(e.viewport);t[e.hash].forceRedraw=!1;p&&e.raiseEvent(\"animation\")}if(t[e.hash].animating&&!p){e.raiseEvent(\"animation-finish\");t[e.hash].mouseInside||l(e)}t[e.hash].animating=p}(e);e.isOpen()?e._updateRequestId=s(e,b):e._updateRequestId=!1}function O(e,t){return e?e+t:t}function I(){t[this.hash].lastZoomTime=e.now();t[this.hash].zoomFactor=this.zoomPerSecond;t[this.hash].zooming=!0;D(this)}function k(){t[this.hash].lastZoomTime=e.now();t[this.hash].zoomFactor=1/this.zoomPerSecond;t[this.hash].zooming=!0;D(this)}function B(){t[this.hash].zooming=!1}function D(t){e.requestAnimationFrame(e.delegate(t,z))}function z(){var i,n,o;if(t[this.hash].zooming&&this.viewport){n=(i=e.now())-t[this.hash].lastZoomTime;o=Math.pow(t[this.hash].zoomFactor,n/1e3);this.viewport.zoomBy(o);this.viewport.applyConstraints();t[this.hash].lastZoomTime=i;D(this)}}function M(){if(this.viewport){t[this.hash].zooming=!1;this.viewport.zoomBy(this.zoomPerClick/1);this.viewport.applyConstraints()}}function H(){if(this.viewport){t[this.hash].zooming=!1;this.viewport.zoomBy(1/this.zoomPerClick);this.viewport.applyConstraints()}}function L(){this.buttons.emulateEnter();this.buttons.emulateExit()}function F(){this.viewport&&this.viewport.goHome()}function N(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage());this.buttons&&this.buttons.emulateExit();this.fullPageButton.element.focus();this.viewport&&this.viewport.applyConstraints()}function A(){if(this.viewport){var t=this.viewport.getRotation();t=this.viewport.flipped?e.positiveModulo(t+90,360):e.positiveModulo(t-90,360);this.viewport.setRotation(t)}}function W(){if(this.viewport){var t=this.viewport.getRotation();t=this.viewport.flipped?e.positiveModulo(t-90,360):e.positiveModulo(t+90,360);this.viewport.setRotation(t)}}function V(){this.viewport.toggleFlip()}function U(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length);this.goToPage(e)}function j(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0);this.goToPage(e)}}(OpenSeadragon);!function(e){e.Navigator=function(s){var a,l,h=s.viewer,c=this;if(s.id){this.element=document.getElementById(s.id);s.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}}else{s.id=\"navigator-\"+e.now();this.element=e.makeNeutralElement(\"div\");s.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:s.autoFade};if(s.position)if(\"BOTTOM_RIGHT\"==s.position)s.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT;else if(\"BOTTOM_LEFT\"==s.position)s.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT;else if(\"TOP_RIGHT\"==s.position)s.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT;else if(\"TOP_LEFT\"==s.position)s.controlOptions.anchor=e.ControlAnchor.TOP_LEFT;else if(\"ABSOLUTE\"==s.position){s.controlOptions.anchor=e.ControlAnchor.ABSOLUTE;s.controlOptions.top=s.top;s.controlOptions.left=s.left;s.controlOptions.height=s.height;s.controlOptions.width=s.width}}this.element.id=s.id;this.element.className+=\" navigator\";(s=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},s,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:s.autoResize,minZoomImageRatio:1,background:s.background,opacity:s.opacity,borderColor:s.borderColor,displayRegionColor:s.displayRegionColor})).minPixelRatio=this.minPixelRatio=h.minPixelRatio;e.setElementTouchActionNone(this.element);this.borderWidth=2;this.fudge=new e.Point(1,1);this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge);s.controlOptions.anchor!=e.ControlAnchor.NONE&&function(e,t){e.margin=\"0px\";e.border=t+\"px solid \"+s.borderColor;e.padding=\"0px\";e.background=s.background;e.opacity=s.opacity;e.overflow=\"hidden\"}(this.element.style,this.borderWidth);this.displayRegion=e.makeNeutralElement(\"div\");this.displayRegion.id=this.element.id+\"-displayregion\";this.displayRegion.className=\"displayregion\";!function(e,t){e.position=\"relative\";e.top=\"0px\";e.left=\"0px\";e.fontSize=\"0px\";e.overflow=\"hidden\";e.border=t+\"px solid \"+s.displayRegionColor;e.margin=\"0px\";e.padding=\"0px\";e.background=\"transparent\";e.float=\"left\";e.cssFloat=\"left\";e.styleFloat=\"left\";e.zIndex=999999999;e.cursor=\"default\"}(this.displayRegion.style,this.borderWidth);this.displayRegionContainer=e.makeNeutralElement(\"div\");this.displayRegionContainer.id=this.element.id+\"-displayregioncontainer\";this.displayRegionContainer.className=\"displayregioncontainer\";this.displayRegionContainer.style.width=\"100%\";this.displayRegionContainer.style.height=\"100%\";h.addControl(this.element,s.controlOptions);this._resizeWithViewer=s.controlOptions.anchor!=e.ControlAnchor.ABSOLUTE&&s.controlOptions.anchor!=e.ControlAnchor.NONE;if(this._resizeWithViewer){if(s.width&&s.height){this.element.style.height=\"number\"==typeof s.height?s.height+\"px\":s.height;this.element.style.width=\"number\"==typeof s.width?s.width+\"px\":s.width}else{a=e.getElementSize(h.element);this.element.style.height=Math.round(a.y*s.sizeRatio)+\"px\";this.element.style.width=Math.round(a.x*s.sizeRatio)+\"px\";this.oldViewerSize=a}l=e.getElementSize(this.element);this.elementArea=l.x*l.y}this.oldContainerSize=new e.Point(0,0);e.Viewer.apply(this,[s]);this.displayRegionContainer.appendChild(this.displayRegion);this.element.getElementsByTagName(\"div\")[0].appendChild(this.displayRegionContainer);function u(e){r(c.displayRegionContainer,e);r(c.displayRegion,-e);c.viewport.setRotation(e)}if(s.navigatorRotate){u(s.viewer.viewport?s.viewer.viewport.getRotation():s.viewer.degrees||0);s.viewer.addHandler(\"rotate\",function(e){u(e.degrees)})}this.innerTracker.destroy();this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,i),clickHandler:e.delegate(this,t),releaseHandler:e.delegate(this,n),scrollHandler:e.delegate(this,o)});this.addHandler(\"reset-size\",function(){c.viewport&&c.viewport.goHome(!0)});h.world.addHandler(\"item-index-change\",function(e){window.setTimeout(function(){var t=c.world.getItemAt(e.previousIndex);c.world.setItemIndex(t,e.newIndex)},1)});h.world.addHandler(\"remove-item\",function(e){var t=e.item;var i=c._getMatchingItem(t);i&&c.world.removeItem(i)});this.update(h.viewport)};e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var t=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);if(!t.equals(this.oldContainerSize)){this.viewport.resize(t,!0);this.viewport.goHome(!0);this.oldContainerSize=t;this.drawer.clear();this.world.draw()}}},setFlip:function(e){this.viewport.setFlip(e);this.setDisplayTransform(this.viewer.viewport.getFlip()?\"scale(-1,1)\":\"scale(1,1)\");return this},setDisplayTransform:function(e){s(this.displayRegion,e);s(this.canvas,e);s(this.element,e)},update:function(t){var i,n,o,r,s,a;i=e.getElementSize(this.viewer.element);if(this._resizeWithViewer&&i.x&&i.y&&!i.equals(this.oldViewerSize)){this.oldViewerSize=i;if(this.maintainSizeRatio||!this.elementArea){n=i.x*this.sizeRatio;o=i.y*this.sizeRatio}else{n=Math.sqrt(this.elementArea*(i.x/i.y));o=this.elementArea/n}this.element.style.width=Math.round(n)+\"px\";this.element.style.height=Math.round(o)+\"px\";this.elementArea||(this.elementArea=n*o);this.updateSize()}if(t&&this.viewport){r=t.getBoundsNoRotate(!0);s=this.viewport.pixelFromPointNoRotate(r.getTopLeft(),!1);a=this.viewport.pixelFromPointNoRotate(r.getBottomRight(),!1).minus(this.totalBorderWidths);var l=this.displayRegion.style;l.display=this.world.getItemCount()?\"block\":\"none\";l.top=Math.round(s.y)+\"px\";l.left=Math.round(s.x)+\"px\";var h=Math.abs(s.x-a.x);var c=Math.abs(s.y-a.y);l.width=Math.round(Math.max(h,0))+\"px\";l.height=Math.round(Math.max(c,0))+\"px\"}},addTiledImage:function(t){var i=this;var n=t.originalTiledImage;delete t.original;var o=e.extend({},t,{success:function(e){var t=e.item;t._originalForNavigator=n;i._matchBounds(t,n,!0);function o(){i._matchBounds(t,n)}n.addHandler(\"bounds-change\",o);n.addHandler(\"clip-change\",o);n.addHandler(\"opacity-change\",function(){i._matchOpacity(t,n)});n.addHandler(\"composite-operation-change\",function(){i._matchCompositeOperation(t,n)})}});return e.Viewer.prototype.addTiledImage.apply(this,[o])},_getMatchingItem:function(e){var t=this.world.getItemCount();var i;for(var n=0;n<t;n++)if((i=this.world.getItemAt(n))._originalForNavigator===e)return i;return null},_matchBounds:function(e,t,i){var n=t.getBoundsNoRotate();e.setPosition(n.getTopLeft(),i);e.setWidth(n.width,i);e.setRotation(t.getRotation(),i);e.setClip(t.getClip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}});function t(e){var t={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.viewer.raiseEvent(\"navigator-click\",t);if(!t.preventDefaultAction&&e.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var i=this.viewport.pointFromPixel(e.position);this.panVertical?this.panHorizontal||(i.x=this.viewer.viewport.getCenter(!0).x):i.y=this.viewer.viewport.getCenter(!0).y;this.viewer.viewport.panTo(i);this.viewer.viewport.applyConstraints()}}function i(e){var t={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.viewer.raiseEvent(\"navigator-drag\",t);if(!t.preventDefaultAction&&this.viewer.viewport){this.panHorizontal||(e.delta.x=0);this.panVertical||(e.delta.y=0);this.viewer.viewport.flipped&&(e.delta.x=-e.delta.x);this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta));this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints()}}function n(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function o(e){this.viewer.raiseEvent(\"navigator-scroll\",{tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent});return!1}function r(e,t){s(e,\"rotate(\"+t+\"deg)\")}function s(e,t){e.style.webkitTransform=t;e.style.mozTransform=t;e.style.msTransform=t;e.style.oTransform=t;e.style.transform=t}}(OpenSeadragon);!function(e){var t={Errors:{Dzc:\"Sorry, we don't support Deep Zoom Collections!\",Dzi:\"Hmm, this doesn't appear to be a valid Deep Zoom Image.\",Xml:\"Hmm, this doesn't appear to be a valid Deep Zoom Image.\",ImageFormat:\"Sorry, we don't support {0}-based Deep Zoom Images.\",Security:\"It looks like a security restriction stopped us from loading this Deep Zoom Image.\",Status:\"This space unintentionally left blank ({0} {1}).\",OpenFailed:\"Unable to open {0}: {1}\"},Tooltips:{FullPage:\"Toggle full page\",Home:\"Go home\",ZoomIn:\"Zoom in\",ZoomOut:\"Zoom out\",NextPage:\"Next page\",PreviousPage:\"Previous page\",RotateLeft:\"Rotate left\",RotateRight:\"Rotate right\",Flip:\"Flip Horizontally\"}};e.extend(e,{getString:function(i){var n,o=i.split(\".\"),r=null,s=arguments,a=t;for(n=0;n<o.length-1;n++)a=a[o[n]]||{};if(\"string\"!=typeof(r=a[o[n]])){e.console.log(\"Untranslated source string:\",i);r=\"\"}return r.replace(/\\{\\d+\\}/g,function(e){var t=parseInt(e.match(/\\d+/),10)+1;return t<s.length?s[t]:\"\"})},setString:function(e,i){var n,o=e.split(\".\"),r=t;for(n=0;n<o.length-1;n++){r[o[n]]||(r[o[n]]={});r=r[o[n]]}r[o[n]]=i}})}(OpenSeadragon);!function(e){e.Point=function(e,t){this.x=\"number\"==typeof e?e:0;this.y=\"number\"==typeof t?t:0};e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(t){return new e.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new e.Point(this.x-t.x,this.y-t.y)},times:function(t){return new e.Point(this.x*t,this.y*t)},divide:function(t){return new e.Point(this.x/t,this.y/t)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(t){return new e.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,i){i=i||new e.Point(0,0);var n;var o;if(t%90==0){switch(e.positiveModulo(t,360)){case 0:n=1;o=0;break;case 90:n=0;o=1;break;case 180:n=-1;o=0;break;case 270:n=0;o=-1}}else{var r=t*Math.PI/180;n=Math.cos(r);o=Math.sin(r)}var s=n*(this.x-i.x)-o*(this.y-i.y)+i.x;var a=o*(this.x-i.x)+n*(this.y-i.y)+i.y;return new e.Point(s,a)},toString:function(){return\"(\"+Math.round(100*this.x)/100+\",\"+Math.round(100*this.y)/100+\")\"}}}(OpenSeadragon);!function(e){e.TileSource=function(t,i,n,o,r,s){var a=this;var l,h,c=arguments;l=e.isPlainObject(t)?t:{width:c[0],height:c[1],tileSize:c[2],tileOverlap:c[3],minLevel:c[4],maxLevel:c[5]};e.EventSource.call(this);e.extend(!0,this,l);if(!this.success)for(h=0;h<arguments.length;h++)if(e.isFunction(arguments[h])){this.success=arguments[h];break}this.success&&this.addHandler(\"ready\",function(e){a.success(e)});\"string\"==e.type(arguments[0])&&(this.url=arguments[0]);if(this.url){this.aspectRatio=1;this.dimensions=new e.Point(10,10);this._tileWidth=0;this._tileHeight=0;this.tileOverlap=0;this.minLevel=0;this.maxLevel=0;this.ready=!1;this.getImageInfo(this.url)}else{this.ready=!0;this.aspectRatio=l.width&&l.height?l.width/l.height:1;this.dimensions=new e.Point(l.width,l.height);if(this.tileSize){this._tileWidth=this._tileHeight=this.tileSize;delete this.tileSize}else{if(this.tileWidth){this._tileWidth=this.tileWidth;delete this.tileWidth}else this._tileWidth=0;if(this.tileHeight){this._tileHeight=this.tileHeight;delete this.tileHeight}else this._tileHeight=0}this.tileOverlap=l.tileOverlap?l.tileOverlap:0;this.minLevel=l.minLevel?l.minLevel:0;this.maxLevel=void 0!==l.maxLevel&&null!==l.maxLevel?l.maxLevel:l.width&&l.height?Math.ceil(Math.log(Math.max(l.width,l.height))/Math.log(2)):0;this.success&&e.isFunction(this.success)&&this.success(this)}};e.TileSource.prototype={getTileSize:function(t){e.console.error(\"[TileSource.getTileSize] is deprecated.Use TileSource.getTileWidth() and TileSource.getTileHeight() instead\");return this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},getLevelScale:function(e){var t,i={};for(t=0;t<=this.maxLevel;t++)i[t]=1/Math.pow(2,this.maxLevel-t);this.getLevelScale=function(e){return i[e]};return this.getLevelScale(e)},getNumTiles:function(t){var i=this.getLevelScale(t),n=Math.ceil(i*this.dimensions.x/this.getTileWidth(t)),o=Math.ceil(i*this.dimensions.y/this.getTileHeight(t));return new e.Point(n,o)},getPixelRatio:function(t){var i=this.dimensions.times(this.getLevelScale(t)),n=1/i.x,o=1/i.y;return new e.Point(n,o)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel&&!((t=this.getNumTiles(e)).x>1||t.y>1);e++);return e-1},getTileAtPoint:function(t,i){var n=i.x>=0&&i.x<=1&&i.y>=0&&i.y<=1/this.aspectRatio;e.console.assert(n,\"[TileSource.getTileAtPoint] must be called with a valid point.\");var o=this.dimensions.x*this.getLevelScale(t);var r=i.x*o;var s=i.y*o;var a=Math.floor(r/this.getTileWidth(t));var l=Math.floor(s/this.getTileHeight(t));i.x>=1&&(a=this.getNumTiles(t).x-1);i.y>=1/this.aspectRatio-1e-15&&(l=this.getNumTiles(t).y-1);return new e.Point(a,l)},getTileBounds:function(t,i,n,o){var r=this.dimensions.times(this.getLevelScale(t)),s=this.getTileWidth(t),a=this.getTileHeight(t),l=0===i?0:s*i-this.tileOverlap,h=0===n?0:a*n-this.tileOverlap,c=s+(0===i?1:2)*this.tileOverlap,u=a+(0===n?1:2)*this.tileOverlap,d=1/r.x;c=Math.min(c,r.x-l);u=Math.min(u,r.y-h);return o?new e.Rect(0,0,c,u):new e.Rect(l*d,h*d,c*d,u*d)},getImageInfo:function(t){var i,n,o,r,s,a,l,h=this;t&&(l=(a=(s=t.split(\"/\"))[s.length-1]).lastIndexOf(\".\"))>-1&&(s[s.length-1]=a.slice(0,l));n=function(i){\"string\"==typeof i&&(i=e.parseXml(i));var n=e.TileSource.determineType(h,i,t);if(n){void 0===(r=n.prototype.configure.apply(h,[i,t])).ajaxWithCredentials&&(r.ajaxWithCredentials=h.ajaxWithCredentials);o=new n(r);h.ready=!0;h.raiseEvent(\"ready\",{tileSource:o})}else h.raiseEvent(\"open-failed\",{message:\"Unable to load TileSource\",source:t})};if(t.match(/\\.js$/)){i=t.split(\"/\").pop().replace(\".js\",\"\");e.jsonp({url:t,async:!1,callbackName:i,callback:n})}else e.makeAjaxRequest({url:t,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(t){var i=function(t){var i,n,o=t.responseText,r=t.status;{if(!t)throw new Error(e.getString(\"Errors.Security\"));if(200!==t.status&&0!==t.status){r=t.status;i=404==r?\"Not Found\":t.statusText;throw new Error(e.getString(\"Errors.Status\",r,i))}}if(o.match(/\\s*<.*/))try{n=t.responseXML&&t.responseXML.documentElement?t.responseXML:e.parseXml(o)}catch(e){n=t.responseText}else if(o.match(/\\s*[\\{\\[].*/))try{n=e.parseJSON(o)}catch(e){n=o}else n=o;return n}(t);n(i)},error:function(e,i){var n;try{n=\"HTTP \"+e.status+\" attempting to load TileSource\"}catch(e){var o;o=void 0!==i&&i.toString?i.toString():\"Unknown error\";n=o+\" attempting to load TileSource\"}h.raiseEvent(\"open-failed\",{message:n,source:t})}})},supports:function(e,t){return!1},configure:function(e,t){throw new Error(\"Method not implemented.\")},getTileUrl:function(e,t,i){throw new Error(\"Method not implemented.\")},getTileAjaxHeaders:function(e,t,i){return{}},tileExists:function(e,t,i){var n=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&t>=0&&i>=0&&t<n.x&&i<n.y}};e.extend(!0,e.TileSource.prototype,e.EventSource.prototype);e.TileSource.determineType=function(t,i,n){var o;for(o in OpenSeadragon)if(o.match(/.+TileSource$/)&&e.isFunction(OpenSeadragon[o])&&e.isFunction(OpenSeadragon[o].prototype.supports)&&OpenSeadragon[o].prototype.supports.call(t,i,n))return OpenSeadragon[o];e.console.error(\"No TileSource was able to open %s %s\",n,i)}}(OpenSeadragon);!function(e){e.DziTileSource=function(t,i,n,o,r,s,a,l,h){var c,u,d,p;p=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]};this._levelRects={};this.tilesUrl=p.tilesUrl;this.fileFormat=p.fileFormat;this.displayRects=p.displayRects;if(this.displayRects)for(c=this.displayRects.length-1;c>=0;c--)for(d=(u=this.displayRects[c]).minLevel;d<=u.maxLevel;d++){this._levelRects[d]||(this._levelRects[d]=[]);this._levelRects[d].push(u)}e.TileSource.apply(this,[p])};e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){var i;e.Image?i=e.Image.xmlns:e.documentElement&&(\"Image\"!=e.documentElement.localName&&\"Image\"!=e.documentElement.tagName||(i=e.documentElement.namespaceURI));return-1!==(i=(i||\"\").toLowerCase()).indexOf(\"schemas.microsoft.com/deepzoom/2008\")||-1!==i.indexOf(\"schemas.microsoft.com/deepzoom/2009\")},configure:function(i,n){var o;o=e.isPlainObject(i)?t(this,i):function(i,n){if(!n||!n.documentElement)throw new Error(e.getString(\"Errors.Xml\"));var o,r,s,a,l,h=n.documentElement,c=h.localName||h.tagName,u=n.documentElement.namespaceURI,d=null,p=[];if(\"Image\"==c)try{void 0===(a=h.getElementsByTagName(\"Size\")[0])&&(a=h.getElementsByTagNameNS(u,\"Size\")[0]);d={Image:{xmlns:\"http://schemas.microsoft.com/deepzoom/2008\",Url:h.getAttribute(\"Url\"),Format:h.getAttribute(\"Format\"),DisplayRect:null,Overlap:parseInt(h.getAttribute(\"Overlap\"),10),TileSize:parseInt(h.getAttribute(\"TileSize\"),10),Size:{Height:parseInt(a.getAttribute(\"Height\"),10),Width:parseInt(a.getAttribute(\"Width\"),10)}}};if(!e.imageFormatSupported(d.Image.Format))throw new Error(e.getString(\"Errors.ImageFormat\",d.Image.Format.toUpperCase()));void 0===(o=h.getElementsByTagName(\"DisplayRect\"))&&(o=h.getElementsByTagNameNS(u,\"DisplayRect\")[0]);for(l=0;l<o.length;l++){r=o[l];void 0===(s=r.getElementsByTagName(\"Rect\")[0])&&(s=r.getElementsByTagNameNS(u,\"Rect\")[0]);p.push({Rect:{X:parseInt(s.getAttribute(\"X\"),10),Y:parseInt(s.getAttribute(\"Y\"),10),Width:parseInt(s.getAttribute(\"Width\"),10),Height:parseInt(s.getAttribute(\"Height\"),10),MinLevel:parseInt(r.getAttribute(\"MinLevel\"),10),MaxLevel:parseInt(r.getAttribute(\"MaxLevel\"),10)}})}p.length&&(d.Image.DisplayRect=p);return t(i,d)}catch(t){throw t instanceof Error?t:new Error(e.getString(\"Errors.Dzi\"))}else{if(\"Collection\"==c)throw new Error(e.getString(\"Errors.Dzc\"));if(\"Error\"==c){var g=h.getElementsByTagName(\"Message\")[0];var m=g.firstChild.nodeValue;throw new Error(m)}}throw new Error(e.getString(\"Errors.Dzi\"))}(this,i);if(n&&!o.tilesUrl){o.tilesUrl=n.replace(/([^\\/]+?)(\\.(dzi|xml|js)?(\\?[^\\/]*)?)?\\/?$/,\"$1_files/\");-1!=n.search(/\\.(dzi|xml|js)\\?/)?o.queryParams=n.match(/\\?.*/):o.queryParams=\"\"}return o},getTileUrl:function(e,t,i){return[this.tilesUrl,e,\"/\",t,\"_\",i,\".\",this.fileFormat,this.queryParams].join(\"\")},tileExists:function(e,t,i){var n,o,r,s,a,l,h,c=this._levelRects[e];if(this.minLevel&&e<this.minLevel||this.maxLevel&&e>this.maxLevel)return!1;if(!c||!c.length)return!0;for(h=c.length-1;h>=0;h--)if(!(e<(n=c[h]).minLevel||e>n.maxLevel)){o=this.getLevelScale(e);r=n.x*o;s=n.y*o;a=r+n.width*o;l=s+n.height*o;r=Math.floor(r/this._tileWidth);s=Math.floor(s/this._tileWidth);a=Math.ceil(a/this._tileWidth);l=Math.ceil(l/this._tileWidth);if(r<=t&&t<a&&s<=i&&i<l)return!0}return!1}});function t(t,i){var n,o,r=i.Image,s=r.Url,a=r.Format,l=r.Size,h=r.DisplayRect||[],c=parseInt(l.Width,10),u=parseInt(l.Height,10),d=parseInt(r.TileSize,10),p=parseInt(r.Overlap,10),g=[];for(o=0;o<h.length;o++){n=h[o].Rect;g.push(new e.DisplayRect(parseInt(n.X,10),parseInt(n.Y,10),parseInt(n.Width,10),parseInt(n.Height,10),parseInt(n.MinLevel,10),parseInt(n.MaxLevel,10)))}return e.extend(!0,{width:c,height:u,tileSize:d,tileOverlap:p,minLevel:null,maxLevel:null,tilesUrl:s,fileFormat:a,displayRects:g},i)}}(OpenSeadragon);!function(e){e.IIIFTileSource=function(t){e.extend(!0,this,t);if(!(this.height&&this.width&&this[\"@id\"]))throw new Error(\"IIIF required parameters not provided.\");t.tileSizePerScaleFactor={};if(this.tile_width&&this.tile_height){t.tileWidth=this.tile_width;t.tileHeight=this.tile_height}else if(this.tile_width)t.tileSize=this.tile_width;else if(this.tile_height)t.tileSize=this.tile_height;else if(this.tiles)if(1==this.tiles.length){t.tileWidth=this.tiles[0].width;t.tileHeight=this.tiles[0].height||this.tiles[0].width;this.scale_factors=this.tiles[0].scaleFactors}else{this.scale_factors=[];for(var i=0;i<this.tiles.length;i++)for(var n=0;n<this.tiles[i].scaleFactors.length;n++){var o=this.tiles[i].scaleFactors[n];this.scale_factors.push(o);t.tileSizePerScaleFactor[o]={width:this.tiles[i].width,height:this.tiles[i].height||this.tiles[i].width}}}else if(h=t.profile,-1==[\"http://library.stanford.edu/iiif/image-api/compliance.html#level0\",\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0\",\"http://iiif.io/api/image/2/level0.json\"].indexOf(h[0])||-1!=h.indexOf(\"sizeByW\")){var r=Math.min(this.height,this.width),s=[256,512,1024],a=[];for(var l=0;l<s.length;l++)s[l]<=r&&a.push(s[l]);a.length>0?t.tileSize=Math.max.apply(null,a):t.tileSize=r}else if(this.sizes&&this.sizes.length>0){this.emulateLegacyImagePyramid=!0;t.levels=function(e){var t=[];for(var i=0;i<e.sizes.length;i++)t.push({url:e[\"@id\"]+\"/full/\"+e.sizes[i].width+\",/0/default.jpg\",width:e.sizes[i].width,height:e.sizes[i].height});return t.sort(function(e,t){return e.width-t.width})}(this);e.extend(!0,t,{width:t.levels[t.levels.length-1].width,height:t.levels[t.levels.length-1].height,tileSize:Math.max(t.height,t.width),tileOverlap:0,minLevel:0,maxLevel:t.levels.length-1});this.levels=t.levels}else e.console.error(\"Nothing in the info.json to construct image pyramids from\");var h;if(!t.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var c=Math.max.apply(null,this.scale_factors);t.maxLevel=Math.round(Math.log(c)*Math.LOG2E)}else t.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));e.TileSource.apply(this,[t])};e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return!(!e.protocol||\"http://iiif.io/api/image\"!=e.protocol)||(!(!e[\"@context\"]||\"http://library.stanford.edu/iiif/image-api/1.1/context.json\"!=e[\"@context\"]&&\"http://iiif.io/api/image/1/context.json\"!=e[\"@context\"])||(!(!e.profile||0!==e.profile.indexOf(\"http://library.stanford.edu/iiif/image-api/compliance.html\"))||(!!(e.identifier&&e.width&&e.height)||!(!e.documentElement||\"info\"!=e.documentElement.tagName||\"http://library.stanford.edu/iiif/image-api/ns/\"!=e.documentElement.namespaceURI))))},configure:function(t,i){if(e.isPlainObject(t)){if(t[\"@context\"])return t;t[\"@context\"]=\"http://iiif.io/api/image/1.0/context.json\";t[\"@id\"]=i.replace(\"/info.json\",\"\");return t}var n=function(t){if(!t||!t.documentElement)throw new Error(e.getString(\"Errors.Xml\"));var i=t.documentElement,n=null;if(\"info\"==i.tagName)try{!function t(i,n,o){var r,s;if(3==i.nodeType&&o){(s=i.nodeValue.trim()).match(/^\\d*$/)&&(s=Number(s));if(n[o]){e.isArray(n[o])||(n[o]=[n[o]]);n[o].push(s)}else n[o]=s}else if(1==i.nodeType)for(r=0;r<i.childNodes.length;r++)t(i.childNodes[r],n,i.nodeName)}(i,n={});return n}catch(t){throw t instanceof Error?t:new Error(e.getString(\"Errors.IIIF\"))}throw new Error(e.getString(\"Errors.IIIF\"))}(t);n[\"@context\"]=\"http://iiif.io/api/image/1.0/context.json\";n[\"@id\"]=i.replace(\"/info.xml\",\"\");return n},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,t);var i=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[i]?this.tileSizePerScaleFactor[i].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,t);var i=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[i]?this.tileSizePerScaleFactor[i].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var i=NaN;this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(i=this.levels[t].width/this.levels[this.maxLevel].width);return i}return e.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){if(this.emulateLegacyImagePyramid){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)}return e.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,i){return this.emulateLegacyImagePyramid?new e.Point(0,0):e.TileSource.prototype.getTileAtPoint.call(this,t,i)},getTileUrl:function(e,t,i){if(this.emulateLegacyImagePyramid){var n=null;this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url);return n}var o,r,s,a,l,h,c,u,d,p,g,m=Math.pow(.5,this.maxLevel-e),v=Math.ceil(this.width*m),f=Math.ceil(this.height*m);o=this.getTileWidth(e);r=this.getTileHeight(e);s=Math.ceil(o/m);a=Math.ceil(r/m);g=this[\"@context\"].indexOf(\"/1.0/context.json\")>-1||this[\"@context\"].indexOf(\"/1.1/context.json\")>-1||this[\"@context\"].indexOf(\"/1/context.json\")>-1?\"native.jpg\":\"default.jpg\";if(v<o&&f<r){p=v+\",\";l=\"full\"}else{h=t*s;c=i*a;u=Math.min(s,this.width-h);d=Math.min(a,this.height-c);p=Math.ceil(u*m)+\",\";l=[h,c,u,d].join(\",\")}return[this[\"@id\"],l,p,\"0\",g].join(\"/\")}})}(OpenSeadragon);!function(e){e.OsmTileSource=function(t,i,n,o,r){var s;if(!(s=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width||!s.height){s.width=65572864;s.height=65572864}if(!s.tileSize){s.tileSize=256;s.tileOverlap=0}s.tilesUrl||(s.tilesUrl=\"http://tile.openstreetmap.org/\");s.minLevel=8;e.TileSource.apply(this,[s])};e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&\"openstreetmaps\"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,i){return this.tilesUrl+(e-8)+\"/\"+t+\"/\"+i+\".png\"}})}(OpenSeadragon);!function(e){e.TmsTileSource=function(t,i,n,o,r){var s;s=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var a,l=256*Math.ceil(s.width/256),h=256*Math.ceil(s.height/256);a=l>h?l/256:h/256;s.maxLevel=Math.ceil(Math.log(a)/Math.log(2))-1;s.tileSize=256;s.width=l;s.height=h;e.TileSource.apply(this,[s])};e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&\"tiledmapservice\"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,i){var n=this.getNumTiles(e).y-1;return this.tilesUrl+e+\"/\"+t+\"/\"+(n-i)+\".png\"}})}(OpenSeadragon);!function(e){e.ZoomifyTileSource=function(e){e.tileSize=256;var t={x:e.width,y:e.height};e.imageSizes=[{x:e.width,y:e.height}];e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];for(;parseInt(t.x,10)>e.tileSize||parseInt(t.y,10)>e.tileSize;){t.x=Math.floor(t.x/2);t.y=Math.floor(t.y/2);e.imageSizes.push({x:t.x,y:t.y});e.gridSize.push(this._getGridSize(t.x,t.y,e.tileSize))}e.imageSizes.reverse();e.gridSize.reverse();e.minLevel=0;e.maxLevel=e.gridSize.length-1;OpenSeadragon.TileSource.apply(this,[e])};e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(e,t,i){return{x:Math.ceil(e/i),y:Math.ceil(t/i)}},_calculateAbsoluteTileNumber:function(e,t,i){var n=0;var o={};for(var r=0;r<e;r++)n+=(o=this.gridSize[r]).x*o.y;return n+=(o=this.gridSize[e]).x*i+t},supports:function(e,t){return e.type&&\"zoomifytileservice\"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,i){var n=0;var o=this._calculateAbsoluteTileNumber(e,t,i);n=Math.floor(o/256);return this.tilesUrl+\"TileGroup\"+n+\"/\"+e+\"-\"+t+\"-\"+i+\".jpg\"}})}(OpenSeadragon);!function(e){e.LegacyTileSource=function(t){var i,n,o;e.isArray(t)&&(i={type:\"legacy-image-pyramid\",levels:t});i.levels=function(t){var i,n,o=[];for(n=0;n<t.length;n++)(i=t[n]).height&&i.width&&i.url?o.push({url:i.url,width:Number(i.width),height:Number(i.height)}):e.console.error(\"Unsupported image format: %s\",i.url?i.url:\"<no URL>\");return o.sort(function(e,t){return e.height-t.height})}(i.levels);if(i.levels.length>0){n=i.levels[i.levels.length-1].width;o=i.levels[i.levels.length-1].height}else{n=0;o=0;e.console.error(\"No supported image formats found\")}e.extend(!0,i,{width:n,height:o,tileSize:Math.max(o,n),tileOverlap:0,minLevel:0,maxLevel:i.levels.length>0?i.levels.length-1:0});e.TileSource.apply(this,[i]);this.levels=i.levels};e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&\"legacy-image-pyramid\"==e.type||e.documentElement&&\"legacy-image-pyramid\"==e.documentElement.getAttribute(\"type\")},configure:function(i,n){return e.isPlainObject(i)?t(this,i):function(i,n){if(!n||!n.documentElement)throw new Error(e.getString(\"Errors.Xml\"));var o,r,s=n.documentElement,a=s.tagName,l=null,h=[];if(\"image\"==a)try{l={type:s.getAttribute(\"type\"),levels:[]};h=s.getElementsByTagName(\"level\");for(r=0;r<h.length;r++){o=h[r];l.levels.push({url:o.getAttribute(\"url\"),width:parseInt(o.getAttribute(\"width\"),10),height:parseInt(o.getAttribute(\"height\"),10)})}return t(i,l)}catch(e){throw e instanceof Error?e:new Error(\"Unknown error parsing Legacy Image Pyramid XML.\")}else{if(\"collection\"==a)throw new Error(\"Legacy Image Pyramid Collections not yet supported.\");if(\"error\"==a)throw new Error(\"Error: \"+n)}throw new Error(\"Unknown element \"+a)}(this,i)},getLevelScale:function(e){var t=NaN;this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width);return t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,i){var n=null;this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url);return n}});function t(e,t){return t.levels}}(OpenSeadragon);!function(e){e.ImageTileSource=function(t){t=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},t);e.TileSource.apply(this,[t])};e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&\"image\"===e.type},configure:function(e,t){return e},getImageInfo:function(t){var i=this._image=new Image;var n=this;this.crossOriginPolicy&&(i.crossOrigin=this.crossOriginPolicy);this.ajaxWithCredentials&&(i.useCredentials=this.ajaxWithCredentials);e.addEvent(i,\"load\",function(){n.width=Object.prototype.hasOwnProperty.call(i,\"naturalWidth\")?i.naturalWidth:i.width;n.height=Object.prototype.hasOwnProperty.call(i,\"naturalHeight\")?i.naturalHeight:i.height;n.aspectRatio=n.width/n.height;n.dimensions=new e.Point(n.width,n.height);n._tileWidth=n.width;n._tileHeight=n.height;n.tileOverlap=0;n.minLevel=0;n.levels=n._buildLevels();n.maxLevel=n.levels.length-1;n.ready=!0;n.raiseEvent(\"ready\",{tileSource:n})});e.addEvent(i,\"error\",function(){n.raiseEvent(\"open-failed\",{message:\"Error loading image at \"+t,source:t})});i.src=t},getLevelScale:function(e){var t=NaN;e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width);return t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,i){var n=null;e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url);return n},getContext2D:function(e,t,i){var n=null;e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].context2D);return n},_buildLevels:function(){var t=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,\"naturalWidth\")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,\"naturalHeight\")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!e.supportsCanvas||!this.useCanvas){delete this._image;return t}var i=Object.prototype.hasOwnProperty.call(this._image,\"naturalWidth\")?this._image.naturalWidth:this._image.width;var n=Object.prototype.hasOwnProperty.call(this._image,\"naturalHeight\")?this._image.naturalHeight:this._image.height;var o=document.createElement(\"canvas\");var r=o.getContext(\"2d\");o.width=i;o.height=n;r.drawImage(this._image,0,0,i,n);t[0].context2D=r;delete this._image;if(e.isCanvasTainted(o))return t;for(;i>=2&&n>=2;){i=Math.floor(i/2);n=Math.floor(n/2);var s=document.createElement(\"canvas\");var a=s.getContext(\"2d\");s.width=i;s.height=n;a.drawImage(o,0,0,i,n);t.splice(0,0,{context2D:a,width:i,height:n});o=s;r=a}return t}})}(OpenSeadragon);!function(e){e.TileSourceCollection=function(t,i,n,o){e.console.error(\"TileSourceCollection is deprecated; use World instead\")}}(OpenSeadragon);!function(e){e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3};e.Button=function(t){var o=this;e.EventSource.call(this);e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},t);this.element=t.element||e.makeNeutralElement(\"div\");if(!t.element){this.imgRest=e.makeTransparentImage(this.srcRest);this.imgGroup=e.makeTransparentImage(this.srcGroup);this.imgHover=e.makeTransparentImage(this.srcHover);this.imgDown=e.makeTransparentImage(this.srcDown);this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip;this.element.style.position=\"relative\";e.setElementTouchActionNone(this.element);this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position=\"absolute\";this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=\"0px\";this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left=\"0px\";this.imgHover.style.visibility=this.imgDown.style.visibility=\"hidden\";e.Browser.vendor==e.BROWSERS.FIREFOX&&e.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=\"\");this.element.appendChild(this.imgRest);this.element.appendChild(this.imgGroup);this.element.appendChild(this.imgHover);this.element.appendChild(this.imgDown)}this.addHandler(\"press\",this.onPress);this.addHandler(\"release\",this.onRelease);this.addHandler(\"click\",this.onClick);this.addHandler(\"enter\",this.onEnter);this.addHandler(\"exit\",this.onExit);this.addHandler(\"focus\",this.onFocus);this.addHandler(\"blur\",this.onBlur);this.currentState=e.ButtonState.GROUP;this.fadeBeginTime=null;this.shouldFade=!1;this.element.style.display=\"inline-block\";this.element.style.position=\"relative\";this.element.title=this.tooltip;this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){if(t.insideElementPressed){i(o,e.ButtonState.DOWN);o.raiseEvent(\"enter\",{originalEvent:t.originalEvent})}else t.buttonDownAny||i(o,e.ButtonState.HOVER)},focusHandler:function(e){this.enterHandler(e);o.raiseEvent(\"focus\",{originalEvent:e.originalEvent})},exitHandler:function(t){n(o,e.ButtonState.GROUP);t.insideElementPressed&&o.raiseEvent(\"exit\",{originalEvent:t.originalEvent})},blurHandler:function(e){this.exitHandler(e);o.raiseEvent(\"blur\",{originalEvent:e.originalEvent})},pressHandler:function(t){i(o,e.ButtonState.DOWN);o.raiseEvent(\"press\",{originalEvent:t.originalEvent})},releaseHandler:function(t){if(t.insideElementPressed&&t.insideElementReleased){n(o,e.ButtonState.HOVER);o.raiseEvent(\"release\",{originalEvent:t.originalEvent})}else t.insideElementPressed?n(o,e.ButtonState.GROUP):i(o,e.ButtonState.HOVER)},clickHandler:function(e){e.quick&&o.raiseEvent(\"click\",{originalEvent:e.originalEvent})},keyHandler:function(e){if(13===e.keyCode){o.raiseEvent(\"click\",{originalEvent:e.originalEvent});o.raiseEvent(\"release\",{originalEvent:e.originalEvent});return!1}return!0}});n(this,e.ButtonState.REST)};e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){i(this,e.ButtonState.GROUP)},notifyGroupExit:function(){n(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit();this.element.disabled=!0;e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1;e.setElementOpacity(this.element,1,!0);this.notifyGroupEnter()}});function t(i){e.requestAnimationFrame(function(){!function(i){var n,o,r;if(i.shouldFade){n=e.now();o=n-i.fadeBeginTime;r=1-o/i.fadeLength;r=Math.min(1,r);r=Math.max(0,r);i.imgGroup&&e.setElementOpacity(i.imgGroup,r,!0);r>0&&t(i)}}(i)})}function i(t,i){if(!t.element.disabled){if(i>=e.ButtonState.GROUP&&t.currentState==e.ButtonState.REST){!function(t){t.shouldFade=!1;t.imgGroup&&e.setElementOpacity(t.imgGroup,1,!0)}(t);t.currentState=e.ButtonState.GROUP}if(i>=e.ButtonState.HOVER&&t.currentState==e.ButtonState.GROUP){t.imgHover&&(t.imgHover.style.visibility=\"\");t.currentState=e.ButtonState.HOVER}if(i>=e.ButtonState.DOWN&&t.currentState==e.ButtonState.HOVER){t.imgDown&&(t.imgDown.style.visibility=\"\");t.currentState=e.ButtonState.DOWN}}}function n(i,n){if(!i.element.disabled){if(n<=e.ButtonState.HOVER&&i.currentState==e.ButtonState.DOWN){i.imgDown&&(i.imgDown.style.visibility=\"hidden\");i.currentState=e.ButtonState.HOVER}if(n<=e.ButtonState.GROUP&&i.currentState==e.ButtonState.HOVER){i.imgHover&&(i.imgHover.style.visibility=\"hidden\");i.currentState=e.ButtonState.GROUP}if(n<=e.ButtonState.REST&&i.currentState==e.ButtonState.GROUP){!function(i){i.shouldFade=!0;i.fadeBeginTime=e.now()+i.fadeDelay;window.setTimeout(function(){t(i)},i.fadeDelay)}(i);i.currentState=e.ButtonState.REST}}}}(OpenSeadragon);!function(e){e.ButtonGroup=function(t){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:\"\"},t);var i,n=this.buttons.concat([]),o=this;this.element=t.element||e.makeNeutralElement(\"div\");if(!t.group){this.label=e.makeNeutralElement(\"label\");this.element.style.display=\"inline-block\";this.element.appendChild(this.label);for(i=0;i<n.length;i++)this.element.appendChild(n[i].element)}e.setElementTouchActionNone(this.element);this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){var t;for(t=0;t<o.buttons.length;t++)o.buttons[t].notifyGroupEnter()},exitHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<o.buttons.length;t++)o.buttons[t].notifyGroupExit()}})};e.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon);!function(e){e.Rect=function(t,i,n,o,r){this.x=\"number\"==typeof t?t:0;this.y=\"number\"==typeof i?i:0;this.width=\"number\"==typeof n?n:0;this.height=\"number\"==typeof o?o:0;this.degrees=\"number\"==typeof r?r:0;this.degrees=e.positiveModulo(this.degrees,360);var s,a;if(this.degrees>=270){s=this.getTopRight();this.x=s.x;this.y=s.y;a=this.height;this.height=this.width;this.width=a;this.degrees-=270}else if(this.degrees>=180){s=this.getBottomRight();this.x=s.x;this.y=s.y;this.degrees-=180}else if(this.degrees>=90){s=this.getBottomLeft();this.x=s.x;this.y=s.y;a=this.height;this.height=this.width;this.width=a;this.degrees-=90}};e.Rect.fromSummits=function(t,i,n){var o=t.distanceTo(i);var r=t.distanceTo(n);var s=i.minus(t);var a=Math.atan(s.y/s.x);s.x<0?a+=Math.PI:s.y<0&&(a+=2*Math.PI);return new e.Rect(t.x,t.y,o,r,a/Math.PI*180)};e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(t){return t instanceof e.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new e.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new e.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var i=this.getBoundingBox();var n=t.getBoundingBox();var o=Math.min(i.x,n.x);var r=Math.min(i.y,n.y);var s=Math.max(i.x+i.width,n.x+n.width);var a=Math.max(i.y+i.height,n.y+n.height);return new e.Rect(o,r,s-o,a-r)},intersection:function(t){var i=1e-10;var n=[];var o=this.getTopLeft();t.containsPoint(o,i)&&n.push(o);var r=this.getTopRight();t.containsPoint(r,i)&&n.push(r);var s=this.getBottomLeft();t.containsPoint(s,i)&&n.push(s);var a=this.getBottomRight();t.containsPoint(a,i)&&n.push(a);var l=t.getTopLeft();this.containsPoint(l,i)&&n.push(l);var h=t.getTopRight();this.containsPoint(h,i)&&n.push(h);var c=t.getBottomLeft();this.containsPoint(c,i)&&n.push(c);var u=t.getBottomRight();this.containsPoint(u,i)&&n.push(u);var d=this._getSegments();var p=t._getSegments();for(var g=0;g<d.length;g++){var m=d[g];for(var v=0;v<p.length;v++){var f=p[v];var w=y(m[0],m[1],f[0],f[1]);w&&n.push(w)}}function y(t,n,o,r){var s=n.minus(t);var a=r.minus(o);var l=-a.x*s.y+s.x*a.y;if(0===l)return null;var h=(s.x*(t.y-o.y)-s.y*(t.x-o.x))/l;var c=(a.x*(t.y-o.y)-a.y*(t.x-o.x))/l;return-i<=h&&h<=1-i&&-i<=c&&c<=1-i?new e.Point(t.x+c*s.x,t.y+c*s.y):null}if(0===n.length)return null;var T=n[0].x;var x=n[0].x;var S=n[0].y;var E=n[0].y;for(var P=1;P<n.length;P++){var R=n[P];R.x<T&&(T=R.x);R.x>x&&(x=R.x);R.y<S&&(S=R.y);R.y>E&&(E=R.y)}return new e.Rect(T,S,x-T,E-S)},_getSegments:function(){var e=this.getTopLeft();var t=this.getTopRight();var i=this.getBottomLeft();var n=this.getBottomRight();return[[e,t],[t,n],[n,i],[i,e]]},rotate:function(t,i){if(0===(t=e.positiveModulo(t,360)))return this.clone();i=i||this.getCenter();var n=this.getTopLeft().rotate(t,i);var o=this.getTopRight().rotate(t,i).minus(n);o=o.apply(function(e){return Math.abs(e)<1e-15?0:e});var r=Math.atan(o.y/o.x);o.x<0?r+=Math.PI:o.y<0&&(r+=2*Math.PI);return new e.Rect(n.x,n.y,this.width,this.height,r/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var t=this.getTopLeft();var i=this.getTopRight();var n=this.getBottomLeft();var o=this.getBottomRight();var r=Math.min(t.x,i.x,n.x,o.x);var s=Math.max(t.x,i.x,n.x,o.x);var a=Math.min(t.y,i.y,n.y,o.y);var l=Math.max(t.y,i.y,n.y,o.y);return new e.Rect(r,a,s-r,l-a)},getIntegerBoundingBox:function(){var t=this.getBoundingBox();var i=Math.floor(t.x);var n=Math.floor(t.y);var o=Math.ceil(t.width+t.x-i);var r=Math.ceil(t.height+t.y-n);return new e.Rect(i,n,o,r)},containsPoint:function(e,t){t=t||0;var i=this.getTopLeft();var n=this.getTopRight();var o=this.getBottomLeft();var r=n.minus(i);var s=o.minus(i);return(e.x-i.x)*r.x+(e.y-i.y)*r.y>=-t&&(e.x-n.x)*r.x+(e.y-n.y)*r.y<=t&&(e.x-i.x)*s.x+(e.y-i.y)*s.y>=-t&&(e.x-o.x)*s.x+(e.y-o.y)*s.y<=t},toString:function(){return\"[\"+Math.round(100*this.x)/100+\", \"+Math.round(100*this.y)/100+\", \"+Math.round(100*this.width)/100+\"x\"+Math.round(100*this.height)/100+\", \"+Math.round(100*this.degrees)/100+\"deg]\"}}}(OpenSeadragon);!function(e){var t={};e.ReferenceStrip=function(h){var c,u,d,p=h.viewer,g=e.getElementSize(p.element);if(!h.id){h.id=\"referencestrip-\"+e.now();this.element=e.makeNeutralElement(\"div\");this.element.id=h.id;this.element.className=\"referencestrip\"}h=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},h,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1});e.extend(this,h);t[this.id]={animating:!1};this.minPixelRatio=this.viewer.minPixelRatio;(u=this.element.style).marginTop=\"0px\";u.marginRight=\"0px\";u.marginBottom=\"0px\";u.marginLeft=\"0px\";u.left=\"0px\";u.bottom=\"0px\";u.border=\"0px\";u.background=\"#000\";u.position=\"relative\";e.setElementTouchActionNone(this.element);e.setElementOpacity(this.element,.8);this.viewer=p;this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,i),scrollHandler:e.delegate(this,n),enterHandler:e.delegate(this,r),exitHandler:e.delegate(this,s),keyDownHandler:e.delegate(this,a),keyHandler:e.delegate(this,l)});if(h.width&&h.height){this.element.style.width=h.width+\"px\";this.element.style.height=h.height+\"px\";p.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})}else if(\"horizontal\"==h.scroll){this.element.style.width=g.x*h.sizeRatio*p.tileSources.length+12*p.tileSources.length+\"px\";this.element.style.height=g.y*h.sizeRatio+\"px\";p.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})}else{this.element.style.height=g.y*h.sizeRatio*p.tileSources.length+12*p.tileSources.length+\"px\";this.element.style.width=g.x*h.sizeRatio+\"px\";p.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})}this.panelWidth=g.x*this.sizeRatio+8;this.panelHeight=g.y*this.sizeRatio+8;this.panels=[];this.miniViewers={};for(d=0;d<p.tileSources.length;d++){(c=e.makeNeutralElement(\"div\")).id=this.element.id+\"-\"+d;c.style.width=this.panelWidth+\"px\";c.style.height=this.panelHeight+\"px\";c.style.display=\"inline\";c.style.float=\"left\";c.style.cssFloat=\"left\";c.style.styleFloat=\"left\";c.style.padding=\"2px\";e.setElementTouchActionNone(c);c.innerTracker=new e.MouseTracker({element:c,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(t){t.eventSource.dragging=e.now()},releaseHandler:function(t){var i=t.eventSource,n=i.element.id,o=Number(n.split(\"-\")[2]),r=e.now();if(t.insideElementPressed&&t.insideElementReleased&&i.dragging&&r-i.dragging<i.clickTimeThreshold){i.dragging=null;p.goToPage(o)}}});this.element.appendChild(c);c.activePanel=!1;this.panels.push(c)}o(this,\"vertical\"==this.scroll?g.y:g.x,0);this.setFocus(0)};e.extend(e.ReferenceStrip.prototype,e.EventSource.prototype,e.Viewer.prototype,{setFocus:function(t){var i,n=e.getElement(this.element.id+\"-\"+t),s=e.getElementSize(this.viewer.canvas),a=Number(this.element.style.width.replace(\"px\",\"\")),l=Number(this.element.style.height.replace(\"px\",\"\")),h=-Number(this.element.style.marginLeft.replace(\"px\",\"\")),c=-Number(this.element.style.marginTop.replace(\"px\",\"\"));if(this.currentSelected!==n){this.currentSelected&&(this.currentSelected.style.background=\"#000\");this.currentSelected=n;this.currentSelected.style.background=\"#999\";if(\"horizontal\"==this.scroll){if((i=Number(t)*(this.panelWidth+3))>h+s.x-this.panelWidth){i=Math.min(i,a-s.x);this.element.style.marginLeft=-i+\"px\";o(this,s.x,-i)}else if(i<h){i=Math.max(0,i-s.x/2);this.element.style.marginLeft=-i+\"px\";o(this,s.x,-i)}}else if((i=Number(t)*(this.panelHeight+3))>c+s.y-this.panelHeight){i=Math.min(i,l-s.y);this.element.style.marginTop=-i+\"px\";o(this,s.y,-i)}else if(i<c){i=Math.max(0,i-s.y/2);this.element.style.marginTop=-i+\"px\";o(this,s.y,-i)}this.currentPage=t;r.call(this,{eventSource:this.innerTracker})}},update:function(){if(t[this.id].animating){e.console.log(\"image reference strip update\");return!0}return!1},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.element&&this.element.parentNode.removeChild(this.element)}});function i(t){var i=Number(this.element.style.marginLeft.replace(\"px\",\"\")),n=Number(this.element.style.marginTop.replace(\"px\",\"\")),r=Number(this.element.style.width.replace(\"px\",\"\")),s=Number(this.element.style.height.replace(\"px\",\"\")),a=e.getElementSize(this.viewer.canvas);this.dragging=!0;if(this.element)if(\"horizontal\"==this.scroll){if(-t.delta.x>0){if(i>-(r-a.x)){this.element.style.marginLeft=i+2*t.delta.x+\"px\";o(this,a.x,i+2*t.delta.x)}}else if(-t.delta.x<0&&i<0){this.element.style.marginLeft=i+2*t.delta.x+\"px\";o(this,a.x,i+2*t.delta.x)}}else if(-t.delta.y>0){if(n>-(s-a.y)){this.element.style.marginTop=n+2*t.delta.y+\"px\";o(this,a.y,n+2*t.delta.y)}}else if(-t.delta.y<0&&n<0){this.element.style.marginTop=n+2*t.delta.y+\"px\";o(this,a.y,n+2*t.delta.y)}return!1}function n(t){var i=Number(this.element.style.marginLeft.replace(\"px\",\"\")),n=Number(this.element.style.marginTop.replace(\"px\",\"\")),r=Number(this.element.style.width.replace(\"px\",\"\")),s=Number(this.element.style.height.replace(\"px\",\"\")),a=e.getElementSize(this.viewer.canvas);if(this.element)if(\"horizontal\"==this.scroll){if(t.scroll>0){if(i>-(r-a.x)){this.element.style.marginLeft=i-60*t.scroll+\"px\";o(this,a.x,i-60*t.scroll)}}else if(t.scroll<0&&i<0){this.element.style.marginLeft=i-60*t.scroll+\"px\";o(this,a.x,i-60*t.scroll)}}else if(t.scroll<0){if(n>a.y-s){this.element.style.marginTop=n+60*t.scroll+\"px\";o(this,a.y,n+60*t.scroll)}}else if(t.scroll>0&&n<0){this.element.style.marginTop=n+60*t.scroll+\"px\";o(this,a.y,n+60*t.scroll)}return!1}function o(t,i,n){var o,r,s,a,l,h,c;o=\"horizontal\"==t.scroll?t.panelWidth:t.panelHeight;r=Math.ceil(i/o)+5;for(h=r=(r=(s=Math.ceil((Math.abs(n)+i)/o)+1)-r)<0?0:r;h<s&&h<t.panels.length;h++)if(!(c=t.panels[h]).activePanel){var u;var d=t.viewer.tileSources[h];u=d.referenceStripThumbnailUrl?{type:\"image\",url:d.referenceStripThumbnailUrl}:d;(a=new e.Viewer({id:c.id,tileSources:[u],element:c,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0})).displayRegion=e.makeNeutralElement(\"div\");a.displayRegion.id=c.id+\"-displayregion\";a.displayRegion.className=\"displayregion\";(l=a.displayRegion.style).position=\"relative\";l.top=\"0px\";l.left=\"0px\";l.fontSize=\"0px\";l.overflow=\"hidden\";l.float=\"left\";l.cssFloat=\"left\";l.styleFloat=\"left\";l.zIndex=999999999;l.cursor=\"default\";l.width=t.panelWidth-4+\"px\";l.height=t.panelHeight-4+\"px\";a.displayRegion.innerTracker=new e.MouseTracker({element:a.displayRegion,startDisabled:!0});c.getElementsByTagName(\"div\")[0].appendChild(a.displayRegion);t.miniViewers[c.id]=a;c.activePanel=!0}}function r(e){var t=e.eventSource.element;\"horizontal\"==this.scroll?t.style.marginBottom=\"0px\":t.style.marginLeft=\"0px\";return!1}function s(t){var i=t.eventSource.element;\"horizontal\"==this.scroll?i.style.marginBottom=\"-\"+e.getElementSize(i).y/2+\"px\":i.style.marginLeft=\"-\"+e.getElementSize(i).x/2+\"px\";return!1}function a(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 38:n.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null});return!1;case 40:case 37:n.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null});return!1;case 39:n.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null});return!1;default:return!0}}function l(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 61:n.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null});return!1;case 45:n.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null});return!1;case 48:case 119:case 87:n.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null});return!1;case 115:case 83:case 97:n.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null});return!1;case 100:n.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null});return!1;default:return!0}}}(OpenSeadragon);!function(e){e.DisplayRect=function(t,i,n,o,r,s){e.Rect.apply(this,[t,i,n,o]);this.minLevel=r;this.maxLevel=s};e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(OpenSeadragon);!function(e){e.Spring=function(t){var i=arguments;\"object\"!=typeof t&&(t={initial:i.length&&\"number\"==typeof i[0]?i[0]:void 0,springStiffness:i.length>1?i[1].springStiffness:5,animationTime:i.length>1?i[1].animationTime:1.5});e.console.assert(\"number\"==typeof t.springStiffness&&0!==t.springStiffness,\"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number\");e.console.assert(\"number\"==typeof t.animationTime&&t.animationTime>=0,\"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0\");if(t.exponential){this._exponential=!0;delete t.exponential}e.extend(!0,this,t);this.current={value:\"number\"==typeof this.initial?this.initial:this._exponential?0:1,time:e.now()};e.console.assert(!this._exponential||0!==this.current.value,\"[OpenSeadragon.Spring] value must be non-zero for exponential springs\");this.start={value:this.current.value,time:this.current.time};this.target={value:this.current.value,time:this.current.time};if(this._exponential){this.start._logValue=Math.log(this.start.value);this.target._logValue=Math.log(this.target.value);this.current._logValue=Math.log(this.current.value)}};e.Spring.prototype={resetTo:function(t){e.console.assert(!this._exponential||0!==t,\"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs\");this.start.value=this.target.value=this.current.value=t;this.start.time=this.target.time=this.current.time=e.now();if(this._exponential){this.start._logValue=Math.log(this.start.value);this.target._logValue=Math.log(this.target.value);this.current._logValue=Math.log(this.current.value)}},springTo:function(t){e.console.assert(!this._exponential||0!==t,\"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs\");this.start.value=this.current.value;this.start.time=this.current.time;this.target.value=t;this.target.time=this.start.time+1e3*this.animationTime;if(this._exponential){this.start._logValue=Math.log(this.start.value);this.target._logValue=Math.log(this.target.value)}},shiftBy:function(t){this.start.value+=t;this.target.value+=t;if(this._exponential){e.console.assert(0!==this.target.value&&0!==this.start.value,\"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs\");this.start._logValue=Math.log(this.start.value);this.target._logValue=Math.log(this.target.value)}},setExponential:function(t){this._exponential=t;if(this._exponential){e.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,\"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs\");this.start._logValue=Math.log(this.start.value);this.target._logValue=Math.log(this.target.value);this.current._logValue=Math.log(this.current.value)}},update:function(){this.current.time=e.now();var t,i;if(this._exponential){t=this.start._logValue;i=this.target._logValue}else{t=this.start.value;i=this.target.value}var n=this.current.time>=this.target.time?i:t+(i-t)*(o=this.springStiffness,r=(this.current.time-this.start.time)/(this.target.time-this.start.time),(1-Math.exp(o*-r))/(1-Math.exp(-o)));var o,r;var s=this.current.value;this._exponential?this.current.value=Math.exp(n):this.current.value=n;return s!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(OpenSeadragon);!function(e){function t(t){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null},t);this.image=null}t.prototype={errorMsg:null,start:function(){var t=this;var i=this.abort;this.image=new Image;this.image.onload=function(){t.finish(!0)};this.image.onabort=this.image.onerror=function(){t.errorMsg=\"Image load aborted\";t.finish(!1)};this.jobId=window.setTimeout(function(){t.errorMsg=\"Image load exceeded timeout\";t.finish(!1)},this.timeout);if(this.loadWithAjax){this.request=e.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:\"arraybuffer\",success:function(e){var i;try{i=new window.Blob([e.response])}catch(t){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(\"TypeError\"===t.name&&n){var o=new n;o.append(e.response);i=o.getBlob()}}if(0===i.size){t.errorMsg=\"Empty image response.\";t.finish(!1)}var r=(window.URL||window.webkitURL).createObjectURL(i);t.image.src=r},error:function(e){t.errorMsg=\"Image load aborted - XHR error\";t.finish(!1)}});this.abort=function(){t.request.abort();\"function\"==typeof i&&i()}}else{!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy);this.image.src=this.src}},finish:function(e){this.image.onload=this.image.onerror=this.image.onabort=null;e||(this.image=null);this.jobId&&window.clearTimeout(this.jobId);this.callback(this)}};e.ImageLoader=function(t){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},t)};e.ImageLoader.prototype={addJob:function(e){var i=this,n=new t({src:e.src,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.loadWithAjax?e.ajaxHeaders:null,crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,callback:function(t){!function(e,t,i){e.jobsInProgress--;if((!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.jobQueue.length>0){e.jobQueue.shift().start();e.jobsInProgress++}i(t.image,t.errorMsg,t.request)}(i,t,e.callback)},abort:e.abort,timeout:this.timeout});if(!this.jobLimit||this.jobsInProgress<this.jobLimit){n.start();this.jobsInProgress++}else this.jobQueue.push(n)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];\"function\"==typeof t.abort&&t.abort()}this.jobQueue=[]}}}(OpenSeadragon);!function(e){e.Tile=function(e,t,i,n,o,r,s,a,l,h){this.level=e;this.x=t;this.y=i;this.bounds=n;this.sourceBounds=h;this.exists=o;this.url=r;this.context2D=s;this.loadWithAjax=a;this.ajaxHeaders=l;this.ajaxHeaders?this.cacheKey=this.url+\"+\"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url;this.loaded=!1;this.loading=!1;this.element=null;this.imgElement=null;this.image=null;this.style=null;this.position=null;this.size=null;this.blendStart=null;this.opacity=null;this.squaredDistance=null;this.visibility=null;this.beingDrawn=!1;this.lastTouchTime=0;this.isRightMost=!1;this.isBottomMost=!1};e.Tile.prototype={toString:function(){return this.level+\"/\"+this.x+\"_\"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(\".png\")},drawHTML:function(t){if(this.cacheImageRecord)if(this.loaded){if(!this.element){this.element=e.makeNeutralElement(\"div\");this.imgElement=this.cacheImageRecord.getImage().cloneNode();this.imgElement.style.msInterpolationMode=\"nearest-neighbor\";this.imgElement.style.width=\"100%\";this.imgElement.style.height=\"100%\";this.style=this.element.style;this.style.position=\"absolute\"}this.element.parentNode!=t&&t.appendChild(this.element);this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement);this.style.top=this.position.y+\"px\";this.style.left=this.position.x+\"px\";this.style.height=this.size.y+\"px\";this.style.width=this.size.x+\"px\";e.setElementOpacity(this.element,this.opacity)}else e.console.warn(\"Attempting to draw tile %s when it's not yet loaded.\",this.toString());else e.console.warn(\"[Tile.drawHTML] attempting to draw tile %s when it's not cached\",this.toString())},drawCanvas:function(t,i,n,o){var r,s=this.position.times(e.pixelDensityRatio),a=this.size.times(e.pixelDensityRatio);if(this.context2D||this.cacheImageRecord){r=this.context2D||this.cacheImageRecord.getRenderedContext();if(this.loaded&&r){t.save();t.globalAlpha=this.opacity;if(\"number\"==typeof n&&1!==n){s=s.times(n);a=a.times(n)}o instanceof e.Point&&(s=s.plus(o));1===t.globalAlpha&&this._hasTransparencyChannel()&&t.clearRect(s.x,s.y,a.x,a.y);i({context:t,tile:this,rendered:r});var l,h;if(this.sourceBounds){l=Math.min(this.sourceBounds.width,r.canvas.width);h=Math.min(this.sourceBounds.height,r.canvas.height)}else{l=r.canvas.width;h=r.canvas.height}t.drawImage(r.canvas,0,0,l,h,s.x,s.y,a.x,a.y);t.restore()}else e.console.warn(\"Attempting to draw tile %s when it's not yet loaded.\",this.toString())}else e.console.warn(\"[Tile.drawCanvas] attempting to draw tile %s when it's not cached\",this.toString())},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D){e.console.warn(\"[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached\",this.toString());return 1}t=this.context2D}return t.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,i,n){var o=Math.max(1,Math.ceil((n.x-i.x)/2));var r=Math.max(1,Math.ceil((n.y-i.y)/2));return new e.Point(o,r).minus(this.position.times(e.pixelDensityRatio).times(t||1).apply(function(e){return e%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement);this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element);this.element=null;this.imgElement=null;this.loaded=!1;this.loading=!1}}}(OpenSeadragon);!function(e){e.OverlayPlacement=e.Placement;e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3});e.Overlay=function(t,i,n){var o;o=e.isPlainObject(t)?t:{element:t,location:i,placement:n};this.element=o.element;this.style=o.element.style;this._init(o)};e.Overlay.prototype={_init:function(t){this.location=t.location;this.placement=void 0===t.placement?e.Placement.TOP_LEFT:t.placement;this.onDraw=t.onDraw;this.checkResize=void 0===t.checkResize||t.checkResize;this.width=void 0===t.width?null:t.width;this.height=void 0===t.height?null:t.height;this.rotationMode=t.rotationMode||e.OverlayRotationMode.EXACT;if(this.location instanceof e.Rect){this.width=this.location.width;this.height=this.location.height;this.location=this.location.getTopLeft();this.placement=e.Placement.TOP_LEFT}this.scales=null!==this.width&&null!==this.height;this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height);this.position=this.location},adjust:function(t,i){var n=e.Placement.properties[this.placement];if(n){n.isHorizontallyCentered?t.x-=i.x/2:n.isRight&&(t.x-=i.x);n.isVerticallyCentered?t.y-=i.y/2:n.isBottom&&(t.y-=i.y)}},destroy:function(){var t=this.element;var i=this.style;if(t.parentNode){t.parentNode.removeChild(t);if(t.prevElementParent){i.display=\"none\";document.body.appendChild(t)}}this.onDraw=null;i.top=\"\";i.left=\"\";i.position=\"\";null!==this.width&&(i.width=\"\");null!==this.height&&(i.height=\"\");var n=e.getCssPropertyWithVendorPrefix(\"transformOrigin\");var o=e.getCssPropertyWithVendorPrefix(\"transform\");if(n&&o){i[n]=\"\";i[o]=\"\"}},drawHTML:function(t,i){var n=this.element;if(n.parentNode!==t){n.prevElementParent=n.parentNode;n.prevNextSibling=n.nextSibling;t.appendChild(n);this.style.position=\"absolute\";this.size=e.getElementSize(n)}var o=this._getOverlayPositionAndSize(i);var r=o.position;var s=this.size=o.size;var a=o.rotate;if(this.onDraw)this.onDraw(r,s,this.element);else{var l=this.style;l.left=r.x+\"px\";l.top=r.y+\"px\";null!==this.width&&(l.width=s.x+\"px\");null!==this.height&&(l.height=s.y+\"px\");var h=e.getCssPropertyWithVendorPrefix(\"transformOrigin\");var c=e.getCssPropertyWithVendorPrefix(\"transform\");if(h&&c)if(a){l[h]=this._getTransformOrigin();l[c]=\"rotate(\"+a+\"deg)\"}else{l[h]=\"\";l[c]=\"\"}\"none\"!==l.display&&(l.display=\"block\")}},_getOverlayPositionAndSize:function(t){var i=t.pixelFromPoint(this.location,!0);var n=this._getSizeInPixels(t);this.adjust(i,n);var o=0;if(t.degrees&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var r=new e.Rect(i.x,i.y,n.x,n.y);var s=this._getBoundingBox(r,t.degrees);i=s.getTopLeft();n=s.getSize()}else o=t.degrees;return{position:i,size:n,rotate:o}},_getSizeInPixels:function(t){var i=this.size.x;var n=this.size.y;if(null!==this.width||null!==this.height){var o=t.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);null!==this.width&&(i=o.x);null!==this.height&&(n=o.y)}if(this.checkResize&&(null===this.width||null===this.height)){var r=this.size=e.getElementSize(this.element);null===this.width&&(i=r.x);null===this.height&&(n=r.y)}return new e.Point(i,n)},_getBoundingBox:function(e,t){var i=this._getPlacementPoint(e);return e.rotate(t,i).getBoundingBox()},_getPlacementPoint:function(t){var i=new e.Point(t.x,t.y);var n=e.Placement.properties[this.placement];if(n){n.isHorizontallyCentered?i.x+=t.width/2:n.isRight&&(i.x+=t.width);n.isVerticallyCentered?i.y+=t.height/2:n.isBottom&&(i.y+=t.height)}return i},_getTransformOrigin:function(){var t=\"\";var i=e.Placement.properties[this.placement];if(!i)return t;i.isLeft?t=\"left\":i.isRight&&(t=\"right\");i.isTop?t+=\" top\":i.isBottom&&(t+=\" bottom\");return t},update:function(t,i){var n=e.isPlainObject(t)?t:{location:t,placement:i};this._init({location:n.location||this.location,placement:void 0!==n.placement?n.placement:this.placement,onDraw:n.onDraw||this.onDraw,checkResize:n.checkResize||this.checkResize,width:void 0!==n.width?n.width:this.width,height:void 0!==n.height?n.height:this.height,rotationMode:n.rotationMode||this.rotationMode})},getBounds:function(t){e.console.assert(t,\"A viewport must now be passed to Overlay.getBounds.\");var i=this.width;var n=this.height;if(null===i||null===n){var o=t.deltaPointsFromPixelsNoRotate(this.size,!0);null===i&&(i=o.x);null===n&&(n=o.y)}var r=this.location.clone();this.adjust(r,new e.Point(i,n));return this._adjustBoundsForRotation(t,new e.Rect(r.x,r.y,i,n))},_adjustBoundsForRotation:function(t,i){if(!t||0===t.degrees||this.rotationMode===e.OverlayRotationMode.EXACT)return i;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return i;var n=this._getOverlayPositionAndSize(t);return t.viewerElementToViewportRectangle(new e.Rect(n.position.x,n.position.y,n.size.x,n.size.y))}return i.rotate(-t.degrees,this._getPlacementPoint(i))}}}(OpenSeadragon);!function(e){e.Drawer=function(t){e.console.assert(t.viewer,\"[Drawer] options.viewer is required\");var i=arguments;e.isPlainObject(t)||(t={source:i[0],viewport:i[1],element:i[2]});e.console.assert(t.viewport,\"[Drawer] options.viewport is required\");e.console.assert(t.element,\"[Drawer] options.element is required\");t.source&&e.console.error(\"[Drawer] options.source is no longer accepted; use TiledImage instead\");this.viewer=t.viewer;this.viewport=t.viewport;this.debugGridColor=\"string\"==typeof t.debugGridColor?[t.debugGridColor]:t.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor;t.opacity&&e.console.error(\"[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead\");this.useCanvas=e.supportsCanvas&&(!this.viewer||this.viewer.useCanvas);this.container=e.getElement(t.element);this.canvas=e.makeNeutralElement(this.useCanvas?\"canvas\":\"div\");this.context=this.useCanvas?this.canvas.getContext(\"2d\"):null;this.sketchCanvas=null;this.sketchContext=null;this.element=this.container;this.container.dir=\"ltr\";if(this.useCanvas){var n=this._calculateCanvasSize();this.canvas.width=n.x;this.canvas.height=n.y}this.canvas.style.width=\"100%\";this.canvas.style.height=\"100%\";this.canvas.style.position=\"absolute\";e.setElementOpacity(this.canvas,this.opacity,!0);this.container.style.textAlign=\"left\";this.container.appendChild(this.canvas)};e.Drawer.prototype={addOverlay:function(t,i,n,o){e.console.error(\"drawer.addOverlay is deprecated. Use viewer.addOverlay instead.\");this.viewer.addOverlay(t,i,n,o);return this},updateOverlay:function(t,i,n){e.console.error(\"drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead.\");this.viewer.updateOverlay(t,i,n);return this},removeOverlay:function(t){e.console.error(\"drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead.\");this.viewer.removeOverlay(t);return this},clearOverlays:function(){e.console.error(\"drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead.\");this.viewer.clearOverlays();return this},setOpacity:function(t){e.console.error(\"drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.\");var i=this.viewer.world;for(var n=0;n<i.getItemCount();n++)i.getItemAt(n).setOpacity(t);return this},getOpacity:function(){e.console.error(\"drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.\");var t=this.viewer.world;var i=0;for(var n=0;n<t.getItemCount();n++){var o=t.getItemAt(n).getOpacity();o>i&&(i=o)}return i},needsUpdate:function(){e.console.error(\"[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead.\");return this.viewer.world.needsDraw()},numTilesLoaded:function(){e.console.error(\"[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead.\");return this.viewer.tileCache.numTilesLoaded()},reset:function(){e.console.error(\"[Drawer.reset] this function is deprecated. Use World.resetItems instead.\");this.viewer.world.resetItems();return this},update:function(){e.console.error(\"[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead.\");this.clear();this.viewer.world.draw();return this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1;this.canvas.height=1;this.sketchCanvas=null;this.sketchContext=null},clear:function(){this.canvas.innerHTML=\"\";if(this.useCanvas){var e=this._calculateCanvasSize();if(this.canvas.width!=e.x||this.canvas.height!=e.y){this.canvas.width=e.x;this.canvas.height=e.y;if(null!==this.sketchCanvas){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x;this.sketchCanvas.height=t.y}}this._clear()}},_clear:function(e,t){if(this.useCanvas){var i=this._getContext(e);if(t)i.clearRect(t.x,t.y,t.width,t.height);else{var n=i.canvas;i.clearRect(0,0,n.width,n.height)}}},viewportToDrawerRectangle:function(t){var i=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0);var n=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new e.Rect(i.x*e.pixelDensityRatio,i.y*e.pixelDensityRatio,n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio)},drawTile:function(t,i,n,o,r){e.console.assert(t,\"[Drawer.drawTile] tile is required\");e.console.assert(i,\"[Drawer.drawTile] drawingHandler is required\");if(this.useCanvas){var s=this._getContext(n);o=o||1;t.drawCanvas(s,i,o,r)}else t.drawHTML(this.canvas)},_getContext:function(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement(\"canvas\");var i=this._calculateSketchCanvasSize();this.sketchCanvas.width=i.x;this.sketchCanvas.height=i.y;this.sketchContext=this.sketchCanvas.getContext(\"2d\");if(0===this.viewport.getRotation()){var n=this;this.viewer.addHandler(\"rotate\",function e(){if(0!==n.viewport.getRotation()){n.viewer.removeHandler(\"rotate\",e);var t=n._calculateSketchCanvasSize();n.sketchCanvas.width=t.x;n.sketchCanvas.height=t.y}})}}t=this.sketchContext}return t},saveContext:function(e){this.useCanvas&&this._getContext(e).save()},restoreContext:function(e){this.useCanvas&&this._getContext(e).restore()},setClip:function(e,t){if(this.useCanvas){var i=this._getContext(t);i.beginPath();i.rect(e.x,e.y,e.width,e.height);i.clip()}},drawRectangle:function(e,t,i){if(this.useCanvas){var n=this._getContext(i);n.save();n.fillStyle=t;n.fillRect(e.x,e.y,e.width,e.height);n.restore()}},blendSketch:function(t,i,n,o){var r=t;e.isPlainObject(r)||(r={opacity:t,scale:i,translate:n,compositeOperation:o});if(this.useCanvas&&this.sketchCanvas){t=r.opacity;o=r.compositeOperation;var s=r.bounds;this.context.save();this.context.globalAlpha=t;o&&(this.context.globalCompositeOperation=o);if(s){if(s.x<0){s.width+=s.x;s.x=0}s.x+s.width>this.canvas.width&&(s.width=this.canvas.width-s.x);if(s.y<0){s.height+=s.y;s.y=0}s.y+s.height>this.canvas.height&&(s.height=this.canvas.height-s.y);this.context.drawImage(this.sketchCanvas,s.x,s.y,s.width,s.height,s.x,s.y,s.width,s.height)}else{i=r.scale||1;var a=(n=r.translate)instanceof e.Point?n:new e.Point(0,0);var l=0;var h=0;if(n){var c=this.sketchCanvas.width-this.canvas.width;var u=this.sketchCanvas.height-this.canvas.height;l=Math.round(c/2);h=Math.round(u/2)}this.context.drawImage(this.sketchCanvas,a.x-l*i,a.y-h*i,(this.canvas.width+2*l)*i,(this.canvas.height+2*h)*i,-l,-h,this.canvas.width+2*l,this.canvas.height+2*h)}this.context.restore()}},drawDebugInfo:function(t,i,n,o){if(this.useCanvas){var r=this.viewer.world.getIndexOfItem(o)%this.debugGridColor.length;var s=this.context;s.save();s.lineWidth=2*e.pixelDensityRatio;s.font=\"small-caps bold \"+13*e.pixelDensityRatio+\"px arial\";s.strokeStyle=this.debugGridColor[r];s.fillStyle=this.debugGridColor[r];0!==this.viewport.degrees?this._offsetForRotation({degrees:this.viewport.degrees}):this.viewer.viewport.flipped&&this._flip();o.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:o.getRotation(!0),point:o.viewport.pixelFromPointNoRotate(o._getRotationPoint(!0),!0)});s.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var a=(t.position.x+t.size.x/2)*e.pixelDensityRatio;var l=(t.position.y+t.size.y/2)*e.pixelDensityRatio;s.translate(a,l);s.rotate(Math.PI/180*-this.viewport.degrees);s.translate(-a,-l);if(0===t.x&&0===t.y){s.fillText(\"Zoom: \"+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio);s.fillText(\"Pan: \"+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)}s.fillText(\"Level: \"+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio);s.fillText(\"Column: \"+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio);s.fillText(\"Row: \"+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio);s.fillText(\"Order: \"+n+\" of \"+i,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio);s.fillText(\"Size: \"+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio);s.fillText(\"Position: \"+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio);0!==this.viewport.degrees&&this._restoreRotationChanges();o.getRotation(!0)%360!=0&&this._restoreRotationChanges();s.restore()}},debugRect:function(t){if(this.useCanvas){var i=this.context;i.save();i.lineWidth=2*e.pixelDensityRatio;i.strokeStyle=this.debugGridColor[0];i.fillStyle=this.debugGridColor[0];i.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio);i.restore()}},getCanvasSize:function(t){var i=this._getContext(t).canvas;return new e.Point(i.width,i.height)},getCanvasCenter:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(t){var i=t.point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter();var n=this._getContext(t.useSketch);n.save();n.translate(i.x,i.y);if(this.viewer.viewport.flipped){n.rotate(Math.PI/180*-t.degrees);n.scale(-1,1)}else n.rotate(Math.PI/180*t.degrees);n.translate(-i.x,-i.y)},_flip:function(t){var i=(t=t||{}).point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter();var n=this._getContext(t.useSketch);n.translate(i.x,0);n.scale(-1,1);n.translate(-i.x,0)},_restoreRotationChanges:function(e){this._getContext(e).restore()},_calculateCanvasSize:function(){var t=e.pixelDensityRatio;var i=this.viewport.getContainerSize();return{x:i.x*t,y:i.y*t}},_calculateSketchCanvasSize:function(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}}(OpenSeadragon);!function(e){e.Viewport=function(t){var i=arguments;i.length&&i[0]instanceof e.Point&&(t={containerSize:i[0],contentSize:i[1],config:i[2]});if(t.config){e.extend(!0,t,t.config);delete t.config}this._margins=e.extend({left:0,top:0,right:0,bottom:0},t.margins||{});delete t.margins;e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,degrees:e.DEFAULT_SETTINGS.degrees,flipped:e.DEFAULT_SETTINGS.flipped,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer},t);this._updateContainerInnerSize();this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime});this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime});this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime});this._oldCenterX=this.centerSpringX.current.value;this._oldCenterY=this.centerSpringY.current.value;this._oldZoom=this.zoomSpring.current.value;this._setContentBounds(new e.Rect(0,0,1,1),1);this.goHome(!0);this.update()};e.Viewport.prototype={resetContentSize:function(t){e.console.assert(t,\"[Viewport.resetContentSize] contentSize is required\");e.console.assert(t instanceof e.Point,\"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point\");e.console.assert(t.x>0,\"[Viewport.resetContentSize] contentSize.x must be greater than 0\");e.console.assert(t.y>0,\"[Viewport.resetContentSize] contentSize.y must be greater than 0\");this._setContentBounds(new e.Rect(0,0,1,t.y/t.x),t.x);return this},setHomeBounds:function(t,i){e.console.error(\"[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually.\");this._setContentBounds(t,i)},_setContentBounds:function(t,i){e.console.assert(t,\"[Viewport._setContentBounds] bounds is required\");e.console.assert(t instanceof e.Rect,\"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect\");e.console.assert(t.width>0,\"[Viewport._setContentBounds] bounds.width must be greater than 0\");e.console.assert(t.height>0,\"[Viewport._setContentBounds] bounds.height must be greater than 0\");this._contentBoundsNoRotate=t.clone();this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(i);this._contentBounds=t.rotate(this.degrees).getBoundingBox();this._contentSize=this._contentBounds.getSize().times(i);this._contentAspectRatio=this._contentSize.x/this._contentSize.y;this.viewer&&this.viewer.raiseEvent(\"reset-size\",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:i,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?e>=1?e:1:e>=1?1:e)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter();var i=1/this.getHomeZoom();var n=i/this.getAspectRatio();return new e.Rect(t.x-i/2,t.y-n/2,i,n)},goHome:function(e){this.viewer&&this.viewer.raiseEvent(\"home\",{immediately:e});return this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e},getMaxZoom:function(){var e=this.maxZoomLevel;if(!e){e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x;e/=this._contentBounds.width}return Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(t){e.console.assert(\"object\"===e.type(t),\"[Viewport.setMargins] margins must be an object\");this._margins=e.extend({left:0,top:0,right:0,bottom:0},t);this._updateContainerInnerSize();this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation())},getBoundsNoRotate:function(t){var i=this.getCenter(t);var n=1/this.getZoom(t);var o=n/this.getAspectRatio();return new e.Rect(i.x-n/2,i.y-o/2,n,o)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e);var i=this._containerInnerSize.x*this.getZoom(e);t.x-=this._margins.left/i;t.y-=this._margins.top/i;t.width+=(this._margins.left+this._margins.right)/i;t.height+=(this._margins.top+this._margins.bottom)/i;return t},getCenter:function(t){var i,n,o,r,s,a,l=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),h=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);if(t)return l;if(!this.zoomPoint)return h;i=this.pixelFromPoint(this.zoomPoint,!0);r=(o=1/(n=this.getZoom()))/this.getAspectRatio();s=new e.Rect(l.x-o/2,l.y-r/2,o,r);a=this._pixelFromPoint(this.zoomPoint,s).minus(i).divide(this._containerInnerSize.x*n);return h.plus(a)},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(t){var i=new e.Rect(t.x,t.y,t.width,t.height);if(this.wrapHorizontal);else{var n=this.visibilityRatio*i.width;var o=i.x+i.width;var r=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width;var s=this._contentBoundsNoRotate.x-o+n;var a=r-i.x-n;n>this._contentBoundsNoRotate.width?i.x+=(s+a)/2:a<0?i.x+=a:s>0&&(i.x+=s)}if(this.wrapVertical);else{var l=this.visibilityRatio*i.height;var h=i.y+i.height;var c=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height;var u=this._contentBoundsNoRotate.y-h+l;var d=c-i.y-l;l>this._contentBoundsNoRotate.height?i.y+=(u+d)/2:d<0?i.y+=d:u>0&&(i.y+=u)}return i},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent(\"constrain\",{immediately:e})},applyConstraints:function(e){var t=this.getZoom();var i=this._applyZoomConstraints(t);t!==i&&this.zoomTo(i,this.zoomPoint,e);var n=this.getBoundsNoRotate();var o=this._applyBoundaryConstraints(n);this._raiseConstraintsEvent(e);(n.x!==o.x||n.y!==o.y||e)&&this.fitBounds(o.rotate(-this.getRotation()),e);return this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(t,i){var n=(i=i||{}).immediately||!1;var o=i.constraints||!1;var r=this.getAspectRatio();var s=t.getCenter();var a=new e.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();a.getAspectRatio()>=r?a.height=a.width/r:a.width=a.height*r;a.x=s.x-a.width/2;a.y=s.y-a.height/2;var l=1/a.width;if(o){var h=a.getAspectRatio();var c=this._applyZoomConstraints(l);if(l!==c){l=c;a.width=1/l;a.x=s.x-a.width/2;a.height=a.width/h;a.y=s.y-a.height/2}s=(a=this._applyBoundaryConstraints(a)).getCenter();this._raiseConstraintsEvent(n)}if(n){this.panTo(s,!0);return this.zoomTo(l,null,!0)}this.panTo(this.getCenter(!0),!0);this.zoomTo(this.getZoom(!0),null,!0);var u=this.getBounds();var d=this.getZoom();if(0===d||Math.abs(l/d-1)<1e-8){this.zoomTo(l,!0);return this.panTo(s,n)}var p=(a=a.rotate(-this.getRotation())).getTopLeft().times(l).minus(u.getTopLeft().times(d)).divide(l-d);return this.zoomTo(l,p,n)},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(t){var i=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(i,t)},fitHorizontally:function(t){var i=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(i,t)},getConstrainedBounds:function(e){var t;t=this.getBounds(e);return this._applyBoundaryConstraints(t)},panBy:function(t,i){var n=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(n.plus(t),i)},panTo:function(e,t){if(t){this.centerSpringX.resetTo(e.x);this.centerSpringY.resetTo(e.y)}else{this.centerSpringX.springTo(e.x);this.centerSpringY.springTo(e.y)}this.viewer&&this.viewer.raiseEvent(\"pan\",{center:e,immediately:t});return this},zoomBy:function(e,t,i){return this.zoomTo(this.zoomSpring.target.value*e,t,i)},zoomTo:function(t,i,n){var o=this;this.zoomPoint=i instanceof e.Point&&!isNaN(i.x)&&!isNaN(i.y)?i:null;n?this._adjustCenterSpringsForZoomPoint(function(){o.zoomSpring.resetTo(t)}):this.zoomSpring.springTo(t);this.viewer&&this.viewer.raiseEvent(\"zoom\",{zoom:t,refPoint:i,immediately:n});return this},setRotation:function(t){if(!this.viewer||!this.viewer.drawer.canRotate())return this;this.degrees=e.positiveModulo(t,360);this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor());this.viewer.forceRedraw();this.viewer.raiseEvent(\"rotate\",{degrees:t});return this},getRotation:function(){return this.degrees},resize:function(e,t){var i,n=this.getBoundsNoRotate(),o=n;this.containerSize.x=e.x;this.containerSize.y=e.y;this._updateContainerInnerSize();if(t){i=e.x/this.containerSize.x;o.width=n.width*i;o.height=o.width/this.getAspectRatio()}this.viewer&&this.viewer.raiseEvent(\"resize\",{newContainerSize:e,maintain:t});return this.fitBounds(o,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint(function(){e.zoomSpring.update()});this.centerSpringX.update();this.centerSpringY.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;this._oldCenterX=this.centerSpringX.current.value;this._oldCenterY=this.centerSpringY.current.value;this._oldZoom=this.zoomSpring.current.value;return t},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var i=this.pixelFromPoint(this.zoomPoint,!0).minus(t);var n=this.deltaPointsFromPixels(i,!0);this.centerSpringX.shiftBy(n.x);this.centerSpringY.shiftBy(n.y);this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation()),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation())},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(t,i){return t.minus(i.getTopLeft()).times(this._containerInnerSize.x/i.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(t,i){var n=this.getBoundsNoRotate(i);return t.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/n.width).plus(n.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(t,i){var n=this._contentBoundsNoRotate.width;return new e.Point(t*this._contentSizeNoRotate.x/n,i*this._contentSizeNoRotate.x/n)},viewportToImageCoordinates:function(t,i){if(t instanceof e.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error(\"[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.\");else if(1===n){return this.viewer.world.getItemAt(0).viewportToImageCoordinates(t,i,!0)}}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,i-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,i){var n=this._contentBoundsNoRotate.width;return new e.Point(t/this._contentSizeNoRotate.x*n,i/this._contentSizeNoRotate.x*n)},imageToViewportCoordinates:function(t,i){if(t instanceof e.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error(\"[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.\");else if(1===n){return this.viewer.world.getItemAt(0).imageToViewportCoordinates(t,i,!0)}}var o=this._imageToViewportDelta(t,i);o.x+=this._contentBoundsNoRotate.x;o.y+=this._contentBoundsNoRotate.y;return o},imageToViewportRectangle:function(t,i,n,o){var r=t;r instanceof e.Rect||(r=new e.Rect(t,i,n,o));if(this.viewer){var s=this.viewer.world.getItemCount();if(s>1)e.console.error(\"[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.\");else if(1===s){return this.viewer.world.getItemAt(0).imageToViewportRectangle(t,i,n,o,!0)}}var a=this.imageToViewportCoordinates(r.x,r.y);var l=this._imageToViewportDelta(r.width,r.height);return new e.Rect(a.x,a.y,l.x,l.y,r.degrees)},viewportToImageRectangle:function(t,i,n,o){var r=t;r instanceof e.Rect||(r=new e.Rect(t,i,n,o));if(this.viewer){var s=this.viewer.world.getItemCount();if(s>1)e.console.error(\"[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.\");else if(1===s){return this.viewer.world.getItemAt(0).viewportToImageRectangle(t,i,n,o,!0)}}var a=this.viewportToImageCoordinates(r.x,r.y);var l=this._viewportToImageDelta(r.width,r.height);return new e.Rect(a.x,a.y,l.x,l.y,r.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(t){e.console.assert(this.viewer,\"[Viewport.windowToImageCoordinates] the viewport must have a viewer.\");var i=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(i)},imageToWindowCoordinates:function(t){e.console.assert(this.viewer,\"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.\");return this.imageToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(t){return e.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return e.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){e.console.assert(this.viewer,\"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.\");var i=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(i)},viewportToWindowCoordinates:function(t){e.console.assert(this.viewer,\"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.\");return this.viewportToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)e.console.error(\"[Viewport.viewportToImageZoom] is not accurate with multi-image.\");else if(1===i){return this.viewer.world.getItemAt(0).viewportToImageZoom(t)}}var n=this._contentSizeNoRotate.x;return t*(this._containerInnerSize.x/n*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(t){if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)e.console.error(\"[Viewport.imageToViewportZoom] is not accurate with multi-image.\");else if(1===i){return this.viewer.world.getItemAt(0).imageToViewportZoom(t)}}return t*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)},toggleFlip:function(){this.setFlip(!this.getFlip());return this},getFlip:function(){return this.flipped},setFlip:function(e){if(this.flipped===e)return this;this.flipped=e;this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip());this.viewer.forceRedraw();this.viewer.raiseEvent(\"flip\",{flipped:e});return this}}}(OpenSeadragon);!function(e){e.TiledImage=function(t){var i=this;e.console.assert(t.tileCache,\"[TiledImage] options.tileCache is required\");e.console.assert(t.drawer,\"[TiledImage] options.drawer is required\");e.console.assert(t.viewer,\"[TiledImage] options.viewer is required\");e.console.assert(t.imageLoader,\"[TiledImage] options.imageLoader is required\");e.console.assert(t.source,\"[TiledImage] options.source is required\");e.console.assert(!t.clip||t.clip instanceof e.Rect,\"[TiledImage] options.clip must be an OpenSeadragon.Rect if present\");e.EventSource.call(this);this._tileCache=t.tileCache;delete t.tileCache;this._drawer=t.drawer;delete t.drawer;this._imageLoader=t.imageLoader;delete t.imageLoader;t.clip instanceof e.Rect&&(this._clip=t.clip.clone());delete t.clip;var n=t.x||0;delete t.x;var o=t.y||0;delete t.y;this.normHeight=t.source.dimensions.y/t.source.dimensions.x;this.contentAspectX=t.source.dimensions.x/t.source.dimensions.y;var r=1;if(t.width){r=t.width;delete t.width;if(t.height){e.console.error(\"specifying both width and height to a tiledImage is not supported\");delete t.height}}else if(t.height){r=t.height/this.normHeight;delete t.height}var s=t.fitBounds;delete t.fitBounds;var a=t.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete t.fitBoundsPlacement;var l=t.degrees||0;delete t.degrees;e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation},t);this._preload=this.preload;delete this.preload;this._fullyLoaded=!1;this._xSpring=new e.Spring({initial:n,springStiffness:this.springStiffness,animationTime:this.animationTime});this._ySpring=new e.Spring({initial:o,springStiffness:this.springStiffness,animationTime:this.animationTime});this._scaleSpring=new e.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime});this._degreesSpring=new e.Spring({initial:l,springStiffness:this.springStiffness,animationTime:this.animationTime});this._updateForScale();s&&this.fitBounds(s,a,!0);this._drawingHandler=function(t){i.viewer.raiseEvent(\"tile-drawing\",e.extend({tiledImage:i},t))}};e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){if(e!==this._fullyLoaded){this._fullyLoaded=e;this.raiseEvent(\"fully-loaded-change\",{fullyLoaded:this._fullyLoaded})}},reset:function(){this._tileCache.clearTilesFor(this);this.lastResetTime=e.now();this._needsDraw=!0},update:function(){var e=this._xSpring.update();var t=this._ySpring.update();var i=this._scaleSpring.update();var n=this._degreesSpring.update();if(e||t||i||n){this._updateForScale();this._needsDraw=!0;return!0}return!1},draw:function(){if(0!==this.opacity||this._preload){this._midDraw=!0;this._updateViewport();this._midDraw=!1}else this._needsDraw=!1},destroy:function(){this.reset()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(t){return t?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){e.console.error(\"[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead\");return this.getBounds()},getClippedBounds:function(t){var i=this.getBoundsNoRotate(t);if(this._clip){var n=(t?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x;var o=this._clip.times(n);i=new e.Rect(i.x+o.x,i.y+o.y,o.width,o.height)}return i.rotate(this.getRotation(t),this._getRotationPoint(t))},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(t,i,n){var o=n?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t*(this.source.dimensions.x/o),i*(this.source.dimensions.y*this.contentAspectX/o))},viewportToImageCoordinates:function(t,i,n){var o;if(t instanceof e.Point){n=i;o=t}else o=new e.Point(t,i);o=o.rotate(-this.getRotation(n),this._getRotationPoint(n));return n?this._viewportToImageDelta(o.x-this._xSpring.current.value,o.y-this._ySpring.current.value):this._viewportToImageDelta(o.x-this._xSpring.target.value,o.y-this._ySpring.target.value)},_imageToViewportDelta:function(t,i,n){var o=n?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t/this.source.dimensions.x*o,i/this.source.dimensions.y/this.contentAspectX*o)},imageToViewportCoordinates:function(t,i,n){if(t instanceof e.Point){n=i;i=t.y;t=t.x}var o=this._imageToViewportDelta(t,i);if(n){o.x+=this._xSpring.current.value;o.y+=this._ySpring.current.value}else{o.x+=this._xSpring.target.value;o.y+=this._ySpring.target.value}return o.rotate(this.getRotation(n),this._getRotationPoint(n))},imageToViewportRectangle:function(t,i,n,o,r){var s=t;s instanceof e.Rect?r=i:s=new e.Rect(t,i,n,o);var a=this.imageToViewportCoordinates(s.getTopLeft(),r);var l=this._imageToViewportDelta(s.width,s.height,r);return new e.Rect(a.x,a.y,l.x,l.y,s.degrees+this.getRotation(r))},viewportToImageRectangle:function(t,i,n,o,r){var s=t;t instanceof e.Rect?r=i:s=new e.Rect(t,i,n,o);var a=this.viewportToImageCoordinates(s.getTopLeft(),r);var l=this._viewportToImageDelta(s.width,s.height,r);return new e.Rect(a.x,a.y,l.x,l.y,s.degrees-this.getRotation(r))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var t=e.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){return this.imageToViewerElementCoordinates(e).plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(t){var i=this._scaleSpring.current.value;t=t.rotate(-this.getRotation(!0),this._getRotationPoint(!0));return new e.Rect((t.x-this._xSpring.current.value)/i,(t.y-this._ySpring.current.value)/i,t.width/i,t.height/i,t.degrees)},viewportToImageZoom:function(e){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*e},imageToViewportZoom:function(e){return e/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(e,t){var i=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(i&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x);this._ySpring.resetTo(e.y);this._needsDraw=!0}else{if(i)return;this._xSpring.springTo(e.x);this._ySpring.springTo(e.y);this._needsDraw=!0}i||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},fitBounds:function(t,i,n){i=i||e.Placement.CENTER;var o=e.Placement.properties[i];var r=this.contentAspectX;var s=0;var a=0;var l=1;var h=1;if(this._clip){r=this._clip.getAspectRatio();l=this._clip.width/this.source.dimensions.x;h=this._clip.height/this.source.dimensions.y;if(t.getAspectRatio()>r){s=this._clip.x/this._clip.height*t.height;a=this._clip.y/this._clip.height*t.height}else{s=this._clip.x/this._clip.width*t.width;a=this._clip.y/this._clip.width*t.width}}if(t.getAspectRatio()>r){var c=t.height/h;var u=0;o.isHorizontallyCentered?u=(t.width-t.height*r)/2:o.isRight&&(u=t.width-t.height*r);this.setPosition(new e.Point(t.x-s+u,t.y-a),n);this.setHeight(c,n)}else{var d=t.width/l;var p=0;o.isVerticallyCentered?p=(t.height-t.width/r)/2:o.isBottom&&(p=t.height-t.width/r);this.setPosition(new e.Point(t.x-s,t.y-a+p),n);this.setWidth(d,n)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(t){e.console.assert(!t||t instanceof e.Rect,\"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null\");t instanceof e.Rect?this._clip=t.clone():this._clip=null;this._needsDraw=!0;this.raiseEvent(\"clip-change\")},getOpacity:function(){return this.opacity},setOpacity:function(e){if(e!==this.opacity){this.opacity=e;this._needsDraw=!0;this.raiseEvent(\"opacity-change\",{opacity:this.opacity})}},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e;this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){if(this._degreesSpring.target.value!==e||!this._degreesSpring.isAtTargetValue()){t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e);this._needsDraw=!0;this._raiseBoundsChange()}},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(e){if(e!==this.compositeOperation){this.compositeOperation=e;this._needsDraw=!0;this.raiseEvent(\"composite-operation-change\",{compositeOperation:this.compositeOperation})}},_setScale:function(e,t){var i=this._scaleSpring.target.value===e;if(t){if(i&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e);this._updateForScale();this._needsDraw=!0}else{if(i)return;this._scaleSpring.springTo(e);this._updateForScale();this._needsDraw=!0}i||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value;this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value;this._worldWidthCurrent=this._scaleSpring.current.value;this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent(\"bounds-change\")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2)));var t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value;var i=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));i=Math.max(i,this.source.minLevel||0);return{lowestLevel:e=Math.min(e,i),highestLevel:i}},_updateViewport:function(){this._needsDraw=!1;this._tilesLoading=0;this.loadingCoverage={};for(;this.lastDrawn.length>0;){this.lastDrawn.pop().beingDrawn=!1}var i=this.viewport;var r=this._viewportToTiledImageRectangle(i.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var s=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(r=r.intersection(s)))return}var a=this._getLevelsInterval();var l=a.lowestLevel;var h=a.highestLevel;var c=null;var u=!1;var d=e.now();for(var p=h;p>=l;p--){var g=!1;var m=i.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(p),!0).x*this._scaleSpring.current.value;if(p===l||!u&&m>=this.minPixelRatio){g=!0;u=!0}else if(!u)continue;var v=i.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(p),!1).x*this._scaleSpring.current.value;var f=i.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value;var w=this.immediateRender?1:f;c=t(this,u,g,p,Math.min(1,(m-.5)/.5),w/Math.abs(w-v),r,d,c);if(o(this.coverage,p))break}!function(t,i){if(0===t.opacity||0===i.length&&!t.placeholderFillStyle)return;var n=i[0];var o;n&&(o=t.opacity<1||t.compositeOperation&&\"source-over\"!==t.compositeOperation||!t._isBottomItem()&&n._hasTransparencyChannel());var r;var s;var a=t.viewport.getZoom(!0);var l=t.viewportToImageZoom(a);if(i.length>1&&l>t.smoothTileEdgesMinZoom&&!t.iOSDevice&&t.getRotation(!0)%360==0&&e.supportsCanvas){o=!0;r=n.getScaleForEdgeSmoothing();s=n.getTranslationForEdgeSmoothing(r,t._drawer.getCanvasSize(!1),t._drawer.getCanvasSize(!0))}var h;if(o){r||(h=t.viewport.viewportToViewerElementRectangle(t.getClippedBounds(!0)).getIntegerBoundingBox().times(e.pixelDensityRatio));t._drawer._clear(!0,h)}if(!r){0!==t.viewport.degrees?t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:o}):t._drawer.viewer.viewport.flipped&&t._drawer._flip({});t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:o})}var c=!1;if(t._clip){t._drawer.saveContext(o);var u=t.imageToViewportRectangle(t._clip,!0);u=u.rotate(-t.getRotation(!0),t._getRotationPoint(!0));var d=t._drawer.viewportToDrawerRectangle(u);r&&(d=d.times(r));s&&(d=d.translate(s));t._drawer.setClip(d,o);c=!0}if(t.placeholderFillStyle&&!1===t._hasOpaqueTile){var p=t._drawer.viewportToDrawerRectangle(t.getBounds(!0));r&&(p=p.times(r));s&&(p=p.translate(s));var g=null;g=\"function\"==typeof t.placeholderFillStyle?t.placeholderFillStyle(t,t._drawer.context):t.placeholderFillStyle;t._drawer.drawRectangle(p,g,o)}for(var m=i.length-1;m>=0;m--){n=i[m];t._drawer.drawTile(n,t._drawingHandler,o,r,s);n.beingDrawn=!0;t.viewer&&t.viewer.raiseEvent(\"tile-drawn\",{tiledImage:t,tile:n})}c&&t._drawer.restoreContext(o);if(!r){t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(o);0!==t.viewport.degrees?t._drawer._restoreRotationChanges(o):t._drawer.viewer.viewport.flipped&&t._drawer._flip({})}if(o){if(r){0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:!1});t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:!1})}t._drawer.blendSketch({opacity:t.opacity,scale:r,translate:s,compositeOperation:t.compositeOperation,bounds:h});if(r){t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(!1);0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(!1)}}!function(t,i){if(t.debugMode)for(var n=i.length-1;n>=0;n--){var o=i[n];try{t._drawer.drawDebugInfo(o,i.length,n,t)}catch(t){e.console.error(t)}}}(t,i)}(this,this.lastDrawn);if(c&&!c.context2D){!function(t,i,o){i.loading=!0;t._imageLoader.addJob({src:i.url,loadWithAjax:i.loadWithAjax,ajaxHeaders:i.ajaxHeaders,crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,callback:function(r,s,a){!function(t,i,o,r,s,a){if(!r){e.console.log(\"Tile %s failed to load: %s - error: %s\",i,i.url,s);t.viewer.raiseEvent(\"tile-load-failed\",{tile:i,tiledImage:t,time:o,message:s,tileRequest:a});i.loading=!1;i.exists=!1;return}if(o<t.lastResetTime){e.console.log(\"Ignoring tile %s loaded before reset: %s\",i,i.url);i.loading=!1;return}var l=function(){var e=t.source.getClosestLevel();n(t,i,r,e,a)};t._midDraw?window.setTimeout(l,1):l()}(t,i,o,r,s,a)},abort:function(){i.loading=!1}})}(this,c,d);this._needsDraw=!0;this._setFullyLoaded(!1)}else this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(t,i,n){var o;var r;if(this.wrapHorizontal){o=e.positiveModulo(i.x,1);r=e.positiveModulo(n.x,1)}else{o=Math.max(0,i.x);r=Math.min(1,n.x)}var s;var a;var l=1/this.source.aspectRatio;if(this.wrapVertical){s=e.positiveModulo(i.y,l);a=e.positiveModulo(n.y,l)}else{s=Math.max(0,i.y);a=Math.min(l,n.y)}var h=this.source.getTileAtPoint(t,new e.Point(o,s));var c=this.source.getTileAtPoint(t,new e.Point(r,a));var u=this.source.getNumTiles(t);if(this.wrapHorizontal){h.x+=u.x*Math.floor(i.x);c.x+=u.x*Math.floor(n.x)}if(this.wrapVertical){h.y+=u.y*Math.floor(i.y/l);c.y+=u.y*Math.floor(n.y/l)}return{topLeft:h,bottomRight:c}}});function t(e,t,n,o,r,s,l,h,c){var u=l.getBoundingBox().getTopLeft();var d=l.getBoundingBox().getBottomRight();e.viewer&&e.viewer.raiseEvent(\"update-level\",{tiledImage:e,havedrawn:t,level:o,opacity:r,visibility:s,drawArea:l,topleft:u,bottomright:d,currenttime:h,best:c});a(e.coverage,o);a(e.loadingCoverage,o);var p=e._getCornerTiles(o,u,d);var g=p.topLeft;var m=p.bottomRight;var v=e.source.getNumTiles(o);var f=e.viewport.pixelFromPoint(e.viewport.getCenter());for(var w=g.x;w<=m.x;w++)for(var y=g.y;y<=m.y;y++){if(!e.wrapHorizontal&&!e.wrapVertical){var T=e.source.getTileBounds(o,w,y);if(null===l.intersection(T))continue}c=i(e,n,t,w,y,o,r,s,f,v,h,c)}return c}function i(t,i,o,a,l,h,c,u,d,p,g,m){var v=function(t,i,n,o,r,s,a,l,h,c){var u,d,p,g,m,v,f,w,y;s[n]||(s[n]={});s[n][t]||(s[n][t]={});if(!s[n][t][i]){u=(l.x+t%l.x)%l.x;d=(l.y+i%l.y)%l.y;p=r.getTileBounds(n,u,d);g=r.getTileBounds(n,u,d,!0);m=r.tileExists(n,u,d);v=r.getTileUrl(n,u,d);if(o.loadTilesWithAjax){f=r.getTileAjaxHeaders(n,u,d);e.isPlainObject(o.ajaxHeaders)&&(f=e.extend({},o.ajaxHeaders,f))}else f=null;w=r.getContext2D?r.getContext2D(n,u,d):void 0;p.x+=(t-u)/l.x;p.y+=c/h*((i-d)/l.y);y=new e.Tile(n,t,i,p,m,v,w,o.loadTilesWithAjax,f,g);u===l.x-1&&(y.isRightMost=!0);d===l.y-1&&(y.isBottomMost=!0);s[n][t][i]=y}(y=s[n][t][i]).lastTouchTime=a;return y}(a,l,h,t,t.source,t.tilesMatrix,g,p,t._worldWidthCurrent,t._worldHeightCurrent),f=o;t.viewer&&t.viewer.raiseEvent(\"update-tile\",{tiledImage:t,tile:v});s(t.coverage,h,a,l,!1);var w=v.loaded||v.loading||r(t.loadingCoverage,h,a,l);s(t.loadingCoverage,h,a,l,w);if(!v.exists)return m;i&&!f&&(r(t.coverage,h,a,l)?s(t.coverage,h,a,l,!0):f=!0);if(!f)return m;!function(t,i,n,o,r,s){var a=t.bounds.getTopLeft();a.x*=s._scaleSpring.current.value;a.y*=s._scaleSpring.current.value;a.x+=s._xSpring.current.value;a.y+=s._ySpring.current.value;var l=t.bounds.getSize();l.x*=s._scaleSpring.current.value;l.y*=s._scaleSpring.current.value;var h=n.pixelFromPointNoRotate(a,!0),c=n.pixelFromPointNoRotate(a,!1),u=n.deltaPixelsFromPointsNoRotate(l,!0),d=n.deltaPixelsFromPointsNoRotate(l,!1),p=c.plus(d.divide(2)),g=o.squaredDistanceTo(p);i||(u=u.plus(new e.Point(1,1)));t.isRightMost&&s.wrapHorizontal&&(u.x+=.75);t.isBottomMost&&s.wrapVertical&&(u.y+=.75);t.position=h;t.size=u;t.squaredDistance=g;t.visibility=r}(v,t.source.tileOverlap,t.viewport,d,u,t);if(!v.loaded)if(v.context2D)n(t,v);else{var y=t._tileCache.getImageRecord(v.cacheKey);if(y){n(t,v,y.getImage())}}if(v.loaded){(function(e,t,i,n,o,r,a){var l,h,c=1e3*e.blendTime;t.blendStart||(t.blendStart=a);l=a-t.blendStart;h=c?Math.min(1,l/c):1;e.alwaysBlend&&(h*=r);t.opacity=h;e.lastDrawn.push(t);if(1==h){s(e.coverage,o,i,n,!0);e._hasOpaqueTile=!0}else if(l<c)return!0;return!1})(t,v,a,l,h,c,g)&&(t._needsDraw=!0)}else v.loading?t._tilesLoading++:w||(m=function(e,t){if(!e)return t;{if(t.visibility>e.visibility)return t;if(t.visibility==e.visibility&&t.squaredDistance<e.squaredDistance)return t}return e}(m,v));return m}function n(e,t,i,n,o){var r=0;function s(){r++;return a}function a(){if(0===--r){t.loading=!1;t.loaded=!0;t.context2D||e._tileCache.cacheTile({image:i,tile:t,cutoff:n,tiledImage:e});e._needsDraw=!0}}e.viewer.raiseEvent(\"tile-loaded\",{tile:t,tiledImage:e,tileRequest:o,image:i,getCompletionCallback:s});s()()}function o(e,t,i,n){var o,r,s,a;if(!e[t])return!1;if(void 0===i||void 0===n){o=e[t];for(s in o)if(o.hasOwnProperty(s)){r=o[s];for(a in r)if(r.hasOwnProperty(a)&&!r[a])return!1}return!0}return void 0===e[t][i]||void 0===e[t][i][n]||!0===e[t][i][n]}function r(e,t,i,n){return void 0===i||void 0===n?o(e,t+1):o(e,t+1,2*i,2*n)&&o(e,t+1,2*i,2*n+1)&&o(e,t+1,2*i+1,2*n)&&o(e,t+1,2*i+1,2*n+1)}function s(t,i,n,o,r){if(t[i]){t[i][n]||(t[i][n]={});t[i][n][o]=r}else e.console.warn(\"Setting coverage for a tile before its level's coverage has been reset: %s\",i)}function a(e,t){e[t]={}}}(OpenSeadragon);!function(e){var t=function(t){e.console.assert(t,\"[ImageRecord] options is required\");e.console.assert(t.image,\"[ImageRecord] options.image is required\");this._image=t.image;this._tiles=[]};t.prototype={destroy:function(){this._image=null;this._renderedContext=null;this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var e=document.createElement(\"canvas\");e.width=this._image.width;e.height=this._image.height;this._renderedContext=e.getContext(\"2d\");this._renderedContext.drawImage(this._image,0,0);this._image=null}return this._renderedContext},setRenderedContext:function(t){e.console.error(\"ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext.\");this._renderedContext=t},addTile:function(t){e.console.assert(t,\"[ImageRecord.addTile] tile is required\");this._tiles.push(t)},removeTile:function(t){for(var i=0;i<this._tiles.length;i++)if(this._tiles[i]===t){this._tiles.splice(i,1);return}e.console.warn(\"[ImageRecord.removeTile] trying to remove unknown tile\",t)},getTileCount:function(){return this._tiles.length}};e.TileCache=function(t){t=t||{};this._maxImageCacheCount=t.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount;this._tilesLoaded=[];this._imagesLoaded=[];this._imagesLoadedCount=0};e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(i){e.console.assert(i,\"[TileCache.cacheTile] options is required\");e.console.assert(i.tile,\"[TileCache.cacheTile] options.tile is required\");e.console.assert(i.tile.cacheKey,\"[TileCache.cacheTile] options.tile.cacheKey is required\");e.console.assert(i.tiledImage,\"[TileCache.cacheTile] options.tiledImage is required\");var n=i.cutoff||0;var o=this._tilesLoaded.length;var r=this._imagesLoaded[i.tile.cacheKey];if(!r){e.console.assert(i.image,\"[TileCache.cacheTile] options.image is required to create an ImageRecord\");r=this._imagesLoaded[i.tile.cacheKey]=new t({image:i.image});this._imagesLoadedCount++}r.addTile(i.tile);i.tile.cacheImageRecord=r;if(this._imagesLoadedCount>this._maxImageCacheCount){var s=null;var a=-1;var l=null;var h,c,u,d,p,g;for(var m=this._tilesLoaded.length-1;m>=0;m--)if(!((h=(g=this._tilesLoaded[m]).tile).level<=n||h.beingDrawn))if(s){d=h.lastTouchTime;c=s.lastTouchTime;p=h.level;u=s.level;if(d<c||d==c&&p>u){s=h;a=m;l=g}}else{s=h;a=m;l=g}if(s&&a>=0){this._unloadTile(l);o=a}}this._tilesLoaded[o]=new function(t){e.console.assert(t,\"[TileCache.cacheTile] options is required\");e.console.assert(t.tile,\"[TileCache.cacheTile] options.tile is required\");e.console.assert(t.tiledImage,\"[TileCache.cacheTile] options.tiledImage is required\");this.tile=t.tile;this.tiledImage=t.tiledImage}({tile:i.tile,tiledImage:i.tiledImage})},clearTilesFor:function(t){e.console.assert(t,\"[TileCache.clearTilesFor] tiledImage is required\");var i;for(var n=0;n<this._tilesLoaded.length;++n)if((i=this._tilesLoaded[n]).tiledImage===t){this._unloadTile(i);this._tilesLoaded.splice(n,1);n--}},getImageRecord:function(t){e.console.assert(t,\"[TileCache.getImageRecord] cacheKey is required\");return this._imagesLoaded[t]},_unloadTile:function(t){e.console.assert(t,\"[TileCache._unloadTile] tileRecord is required\");var i=t.tile;var n=t.tiledImage;i.unload();i.cacheImageRecord=null;var o=this._imagesLoaded[i.cacheKey];o.removeTile(i);if(!o.getTileCount()){o.destroy();delete this._imagesLoaded[i.cacheKey];this._imagesLoadedCount--}n.viewer.raiseEvent(\"tile-unloaded\",{tile:i,tiledImage:n})}}}(OpenSeadragon);!function(e){e.World=function(t){var i=this;e.console.assert(t.viewer,\"[World] options.viewer is required\");e.EventSource.call(this);this.viewer=t.viewer;this._items=[];this._needsDraw=!1;this._autoRefigureSizes=!0;this._needsSizesFigured=!1;this._delegatedFigureSizes=function(e){i._autoRefigureSizes?i._figureSizes():i._needsSizesFigured=!0};this._figureSizes()};e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(t,i){e.console.assert(t,\"[World.addItem] item is required\");e.console.assert(t instanceof e.TiledImage,\"[World.addItem] only TiledImages supported at this time\");if(void 0!==(i=i||{}).index){var n=Math.max(0,Math.min(this._items.length,i.index));this._items.splice(n,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0;this._needsDraw=!0;t.addHandler(\"bounds-change\",this._delegatedFigureSizes);t.addHandler(\"clip-change\",this._delegatedFigureSizes);this.raiseEvent(\"add-item\",{item:t})},getItemAt:function(t){e.console.assert(void 0!==t,\"[World.getItemAt] index is required\");return this._items[t]},getIndexOfItem:function(t){e.console.assert(t,\"[World.getIndexOfItem] item is required\");return e.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,i){e.console.assert(t,\"[World.setItemIndex] item is required\");e.console.assert(void 0!==i,\"[World.setItemIndex] index is required\");var n=this.getIndexOfItem(t);if(i>=this._items.length)throw new Error(\"Index bigger than number of layers.\");if(i!==n&&-1!==n){this._items.splice(n,1);this._items.splice(i,0,t);this._needsDraw=!0;this.raiseEvent(\"item-index-change\",{item:t,previousIndex:n,newIndex:i})}},removeItem:function(t){e.console.assert(t,\"[World.removeItem] item is required\");var i=e.indexOf(this._items,t);if(-1!==i){t.removeHandler(\"bounds-change\",this._delegatedFigureSizes);t.removeHandler(\"clip-change\",this._delegatedFigureSizes);t.destroy();this._items.splice(i,1);this._figureSizes();this._needsDraw=!0;this._raiseRemoveItem(t)}},removeAll:function(){this.viewer._cancelPendingImages();var e;var t;for(t=0;t<this._items.length;t++){(e=this._items[t]).removeHandler(\"bounds-change\",this._delegatedFigureSizes);e.removeHandler(\"clip-change\",this._delegatedFigureSizes);e.destroy()}var i=this._items;this._items=[];this._figureSizes();this._needsDraw=!0;for(t=0;t<i.length;t++){e=i[t];this._raiseRemoveItem(e)}},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(){var e=!1;for(var t=0;t<this._items.length;t++)e=this._items[t].update()||e;return e},draw:function(){for(var e=0;e<this._items.length;e++)this._items[e].draw();this._needsDraw=!1},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){this._autoRefigureSizes=e;if(e&this._needsSizesFigured){this._figureSizes();this._needsSizesFigured=!1}},arrange:function(t){var i=(t=t||{}).immediately||!1;var n=t.layout||e.DEFAULT_SETTINGS.collectionLayout;var o=t.rows||e.DEFAULT_SETTINGS.collectionRows;var r=t.columns||e.DEFAULT_SETTINGS.collectionColumns;var s=t.tileSize||e.DEFAULT_SETTINGS.collectionTileSize;var a=s+(t.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin);var l;l=!t.rows&&r?r:Math.ceil(this._items.length/o);var h=0;var c=0;var u,d,p,g,m;this.setAutoRefigureSizes(!1);for(var v=0;v<this._items.length;v++){if(v&&v%l==0)if(\"horizontal\"===n){c+=a;h=0}else{h+=a;c=0}g=(p=(d=(u=this._items[v]).getBounds()).width>d.height?s:s*(d.width/d.height))*(d.height/d.width);m=new e.Point(h+(s-p)/2,c+(s-g)/2);u.setPosition(m,i);u.setWidth(p,i);\"horizontal\"===n?h+=a:c+=a}this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null;var i=this._contentSize?this._contentSize.clone():null;var n=this._contentFactor||0;if(this._items.length){var o=this._items[0];var r=o.getBounds();this._contentFactor=o.getContentSize().x/r.width;var s=o.getClippedBounds().getBoundingBox();var a=s.x;var l=s.y;var h=s.x+s.width;var c=s.y+s.height;for(var u=1;u<this._items.length;u++){r=(o=this._items[u]).getBounds();this._contentFactor=Math.max(this._contentFactor,o.getContentSize().x/r.width);s=o.getClippedBounds().getBoundingBox();a=Math.min(a,s.x);l=Math.min(l,s.y);h=Math.max(h,s.x+s.width);c=Math.max(c,s.y+s.height)}this._homeBounds=new e.Rect(a,l,h-a,c-l);this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else{this._homeBounds=new e.Rect(0,0,1,1);this._contentSize=new e.Point(1,1);this._contentFactor=1}this._contentFactor===n&&this._homeBounds.equals(t)&&this._contentSize.equals(i)||this.raiseEvent(\"metrics-change\",{})},_raiseRemoveItem:function(e){this.raiseEvent(\"remove-item\",{item:e})}})}(OpenSeadragon);\n//# sourceMappingURL=openseadragon.min.js.map","// OpenSeadragon SVG Overlay plugin 0.0.5\n\n(function() {\n\n    var $ = window.OpenSeadragon;\n    \n    if (!$) {\n        $ = require('openseadragon');\n        if (!$) {\n            throw new Error('OpenSeadragon is missing.');\n        }\n    }\n\n    var svgNS = 'http://www.w3.org/2000/svg';\n\n    // ----------\n    $.Viewer.prototype.svgOverlay = function() {\n        if (this._svgOverlayInfo) {\n            return this._svgOverlayInfo;\n        }\n\n        this._svgOverlayInfo = new Overlay(this);\n        return this._svgOverlayInfo;\n    };\n\n    // ----------\n    var Overlay = function(viewer) {\n        var self = this;\n\n        this._viewer = viewer;\n        this._containerWidth = 0;\n        this._containerHeight = 0;\n\n        this._svg = document.createElementNS(svgNS, 'svg');\n        this._svg.style.position = 'absolute';\n        this._svg.style.left = 0;\n        this._svg.style.top = 0;\n        this._svg.style.width = '100%';\n        this._svg.style.height = '100%';\n        this._viewer.canvas.appendChild(this._svg);\n\n        this._node = document.createElementNS(svgNS, 'g');\n        this._svg.appendChild(this._node);\n\n        this._viewer.addHandler('animation', function() {\n            self.resize();\n        });\n\n        this._viewer.addHandler('open', function() {\n            self.resize();\n        });\n\n        this._viewer.addHandler('rotate', function(evt) {\n            self.resize();\n        });\n\n        this._viewer.addHandler('resize', function() {\n            self.resize();\n        });\n\n        this.resize();\n    };\n\n    // ----------\n    Overlay.prototype = {\n        // ----------\n        node: function() {\n            return this._node;\n        },\n\n        // ----------\n        resize: function() {\n            if (this._containerWidth !== this._viewer.container.clientWidth) {\n                this._containerWidth = this._viewer.container.clientWidth;\n                this._svg.setAttribute('width', this._containerWidth);\n            }\n\n            if (this._containerHeight !== this._viewer.container.clientHeight) {\n                this._containerHeight = this._viewer.container.clientHeight;\n                this._svg.setAttribute('height', this._containerHeight);\n            }\n\n            var p = this._viewer.viewport.pixelFromPoint(new $.Point(0, 0), true);\n            var zoom = this._viewer.viewport.getZoom(true);\n            var rotation = this._viewer.viewport.getRotation();\n            // TODO: Expose an accessor for _containerInnerSize in the OSD API so we don't have to use the private variable.\n            var scale = this._viewer.viewport._containerInnerSize.x * zoom;\n            this._node.setAttribute('transform',\n                'translate(' + p.x + ',' + p.y + ') scale(' + scale + ') rotate(' + rotation + ')');\n        },\n\n        // ----------\n        onClick: function(node, handler) {\n            // TODO: Fast click for mobile browsers\n\n            new $.MouseTracker({\n                element: node,\n                clickHandler: handler\n            }).setTracking(true);\n        }\n    };\n\n})();\n"],"sourceRoot":""}