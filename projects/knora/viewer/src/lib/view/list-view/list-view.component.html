<div *ngIf="!rerender">
    <kui-progress-indicator *ngIf="isLoading" [color]="'#D88958'"></kui-progress-indicator>

    <mat-list class="list-view" *ngFor="let res of result; let i = index">
        <mat-list-item>
            <mat-icon matListIcon>image_search</mat-icon>
            <h2 matLine class="lv-label">{{ontologyInfo?.getLabelForResourceClass(res.type)}} - {{res.label}}</h2>

            <div matLine *ngFor="let prop of res.properties | kuiKey">
                <div *ngFor="let val of prop.value | kuiKey">
                    <div [ngSwitch]="val.value.getClassName()">

                        <div matLine class="lv-html-text" *ngSwitchCase="KnoraConstants.ReadTextValueAsHtml">
                            <kui-text-value-as-html [valueObject]="val.value" [ontologyInfo]="ontologyInfo" [bindEvents]="false"></kui-text-value-as-html>
                            <!-- <p>The simplest way to make this work would be to remove the max-height CSS from the sidebar box on a click. That would let it instantly expand down to the natural height of all contained paragraphs. Theoretically you could do this with CSS3 and :target, but that's temporary and would cause page jump-downs. We can make it more elegant by using JavaScript and the easy animations of jQuery. The simplest way to make this work would be to remove the max-height CSS from the sidebar box on a click. That would let it instantly expand down to the natural height of all contained paragraphs. Theoretically you could do this with CSS3 and :target, but that's temporary and would cause page jump-downs. We can make it more elegant by using JavaScript and the easy animations of jQuery. The simplest way to make this work would be to remove the max-height CSS from the sidebar box on a click. That would let it instantly expand down to the natural height of all contained paragraphs. Theoretically you could do this with CSS3 and :target, but that's temporary and would cause page jump-downs. We can make it more elegant by using JavaScript and the easy animations of jQuery.</p> -->
                            <p class="lv-read-more"></p>
                        </div>

                        <span matLine>
                            <kui-date-value *ngSwitchCase="KnoraConstants.ReadDateValue" [valueObject]="val.value" [calendar]="true" [era]="true"></kui-date-value>
                            <span *ngSwitchDefault="">{{val.value.getContent()}}</span>
                        </span>
                        <br>
                        <span matLine *ngIf="ontologyInfo?.getLabelForProperty(prop.key) !== 'Text'">
                            {{ontologyInfo?.getLabelForProperty(prop.key)}}
                        </span>
                    </div>
                </div>
            </div>

            <button mat-mini-fab color="primary">
                <mat-icon>chevron_right</mat-icon>
            </button>

        </mat-list-item>

        <mat-divider></mat-divider>

    </mat-list>
</div>

<!-- <div *ngIf="!rerender">
    <kui-progress-indicator *ngIf="isLoading" [color]="'#D88958'"></kui-progress-indicator>

    <mat-accordion>
        <mat-expansion-panel *ngFor="let res of result; let i = index">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    TODO: add preview image of the resource
                    <mat-icon matListIcon>image_search</mat-icon>
                    {{ontologyInfo?.getLabelForResourceClass(res.type)}}
                </mat-panel-title>
                <mat-panel-description>
                    {{res.label}}
                </mat-panel-description>
            </mat-expansion-panel-header>

            content
            <div matLine *ngFor="let prop of res.properties | kuiKey">
                <div *ngFor="let val of prop.value | kuiKey">
                    <div [ngSwitch]="val.value.getClassName()">

                        <span *ngSwitchCase="KnoraConstants.ReadTextValueAsHtml">
                            <kui-text-value-as-html [valueObject]="val.value" [ontologyInfo]="ontologyInfo" [bindEvents]="false"></kui-text-value-as-html>
                        </span>

                        <span>
                            <kui-date-value *ngSwitchCase="KnoraConstants.ReadDateValue" [valueObject]="val.value" [calendar]="true" [era]="true"></kui-date-value>
                            <span *ngSwitchDefault="">{{val.value.getContent()}}</span>
                        </span>
                        <br>
                        <span *ngIf="ontologyInfo?.getLabelForProperty(prop.key) !== 'Text'">
                            {{ontologyInfo?.getLabelForProperty(prop.key)}}
                        </span>
                    </div>
                </div>
            </div>

            <button mat-button color="primary">Read more &rarr;</button>

        </mat-expansion-panel>
    </mat-accordion>
</div> -->