<kui-progress-indicator *ngIf="loading"></kui-progress-indicator>
<div class="resource-view" *ngIf="!error">

    <div *ngIf="!loading && resource">

        <div class="resource">

            <!-- 0) Title first? -->
            <!--             <mat-list>

                <h3 class="mat-subheader">
                    {{sequence.ontologyInformation.getLabelForResourceClass(resource.type)}}
                </h3>

                <mat-list-item>
                    <h2 class="mat-headline">{{resource.label}}</h2>
                </mat-list-item>

            </mat-list> -->

            <!-- 1) show fileRepresentation first-->

            <!-- show file representation -->
            <!-- <div *ngIf="resource.fileRepresentationsToDisplay?.stillImage && resource.fileRepresentationsToDisplay?.stillImage.length > 0"
                 class="media">
                <kui-still-image #kuiStillImage class="osd-viewer"
                                 [images]="resource.fileRepresentationsToDisplay.stillImage">
                </kui-still-image>
            </div> -->
            <!--
                <div [ngSwitch]="resource.fileRepresentationsToDisplay[0].type" class="media">
                    <div *ngSwitchCase="KnoraConstants.StillImageFileValue">
                        <!-- TODO: fix: this shows only the first image, not all stillImages from fileRepresentationsToDisplay --

                        <!-- [imageCaption]="sequence.ontologyInformation.getLabelForProperty(prop.key)" --
                    </div>


                    <div *ngSwitchCase="KnoraConstants.hasMovingImageFileValue" class="media">
                        <kui-moving-image></kui-moving-image>
                    </div>

                    <div *ngSwitchDefault>
                        <p>This media type {{resource.fileRepresentationsToDisplay[0].type}} is not yet implemented</p>
                    </div>
                </div>
                -->



            <!--
            <div *ngFor="let prop of resource.properties | kuiKey">
                <div [ngSwitch]="prop.key">
                    <!-- <p>{{prop.key}}</p> -->

            <!-- <div *ngSwitchCase="KnoraConstants.hasStillImageFileValue" class="media"> -->
            <!-- if the property is of type stillImageFileValue, show the image with osd viewer from @knora/viewer TODO: the fileValue will be part of an own resource property -->


            <!-- </div> -->


            <!-- TODO: switch through all other media type -->
            <!--
                    <kui-moving-image></kui-moving-image>
                    <kui-audio></kui-audio>
                    <kui-ddd></kui-ddd>
                    <kui-document></kui-document>

                    <kui-collection></kui-collection>

                    <kui-annotation></kui-annotation>
                    <kui-link-obj></kui-link-obj>
                    <kui-object></kui-object>
                    <kui-region></kui-region>
                    <kui-text></kui-text>
                    -->
            <!--
                    <div *ngSwitchDefault>
                        <p>This media type ({{prop.key}}) is not yet implemented</p>
                    </div>
                </div>
            </div>
            -->
            <!-- 2) show properties, annotations (list of regions, sequences etc.), incomming resources (links, files) -->
            <mat-tab-group animationDuration="0ms" class="full-width data">
                <!-- first tab for the main resource e.g. book -->
                <mat-tab [label]="resource.entityInfo?.classes[resource.type].label">
                    <!-- TODO: [guiOrder]="guiOrder" /  [ontologyInfo]="resource.entityInfo" is missing? couldn't find yet -->
                    <kui-properties-view [properties]="resource?.properties" [entityInfo]="resource?.entityInfo"
                                         [incomingLinks]="resource?.incomingReferences">
                    </kui-properties-view>
                </mat-tab>
                <!-- TODO: second tab for a "part-of"-resource e.g. book page -->

                <!-- TODO: incoming file representations are missing; or could not find it yet -->

                <!--
                <mat-tab *ngIf="resource.incomingFileRepresentations.length > 0 && currentResource"
                         [label]="sequence.ontologyInformation.getLabelForResourceClass(currentResource.type)">
                    <kui-properties-view [properties]="currentResource?.properties"
                                         [guiOrder]="sequence.ontologyInformation.getResourceClasses()[currentResource.type].guiOrder"
                                         [ontologyInfo]="sequence.ontologyInformation">
                    </kui-properties-view>
                    <!--
                    <kui-properties-view [properties]="resource.incomingFileRepresentations[0].resource.properties"
                                         [guiOrder]="sequence.ontologyInformation.getResourceClasses()[resource.incomingFileRepresentations[0].type].guiOrder"
                                         [ontologyInfo]="sequence.ontologyInformation"
                                         [incomingLinks]="resource.incomingFileRepresentations[0].incomingLinks">
                    </kui-properties-view>
                -->
                <!-- </mat-tab> -->
                -->
                <!-- TODO: third tab for a "region"-resource -->
            </mat-tab-group>




            <!-- in case of more than one resource -->
            <!-- <mat-divider *ngIf="!last"></mat-divider> -->

        </div>

    </div>
</div>

<!-- in case of an error show the following message -->
<div class="resource-view error content large middle" *ngIf="error">
    <kui-message *ngIf="error" [message]="error" [medium]="true"></kui-message>
</div>
