<!-- <mat-form-field *ngIf="listRootNode !== undefined">
    <mat-select placeholder="List Value" [formControl]="form.controls['listValue']">

        <mat-option [value]="undefined">
            No Selection
        </mat-option>
        <mat-option *ngFor="let child of listRootNode.children" [value]="child">
            {{child.label}}
        </mat-option>
    </mat-select>

    <span *ngIf="activeNode !== undefined && activeNode.children.length > 0">
        <list-display [listNode]="activeNode" [formGroup]="form"></list-display>
    </span>
</mat-form-field> -->

<span *ngIf="listRootNode !== undefined">
    <button mat-stroked-button [matMenuTriggerFor]="mainMenu">
        <span *ngIf="!selectedNode">Select list value</span>
        <span *ngIf="selectedNode">{{selectedNode.label}}</span>
    </button>
    <!-- <list-display #menu [children]="listRootNode?.children" (selectedNode)="getSelectedNode($event)"></list-display> -->
    <mat-menu #mainMenu="matMenu" [overlapTrigger]="false">
        <span *ngFor="let child of listRootNode.children">
            <span *ngIf="child.children && child.children.length > 0">
                <button mat-menu-item [matMenuTriggerFor]="menu.childMenu" (click)="getSelectedNode(child)">
                    {{child.label}}
                </button>
                <list-display #menu [children]="child.children" (selectedNode)="getSelectedNode($event)">
                </list-display>
            </span>

            <span *ngIf="!child.children || child.children.length === 0">
                <button mat-menu-item (click)="getSelectedNode(child)">
                    {{child.label}}
                </button>
            </span>
        </span>
    </mat-menu>
</span>

<mat-form-field *ngIf="selectedNode !== undefined">
    <input matInput [formControl]="form.controls['listValue']" placeholder="text value" [value]="selectedNode.id">
</mat-form-field>
